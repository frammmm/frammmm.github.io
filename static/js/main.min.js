!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={7:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){var promises=[],installedChunkData=installedChunks[chunkId];if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise(function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]});promises.push(installedChunkData[2]=promise);var onScriptComplete,script=document.createElement("script");script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.src=function(chunkId){return __webpack_require__.p+""+({0:"filter-search~map-search",1:"chunks",2:"filter",3:"filter-search",4:"inputmask",5:"item-card",6:"landings-zhk",8:"map-search",9:"select",10:"tooltip",11:"vendors~inputmask",13:"vendors~select",14:"vendors~tooltip"}[chunkId]||chunkId)+".min.js"}(chunkId),onScriptComplete=function(event){script.onerror=script.onload=null,clearTimeout(timeout);var chunk=installedChunks[chunkId];if(0!==chunk){if(chunk){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src,error=new Error("Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")");error.type=errorType,error.request=realSrc,chunk[1](error)}installedChunks[chunkId]=void 0}};var timeout=setTimeout(function(){onScriptComplete({type:"timeout",target:script})},12e4);script.onerror=script.onload=onScriptComplete,document.head.appendChild(script)}return Promise.all(promises)},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/build-redesign/static/js/",__webpack_require__.oe=function(err){throw err};var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([213,12]),checkDeferredModules()}({103:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(8),__webpack_require__(2),__webpack_require__(26),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5);var axios=__webpack_require__(15),axios_default=__webpack_require__.n(axios),adv_slider=__webpack_require__(146),modal=__webpack_require__(106),createAdvItem_createAdvItem=(__webpack_require__(89),function(data,wrapper,metrika){var itemWrapper=wrapper;wrapper||((itemWrapper=document.createElement("div")).className="col col_xs-4 col_sm-6 col_lg-3");var complex=document.createElement("div");complex.className="adv-complex-n-2",complex.setAttribute("data-id",data.id);var complexImageWrapper=document.createElement("div");complexImageWrapper.className="adv-complex-n-2__image-wrapper";var complexImage=document.createElement("img");complexImage.className="adv-complex-n-2__image lazy";var imageSrc=data.image instanceof Array?data.image[0]:data.image;complexImage.setAttribute("data-src",imageSrc);var complexOrderCall=document.createElement("button");complexOrderCall.className="adv-complex-n-2__order-call",complexOrderCall.setAttribute("type","button"),complexOrderCall.setAttribute("data-target","#modal-callback-right"),complexOrderCall.setAttribute("data-toggle","modal-n-2"),complexOrderCall.setAttribute("data-form","data-form"),complexOrderCall.setAttribute("data-form-adv",data.id),complexOrderCall.setAttribute("data-form-title","С Вами свяжется менеджер ЖК ".concat(data.building_name)),complexOrderCall.innerHTML='\n    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path>\n    </svg>\n    <span class="adv-complex-n-2__order-call-text">Заказать звонок</span>\n  ';var complexContent=document.createElement("a");complexContent.className="adv-complex-n-2__content",complexContent.href=data.link,metrika&&complexContent.setAttribute("onclick",metrika);var complexLink=document.createElement("div");complexLink.className="adv-complex-n-2__link",complexLink.innerHTML='\n    Реклама\n    <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.49997 0H10.5C10.7761 0 11 0.223877 11 0.5V4.5C11 4.77612 10.7761 5 10.5 5C10.2238 5 10 4.77612 10 4.5V1.70709L4.85355 6.85352C4.75592 6.95123 4.62793 7 4.49997 7C4.37201 7 4.24405 6.95117 4.14645 6.85358C3.95117 6.65826 3.95117 6.34174 4.14645 6.14648L9.29288 1H6.49997C6.22385 1 5.99997 0.776123 5.99997 0.5C5.99997 0.223877 6.22385 0 6.49997 0ZM7.99997 5.5C7.99997 5.22388 8.22385 5 8.49997 5C8.77612 5 8.99997 5.22388 9 5.5V10.5C9 10.7761 8.77612 11 8.5 11H0.5C0.223877 11 0 10.7761 0 10.5V2.5C0 2.22388 0.223877 2 0.5 2H5.5C5.77612 2 6 2.22382 6 2.5C6 2.77612 5.77612 3 5.5 3H1V10H7.99997V5.5Z" fill="#A9B7C7"></path>\n    </svg>\n  ';var string,el,complexTitle=document.createElement("div");complexTitle.className="adv-complex-n-2__title",complexTitle.textContent=(string=data.name,(el=document.createElement("textarea")).innerHTML=string,el.value);var complexDescription=document.createElement("div");return complexDescription.className="adv-complex-n-2__description",complexDescription.innerText=data.text,complexImageWrapper.appendChild(complexImage),complexImageWrapper.appendChild(complexOrderCall),complexContent.appendChild(complexLink),complexContent.appendChild(complexTitle),complexContent.appendChild(complexDescription),complex.appendChild(complexImageWrapper),complex.appendChild(complexContent),itemWrapper.appendChild(complex),itemWrapper});function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"a",function(){return adv_complex_create_AdvComplexCreate});var adv_complex_create_AdvComplexCreate=function(){function AdvComplexCreate(elements,tgbLength){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(instance,Constructor){if(!(instance instanceof AdvComplexCreate))throw new TypeError("Cannot call a class as a function")}(this),this.elements=elements;var callback=options.callback;this.callback=callback;var jsSliderShowed=[];void 0!==window.slider_showed&&(jsSliderShowed=window.slider_showed),this.initTgb(0,jsSliderShowed,[],tgbLength)}return _createClass(AdvComplexCreate,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.addEventListener("load",function(){var customClass=options.customClass,elements=_toConsumableArray(container.querySelectorAll(customClass||".adv-slider-wrapper-n-2:not([data-manual-init]"));if(elements.length)return new AdvComplexCreate(elements,elements.length,options)})}}]),_createClass(AdvComplexCreate,[{key:"initTgb",value:function(start,showedTgb,showedTgbElement,tgbLength){var _this=this,container=this.elements[start],params={type:container.getAttribute("data-type"),promo:container.getAttribute("data-promo"),geocode:container.getAttribute("data-geocode"),sort:container.getAttribute("data-sort"),limit:container.getAttribute("data-limit"),orientation:container.getAttribute("data-orientation"),finder:container.getAttribute("data-finder"),metrika_goal:container.getAttribute("data-metrika-goal"),showed:showedTgb,showed_element:showedTgbElement,tgb_promo:container.getAttribute("data-tgb-promo")};axios_default.a.get("tgb.json",{params:params,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){var data=response.data;start++;var tgbId=Math.ceil(1e4*Math.random());if(data.tgb){var sortedTgb=_this.fetchedOnce?data.tgb:data.tgb.sort(function(a,b){return a.promo&&b.promo?0:a.promo?-1:1});if(start<tgbLength&&(data.showed&&showedTgb.push.apply(showedTgb,_toConsumableArray(data.showed)),data.showed_element&&showedTgbElement.push.apply(showedTgbElement,_toConsumableArray(data.showed_element)),_this.initTgb(start,showedTgb,showedTgbElement,tgbLength)),tgbId.toString(),_this.tgbSlider=document.createElement("div"),_this.tgbSlider.className="adv-slider-n-2",container.appendChild(_this.tgbSlider),"vertical"!==params.orientation&&(_this.tgbSlider.classList.add("swiper-container"),_this.tgbSlider.classList.add("swiper-container-horizontal"),_this.tgbSlider.classList.add("adv-slider-n-2-tgb-".concat(tgbId)),_this.tgbSliderWrapper=document.createElement("div"),_this.tgbSliderWrapper.className="swiper-wrapper",_this.tgbSlider.appendChild(_this.tgbSliderWrapper)),sortedTgb.forEach(function(el,index){_this.metrikaAction="",params.metrika_goal&&(_this.metrikaAction='ym(39897405, "reachGoal", "tgb_goal", { "tgb_name": "'.concat(el.name,'" });'));var wrapper=document.createElement("div");if(wrapper.className="adv-slider-n-2__item",wrapper.id=el.id,"vertical"!==params.orientation)wrapper.classList.add("swiper-slide");else if(index+1>params.limit)return;var item=createAdvItem_createAdvItem(el,wrapper,_this.metrikaAction);"vertical"===params.orientation?_this.tgbSlider.appendChild(item):_this.tgbSliderWrapper.appendChild(item)}),"vertical"!==params.orientation){var sliderPrevButton=document.createElement("div");sliderPrevButton.className="swiper-button-prev",sliderPrevButton.innerHTML='\n              <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"></path>\n              </svg>\n            ';var sliderNextButton=document.createElement("div");sliderNextButton.className="swiper-button-next",sliderNextButton.innerHTML='\n              <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"></path>\n              </svg>\n            ',container.appendChild(sliderPrevButton),container.appendChild(sliderNextButton),new adv_slider.a(_this.tgbSlider)}}_this.fetchedOnce=!0}).then(function(){modal.a.init({container:_this.tgbSlider,triggersSelector:'[data-toggle="modal-n-2"]'}),window.lazyloadInstance&&window.lazyloadInstance.update(),_this.callback instanceof Function&&_this.callback()})}}]),AdvComplexCreate}()},106:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Modal}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(20),__webpack_require__(45),__webpack_require__(8),__webpack_require__(2),__webpack_require__(58),__webpack_require__(59),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5);var _static_js_vendor_bootstrap_modal__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(57);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var defaultOptions={container:document,triggersSelector:".modal-n-2",modal:{}},Modal=function(){var Constructor,staticProps;function Modal(element,options){!function(instance,Constructor){if(!(instance instanceof Modal))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.modal=new _static_js_vendor_bootstrap_modal__WEBPACK_IMPORTED_MODULE_14__.a.Modal(this.element,options.modal||{}),this.element.Modal=this.modal}return Constructor=Modal,staticProps=[{key:"init",value:function(){var arr,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultOptions;return(arr=(options=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({},defaultOptions,options)).container.querySelectorAll(options.triggersSelector),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).forEach(function(element){element.Modal||new Modal(element,options)})}}],null&&_defineProperties(Constructor.prototype,null),staticProps&&_defineProperties(Constructor,staticProps),Modal}()},110:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return getParamsFromUrl}),__webpack_require__.d(__webpack_exports__,"b",function(){return formatTextEndingByNumber}),__webpack_require__.d(__webpack_exports__,"a",function(){return createItem}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(20),__webpack_require__(46),__webpack_require__(11),__webpack_require__(26),__webpack_require__(37),__webpack_require__(89),__webpack_require__(9);var getParamsFromUrl=function(url){var vars={};return url.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value}),vars},formatTextEndingByNumber=function(number,root,endings){return(number=Math.abs(number)%100)>4&&number<21||(number%=10)>4||0===number?root+endings[0]:number>1?root+endings[1]:root+endings[2]},createItem=function(data,wrapper){var icons={recommended:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="0 0 12 13"><path fill="" d="M.01 3.41c0-.72.26-1.3.78-1.74A3 3 0 0 1 2.82 1c.85 0 1.53.22 2.04.66.52.44.78 1.04.78 1.79v.58c0 .72-.26 1.3-.78 1.73-.51.44-1.19.66-2.02.66-.85 0-1.53-.22-2.05-.66a2.22 2.22 0 0 1-.78-1.78zm1.71.63c0 .32.1.58.3.77.21.2.48.3.82.3.33 0 .6-.1.79-.3.2-.2.3-.47.3-.8v-.6c0-.32-.1-.58-.3-.78-.2-.2-.47-.3-.81-.3-.33 0-.6.1-.8.3-.2.2-.3.47-.3.82zm4.63 6.93c0-.72.26-2.3.79-2.74.52-.44 1.2-.66 2.02-.66.85 0 1.53.21 2.05.65.52.43.78 1.03.78 1.8v.57c0 .72-.26 1.3-.77 1.74a3 3 0 0 1-2.04.66c-.85 0-1.54-.22-2.05-.67-.52-.44-.78-.03-.78-.76zm1.71-.37c0 .3.1.55.32.76.22.21.48.31.8.31.73 0 1.09-.36 1.09-1.08v-.61c0-.33-.1-.59-.3-.78-.2-.2-.47-.3-.8-.3-.34 0-.6.1-.8.3-.2.2-.3.46-.3.8zm2.68-8.76l-1.25-.6-8.33 11.1 1.25.62z"/></svg>',mortgage:'<svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 9.1L8 3.1L2 9.1V15C2 15.6 2.4 16 3 16H8.1C8.5 17.1 10.1 17.9 12 17.9C14.2 17.9 16 16.8 16 15.4C16 15 15.9 14.7 15.7 14.4C15.9 14.1 16 13.8 16 13.4C16 13 15.9 12.7 15.7 12.4C15.9 12.1 16 11.8 16 11.4C16 10.5 15.2 9.7 13.9 9.2V9.1H14ZM12.1 16.9C10.8 16.9 9.8 16.5 9.4 15.9C9.3 15.8 9.2 15.6 9.2 15.4C9.2 15.3 9.2 15.2 9.3 15.1C10 15.6 11.1 15.9 12.2 15.9C12.8 15.9 13.3 15.8 13.8 15.7C14.3 15.6 14.8 15.3 15.1 15.1C15.2 15.2 15.2 15.3 15.2 15.4C15 16.1 13.8 16.9 12.1 16.9ZM15 13.7C14.9 13.9 14.6 14.2 14.2 14.4L14 14.5C13.5 14.7 12.8 14.9 12.1 14.9C11.2 14.9 10.5 14.7 10 14.4C9.6 14.2 9.4 14 9.2 13.7C9.2 13.6 9.1 13.5 9.1 13.4C9.1 13.3 9.1 13.2 9.2 13.1C10.1 13.6 11.1 13.9 12.1 13.9C13.1 13.9 14.1 13.6 15 13.1C15 13.2 15.1 13.3 15.1 13.4C15.1 13.5 15 13.6 15 13.7ZM15 11.8C14.9 12 14.6 12.3 14.2 12.5H14C13.5 12.7 12.8 12.9 12.1 12.9C11.2 12.9 10.5 12.7 10 12.4C9.6 12.2 9.4 12 9.2 11.7C9.2 11.6 9.1 11.5 9.1 11.4C9.1 10.7 10.4 9.9 12.1 9.9C12.8 9.9 13.5 10.1 14 10.3C14.6 10.6 15.1 11 15.1 11.4C15 11.6 15 11.7 15 11.8ZM15.7 7.3L8.7 0.3C8.3 -0.1 7.7 -0.1 7.3 0.3L0.3 7.3C0.1 7.5 0 7.8 0 8L1.1 9L8 2L15 9L16 8C16 7.8 15.9 7.5 15.7 7.3Z" fill="white"></path></svg>',installment:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.99518 1.66672C5.39102 1.66672 1.66602 5.39588 1.66602 10.0001C1.66602 14.6042 5.39102 18.3334 9.99518 18.3334C14.5993 18.3334 18.3327 14.6042 18.3327 10.0001C18.3327 5.39588 14.5993 1.66672 9.99518 1.66672ZM9.99935 16.6667C6.31602 16.6667 3.33268 13.6834 3.33268 10.0001C3.33268 6.31672 6.31602 3.33338 9.99935 3.33338C13.6827 3.33338 16.666 6.31672 16.666 10.0001C16.666 13.6834 13.6827 16.6667 9.99935 16.6667Z" fill="white"></path><path d="M10.416 5.83328H9.16602V10.8333L13.5368 13.4583L14.166 12.4333L10.416 10.2083V5.83328Z" fill="white"></path></svg>',favorite:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 21 19" fill="none"><path d="M9.64174 3.63033C9.8224 3.93176 10.148 4.11624 10.4994 4.11625C10.8509 4.11626 11.1765 3.93181 11.3572 3.63039C12.6037 1.55098 14.2477 0.889229 15.6855 1.01486C17.1737 1.14489 18.6267 2.1317 19.4119 3.71787C20.184 5.27743 20.323 7.46301 19.0482 9.96824C17.8062 12.409 15.2046 15.174 10.4995 17.8537C5.79482 15.1741 3.19353 12.409 1.95168 9.96828C0.67701 7.46304 0.816073 5.27744 1.58806 3.71785C2.37321 2.13166 3.82614 1.14488 5.31414 1.01485C6.7517 0.889237 8.39547 1.55093 9.64174 3.63033Z" stroke="#BFC9D5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',compare:'<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.17358 0C4.06909 0 3.17358 0.895416 3.17358 2V3.78262H2C0.895508 3.78262 0 4.67807 0 5.78262V15C0 16.1046 0.895508 17 2 17H11.2173C12.322 17 13.2173 16.1046 13.2173 15V13.8261H14.9998C16.1042 13.8261 16.9998 12.9307 16.9998 11.8261V2C16.9998 0.895416 16.1042 0 14.9998 0H5.17358ZM13.2173 11.8261H14.9998V2H5.17358V3.78262H11.2173C12.322 3.78262 13.2173 4.67804 13.2173 5.78262V11.8261ZM2 5.78262H11.2173V15H2V5.78262Z" fill="#071321"></path></svg>',phone:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path></svg>'},itemWrapper=wrapper;wrapper||((itemWrapper=document.createElement("div")).className="col col_xs-4 col_sm-6 col_lg-3");var complex=document.createElement("div");complex.className="complex-item-n-2",complex.setAttribute("data-id",data.id),data.telNumber&&complex.classList.add("complex-item-n-2_with-phone");var preview=document.createElement("div");preview.className="complex-item-n-2__preview";var slider=document.createElement("div");slider.className="complex-item-slider swiper-container";var complexLink=document.createElement("a");if(complexLink.className="complex-item-slider__link",complexLink.href=data.link,slider.appendChild(complexLink),data.image&&Array.isArray(data.image)){var slidesWrapper=document.createElement("div");slidesWrapper.className="swiper-wrapper",data.image.forEach(function(image){var slide=document.createElement("div");slide.className="complex-item-slider__slide swiper-slide";var slideImage=document.createElement("img");slideImage.src=image,slide.appendChild(slideImage),slidesWrapper.appendChild(slide)}),slider.appendChild(slidesWrapper),slider.innerHTML+='\n      <div class="complex-item-slider__arrow complex-item-slider__arrow_prev">\n          <i class="fa fa-angle-left"></i>\n      </div>\n      <div class="complex-item-slider__arrow complex-item-slider__arrow_next">\n          <i class="fa fa-angle-right"></i>\n      </div>\n    '}if(preview.appendChild(slider),data.recommended||data.mortgage||data.installment||data.action){var labelsWrapper=document.createElement("div");labelsWrapper.className="complex-item-n-2__info-labels";var labelNames=[];data.recommended&&labelNames.push("recommended"),data.mortgage&&labelNames.push("mortgage"),data.action&&labelNames.push("action"),data.installment&&labelNames.push("installment"),[].concat(labelNames).forEach(function(label){var labelItem=document.createElement("div");labelItem.className="info-label-n-2 info-label-n-2_".concat(label,"  "),labelItem.setAttribute("data-tip",data[label]),labelItem.setAttribute("data-style",label),labelItem.innerHTML=icons[label],labelsWrapper.appendChild(labelItem)}),preview.appendChild(labelsWrapper)}complex.appendChild(preview);var controlsBlock=document.createElement("div");controlsBlock.className="complex-item-n-2__controls",controlsBlock.innerHTML='\n    <div class="complex-item-n-2__control">\n      <div class="manage-complex-btn-n-2"\n        data-tip="Добавить в избранное"\n        data-id="'.concat(data.id,'"\n        data-type="').concat(data.type,'"\n        data-favorite="">\n        ').concat(icons.favorite,'\n      </div>\n    </div>\n    <div class="complex-item-n-2__control">\n      <div class="manage-complex-btn-n-2"\n        data-tip="Добавить в сравнение"\n        data-id="').concat(data.id,'"\n        data-type="').concat(data.type,'"\n        data-compare-n-2="">\n        ').concat(icons.compare,"\n      </div>\n    </div>\n  "),complex.appendChild(controlsBlock);var bodyBlock=document.createElement("div");if(bodyBlock.className="complex-item-n-2__body",bodyBlock.innerHTML='\n    <div class="complex-item-n-2__name">\n      <a class="complex-item-n-2__name-link" href="'.concat(data.link,'" target="_blank">').concat(data.name,'</a>\n    </div>\n    <div class="complex-item-n-2__info">\n      <div class="complex-item-n-2__price-block">\n        <div class="complex-item-n-2__total-price">').concat(data.price?data.price:"",'</div>\n        <div class="complex-item-n-2__price-per-square">').concat(data.priceM?data.priceM:"",'</div>\n      </div>\n      <div class="complex-item-n-2__data">\n        <div class="complex-item-n-2__location">\n          <a href="#" class="location-link">').concat(data.locationCity?data.locationCity:"",'</a>\n        </div>\n        <div class="complex-item-n-2__time">Срок ввода:<span>  ').concat(data.dedline,'</span></div>\n        <div class="complex-item-n-2__provider">\n          <span>Застройщик:</span> \n          ').concat(data.developers?data.developers.map(function(developer){return'<a class="complex-item-n-2__provider-link" href="'.concat(developer.link,'" target="_blank">').concat(developer.name,"</a>")}).join(",&nbsp"):"",'\n          <div class="complex-item-n-2__reviews">\n            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M16.5 3H4.5C3.675 3 3 3.675 3 4.5V18L6 15H16.5C17.325 15 18 14.325 18 13.5V4.5C18 3.675 17.325 3 16.5 3Z" stroke="#071321" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n              <path d="M6 7H15" stroke="#071321" stroke-width="2"></path>\n              <path d="M6 11H15" stroke="#071321" stroke-width="2"></path>\n            </svg>\n            <a class="complex-item-n-2__reviews-link" href="').concat(data.link?"".concat(data.link,"#object-reviews"):"#",'" target="_blank">').concat(data.reviewsTotal?"".concat(data.reviewsTotal+" ".concat(formatTextEndingByNumber(data.reviewsTotal,"отзыв",["ов","","а"]))):"0 отзывов","</a>\n          </div>            \n        </div>\n        ").concat(data.metroString?data.metroString:"","\n        ").concat(data.description?'<div class="complex-item-n-2__description">'.concat(data.description,'<a class="complex-item-n-2__description-link" href="').concat(data.link,'#object-description" target="_blank">Читать далее</a></div>'):"","\n      </div>\n    </div>\n  "),data.offers&&data.offers.length>0){var offersBlock=document.createElement("div");offersBlock.className="complex-item-n-2__offers";var offersList=document.createElement("ul");offersList.className="complex-item-n-2__offers-list",data.offers.forEach(function(offer){var offerItem=document.createElement("li");offerItem.className="complex-item-n-2__offers-list-item",offerItem.innerHTML='\n        <span class="complex-item-n-2__offers-list-item-name" href="#">'.concat(offer.name," от ").concat(offer.area," ").concat(offer.unit,'</span>\n        <span class="dots-filler"></span>\n        <span class="complex-item-n-n2__offers-list-item-price">').concat(offer.price,"</span>\n      "),offersList.appendChild(offerItem)}),offersBlock.appendChild(offersList),bodyBlock.appendChild(offersBlock)}if(complex.appendChild(bodyBlock),data.telNumber){var phoneBlock=document.createElement("div");phoneBlock.className="complex-item-n-2__phone",phoneBlock.innerHTML='\n      <a class="phone-number-n-2" data-tel="'.concat(data.telNumber,'"\n        onclick="ym(39897405, \'reachGoal\', Click_phone\');">\n        <div class="phone-number-n-2__icon">\n          ').concat(icons.phone,'\n        </div>\n        <div class="phone-number-n-2__number">\n          +7 <span>Показать телефон</span>\n        </div>\n      </a>\n    '),complex.appendChild(phoneBlock)}return itemWrapper.appendChild(complex),itemWrapper}},111:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SearchInput}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(8),__webpack_require__(39),__webpack_require__(2),__webpack_require__(3),__webpack_require__(90),__webpack_require__(7),__webpack_require__(4),__webpack_require__(159),__webpack_require__(9),__webpack_require__(5);var axios__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(15),axios__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_13__),_helpers__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(155);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SearchInput=function(){function SearchInput(element){!function(instance,Constructor){if(!(instance instanceof SearchInput))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.input=element.querySelector("input"),this.inputType=element.getAttribute("data-search-type"),this.searchUrl=element.getAttribute("data-search-url"),this.tips=element.querySelector(".search-input__tips"),this.tipsDetailed=element.getAttribute("data-detailed-tips"),this.tipsUrl=element.getAttribute("data-search-url")||"/ajax/text_search_new_buildings.php",this.bindEvents()}return _createClass(SearchInput,null,[{key:"init",value:function(){return _toConsumableArray(document.querySelectorAll(".js-search-input")).forEach(function(el){return new SearchInput(el)})}}]),_createClass(SearchInput,[{key:"bindEvents",value:function(){var _this=this;this.input&&(this.input.addEventListener("blur",function(){_this.closeTipsList()}),this.input.addEventListener("input",function(event){if(""===event.target.value)return _this.closeTipsList();_this.openTipsList(event),_this.debouncedRequest()}))}},{key:"closeTipsList",value:function(){var _this2=this;this.tips.classList.add("filter-popup-hide-n-2"),setTimeout(function(){_this2.tips.style.display="none"},50)}},{key:"openTipsList",value:function(){var _this3=this;this.tips.style.display="",setTimeout(function(){_this3.tips.classList.remove("filter-popup-hide-n-2")},10)}},{key:"handleTipClick",value:function(value){this.input.value=value;var event=document.createEvent("HTMLEvents");event.initEvent("change",!0),this.input.dispatchEvent(event)}},{key:"debouncedRequest",value:function(){var _this4=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){_this4.requestTips()},500)}},{key:"requestTips",value:function(){var _this5=this,searchQuery=this.input.value;if(""!==searchQuery)return axios__WEBPACK_IMPORTED_MODULE_13___default.a.get(this.tipsUrl,{params:{q:searchQuery,t:this.inputType}}).then(function(_ref){var data=_ref.data;_this5.renderTips(searchQuery,data)})}},{key:"renderTips",value:function(query,data){var _this6=this,tips=[];0!==data.length&&data.forEach(function(item){tips.push({substring:_helpers__WEBPACK_IMPORTED_MODULE_14__.a.longestCommonSubstring(query,item.label)||"",label:item.label,type:item.type_name})}),tips.sort(function(a,b){return a.substring.length<b.substring.length?1:-1}),this.tips.innerHTML="",tips.forEach(function(tip){return _this6.tips.appendChild(function(tip){var namePart="";if(""!==tip.substring){var subtringStartIndex=tip.label.search(new RegExp(RegExp.escape(tip.substring),"i"));_toConsumableArray(tip.label).forEach(function(char,index){index===subtringStartIndex?(namePart+="<strong>"+char,1===tip.substring.length&&(namePart+="</strong>")):index===subtringStartIndex+tip.substring.length-1?namePart+=char+"</strong>":namePart+=char})}else namePart=tip.label;var tipContainer=document.createElement("div");tipContainer.className="tip";var nameContainer=document.createElement("span");if(nameContainer.className="tip__name",nameContainer.innerHTML=namePart,tipContainer.appendChild(nameContainer),!["false",!1].includes(_this6.tipsDetailed)){var typeContainer=document.createElement("span");typeContainer.className="tip__type",typeContainer.innerHTML='<span class="tip__type">, '.concat(tip.type,"</span>"),tipContainer.appendChild(typeContainer)}return tipContainer.addEventListener("mousedown",function(){return _this6.handleTipClick(tip.label)}),tipContainer}(tip))}),this.openTipsList()}}]),SearchInput}()},112:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getFullscreenControl});var getFullscreenControl=function(ymaps,position){var fullscreenLayout=ymaps.templateLayoutFactory.createClass('\n    <div class="fullscreen-control">\n      <button id="ymaps-fullscreen" class="ymaps-control__button">\n        [if state.fullscreen] \n          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <polyline points="4 14 10 14 10 20"></polyline>\n            <polyline points="20 10 14 10 14 4"></polyline>\n            <line x1="14" y1="10" x2="21" y2="3"></line>\n            <line x1="3" y1="21" x2="10" y2="14"></line>\n          </svg>\n        [else]\n          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <polyline points="15 3 21 3 21 9"></polyline>\n            <polyline points="9 21 3 21 3 15"></polyline>\n            <line x1="21" y1="3" x2="14" y2="10"></line>\n            <line x1="3" y1="21" x2="10" y2="14"></line>\n          </svg>\n        [endif]\n      </button>\n    </div>');return new ymaps.control.FullscreenControl({options:{layout:fullscreenLayout,position:position}})}},113:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return Observer}),__webpack_require__(45),__webpack_require__(9);var Observer=function(){function Observer(){!function(instance,Constructor){if(!(instance instanceof Observer))throw new TypeError("Cannot call a class as a function")}(this),this.observers=[]}var Constructor,protoProps;return Constructor=Observer,(protoProps=[{key:"subscribe",value:function(fn){this.observers.push(fn)}},{key:"unsubscribe",value:function(fn){this.observers=this.observers.filter(function(subscriber){return subscriber!==fn})}},{key:"broadcast",value:function(data){this.observers.forEach(function(subscriber){return subscriber(data)})}}])&&_defineProperties(Constructor.prototype,protoProps),Observer}()},146:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AdvSlider});var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0__),AdvSlider=function AdvSlider(element){!function(instance,Constructor){if(!(instance instanceof AdvSlider))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.swiper=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0___default.a(element,{slidesPerView:4,spaceBetween:24,initialSlide:1,loop:!0,observer:!0,observeParents:!0,navigation:{nextEl:element.nextElementSibling.nextElementSibling,prevEl:element.nextElementSibling},breakpoints:{1311:{slidesPerView:4,spaceBetween:16},1023:{slidesPerView:2,spaceBetween:20},767:{slidesPerView:1}}})}},152:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"a",function(){return SwitchableButton}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(8),__webpack_require__(2),__webpack_require__(11),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5);var SwitchableButton=function(){function SwitchableButton(element){!function(instance,Constructor){if(!(instance instanceof SwitchableButton))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.content={initial:this.element.querySelector(".button-n-2__content_initial"),hidden:this.element.querySelector(".button-n-2__content_hidden")},this.onClick=this.onClick.bind(this),this.element.addEventListener("click",this.onClick)}return _createClass(SwitchableButton,null,[{key:"init",value:function(){return(arr=document.querySelectorAll(".button-n-2_switchable"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(button){return new SwitchableButton(button)});var arr}}]),_createClass(SwitchableButton,[{key:"onClick",value:function(event){event.preventDefault(),this.content.initial.style.display="none",this.content.hidden.style.display="block",this.element.classList.contains("button-n-2_type_phone")&&window.ym&&window.ym(39897405,"reachGoal","show_telephone"),this.element.removeEventListener("click",this.onClick)}}]),SwitchableButton}()},153:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MainSlider}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(20),__webpack_require__(8),__webpack_require__(2),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5);var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(17),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var MainSlider=function(){function MainSlider(element){!function(instance,Constructor){if(!(instance instanceof MainSlider))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.container=element.querySelector(".main-slider-n-2__container"),this.closeButton=element.querySelector(".main-slider-n-2__close button"),this.swiper=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default.a(this.container,{slidesPerView:1,speed:500,longSwipes:!1,effect:"fade",simulateTouch:!1,autoplay:{delay:3e3},pagination:{el:".swiper-pagination",type:"fraction",renderFraction:function(currentClass,totalClass){return'<span class="'.concat(currentClass,' main-slider-n-2__pagination-current"></span>\n                    <span class="').concat(totalClass,' main-slider-n-2__pagination-total"></span>')},formatFractionCurrent:function(number){return number<10?"0".concat(number):number},formatFractionTotal:function(number){return number<10?"0".concat(number):number}},lazy:{loadPrevNext:!0}}),this.classNames=[".rounded-tag",".main-slide-n-2__developer",".main-slide-n-2__title",".main-slide-n-2__description",".main-slide-n-2__order-call-button"],this.animation(),this.bindHandlers()}return _createClass(MainSlider,null,[{key:"init",value:function(){var element=document.querySelector(".main-slider-n-2");element&&new MainSlider(element)}}]),_createClass(MainSlider,[{key:"animationChange",value:function(){var currentSlide=this.swiper.slides[this.swiper.realIndex],currentElements=[];this.classNames.forEach(function(className){_toConsumableArray(currentSlide.querySelectorAll(className)).forEach(function(element){currentElements.push(element)})}),currentElements.forEach(function(element){element&&element.classList.add("main-slide-n-2--animation")}),this.previousSlide&&this.previousSlide.classList.add("main-slide-n-2--animation-bg")}},{key:"animation",value:function(){var _this=this;this.swiper.on("touchStart",function(){_this.swiper.isBeginning||_this.swiper.isEnd||_this.animationChange()}),this.swiper.on("slideChange",function(){_this.swiper.$el[0].classList.add("is-loaded");var currentSlide=_this.swiper.slides[_this.swiper.realIndex],previousSlide=_this.swiper.slides[_this.swiper.previousIndex];_this.previousSlide=previousSlide;var previousElements=[],currentElements=[];_this.classNames.forEach(function(className){_toConsumableArray(previousSlide.querySelectorAll(className)).forEach(function(element){previousElements.push(element)}),_toConsumableArray(currentSlide.querySelectorAll(className)).forEach(function(element){currentElements.push(element)})}),previousElements.forEach(function(element){element.classList.add("main-slide--animation")}),currentElements.forEach(function(element){element&&element.classList.remove("main-slide-n-2--animation")}),currentSlide.classList.remove("main-slide-n-2--animation-bg"),previousSlide.classList.add("main-slide--animation-bg")})}},{key:"bindHandlers",value:function(){var _this2=this,prevButton=document.querySelector(".main-slider-n-2__button-prev"),nextButton=document.querySelector(".main-slider-n-2__button-next");prevButton&&prevButton.addEventListener("click",function(){_this2.handlePrevButtonClick()}),nextButton&&nextButton.addEventListener("click",function(){_this2.handleNextButtonClick()}),this.closeButton&&this.closeButton.addEventListener("click",function(){_this2.handleCloseButtonClick()}),this.swiper.on("beforeDestroy",function(){prevButton&&prevButton.removeEventListener("click",_this2.handlePrevButtonClick()),nextButton&&nextButton.removeEventListener("click",_this2.handleNextButtonClick()),_this2.closeButton&&_this2.closeButton.removeEventListener("click",_this2.handleCloseButtonClick())})}},{key:"handleNextButtonClick",value:function(){var _this3=this;this.animationChange();var countSlides=this.swiper.slides.length-1,countCurrentSlide=this.swiper.realIndex;setTimeout(function(){_this3.swiper.destroyed||_this3.swiper.slideTo(countCurrentSlide===countSlides?0:countCurrentSlide+1)},500)}},{key:"handlePrevButtonClick",value:function(){var _this4=this;this.animationChange();var countSlides=this.swiper.slides.length-1,countCurrentSlide=this.swiper.realIndex;setTimeout(function(){_this4.swiper.destroyed||_this4.swiper.slideTo(0===countCurrentSlide?countSlides:countCurrentSlide-1)},500)}},{key:"handleCloseButtonClick",value:function(){this.element.classList.add("main-slider-n-2_hidden")}}]),MainSlider}()},154:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return Draggable});var Draggable=function(){function Draggable(element){!function(instance,Constructor){if(!(instance instanceof Draggable))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,element.hasAttribute("data-draggable")||element.setAttribute("data-draggable",""),this.state={clicked:!1,clickX:0,startX:element.scrollLeft},this.bindHandlers()}var Constructor,protoProps;return Constructor=Draggable,(protoProps=[{key:"bindHandlers",value:function(){var _this=this;this.element.addEventListener("mousemove",function(event){if(_this.state.clicked){var diff=_this.state.clickX-event.pageX;_this.scroll(diff)}}),this.element.addEventListener("mousedown",function(event){_this.state.clicked=!0,_this.state.clickX=event.pageX,_this.state.startX=_this.element.scrollLeft,_this.element.setAttribute("data-draggable","active")}),document.addEventListener("mouseup",function(){_this.state.clicked=!1,_this.element.setAttribute("data-draggable","")})}},{key:"scroll",value:function(diff){this.element.scrollLeft=this.state.startX+diff}}])&&_defineProperties(Constructor.prototype,protoProps),Draggable}()},155:function(module,__webpack_exports__,__webpack_require__){"use strict";function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return SearchHelper}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(211),__webpack_require__(8),__webpack_require__(2),__webpack_require__(11),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5);var SearchHelper=function(){function SearchHelper(){!function(instance,Constructor){if(!(instance instanceof SearchHelper))throw new TypeError("Cannot call a class as a function")}(this)}var Constructor,staticProps;return Constructor=SearchHelper,staticProps=[{key:"longestCommonSubstring",value:function(request,result){for(var s1=_toConsumableArray(request.toLowerCase()),s2=_toConsumableArray(result.toLowerCase()),substringMatrix=Array(s2.length+1).fill(null).map(function(){return Array(s1.length+1).fill(null)}),columnIndex=0;columnIndex<=s1.length;columnIndex+=1)substringMatrix[0][columnIndex]=0;for(var rowIndex=0;rowIndex<=s2.length;rowIndex+=1)substringMatrix[rowIndex][0]=0;for(var longestSubstringLength=0,longestSubstringColumn=0,longestSubstringRow=0,_rowIndex=1;_rowIndex<=s2.length;_rowIndex+=1)for(var _columnIndex=1;_columnIndex<=s1.length;_columnIndex+=1)s1[_columnIndex-1]===s2[_rowIndex-1]?substringMatrix[_rowIndex][_columnIndex]=substringMatrix[_rowIndex-1][_columnIndex-1]+1:substringMatrix[_rowIndex][_columnIndex]=0,substringMatrix[_rowIndex][_columnIndex]>longestSubstringLength&&(longestSubstringLength=substringMatrix[_rowIndex][_columnIndex],longestSubstringColumn=_columnIndex,longestSubstringRow=_rowIndex);if(0===longestSubstringLength)return"";for(var longestSubstring="";substringMatrix[longestSubstringRow][longestSubstringColumn]>0;)longestSubstring=s1[longestSubstringColumn-1]+longestSubstring,longestSubstringRow-=1,longestSubstringColumn-=1;return longestSubstring}}],null&&_defineProperties(Constructor.prototype,null),staticProps&&_defineProperties(Constructor,staticProps),SearchHelper}()},156:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DeveloperBadge});var _item_card_common_object_rating_circle_chart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DeveloperBadge=function(){function DeveloperBadge(el){!function(instance,Constructor){if(!(instance instanceof DeveloperBadge))throw new TypeError("Cannot call a class as a function")}(this),this.element=el,this.color=el.getAttribute("data-color"),this.plainValues=el.getAttribute("data-plain-values"),this.rotate=el.getAttribute("data-rotate"),this.circleChart=new _item_card_common_object_rating_circle_chart__WEBPACK_IMPORTED_MODULE_0__.a({container:this.element,colorRange:[this.color],data:"count",duration:.75,plainValues:this.plainValues,rotate:this.rotate,size:60,wrapper:"[data-stats-badge-wrapper]",maxValue:5,circle:{background:"#e8e8e8",thickness:6,backwards:!0,ease:"Power1.easeOut",speed:2}}),this.circleChart.init()}var Constructor,protoProps;return Constructor=DeveloperBadge,(protoProps=[{key:"destroy",value:function(){this.circleChart.destroy()}}])&&_defineProperties(Constructor.prototype,protoProps),DeveloperBadge}()},18:function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}__webpack_require__.d(__webpack_exports__,"a",function(){return queryString}),__webpack_require__.d(__webpack_exports__,"b",function(){return queryStringify}),__webpack_require__.d(__webpack_exports__,"c",function(){return serialize}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(2),__webpack_require__(46),__webpack_require__(64),__webpack_require__(26),__webpack_require__(3),__webpack_require__(90),__webpack_require__(7),__webpack_require__(4),__webpack_require__(107),__webpack_require__(37),__webpack_require__(9),__webpack_require__(5);var has=Object.prototype.hasOwnProperty,decode=function(input){return decodeURIComponent(input.replace(/\+/g," "))},queryString=function(query){for(var part,parser=/([^=?&]+)=?([^&]*)/g,result={};part=parser.exec(query);){var key=decode(part[1]),value=decode(part[2]);key in result||(result[key]=value)}return result},queryStringify=function(obj,prefix){prefix=prefix||"";var value,key,pairs=[];for(key in"string"!=typeof prefix&&(prefix="?"),obj)has.call(obj,key)&&((value=obj[key])||null!=value&&!isNaN(value)||(value=""),Array.isArray(value)?value.forEach(function(v){pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(v))}):pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(value)));return pairs.length?prefix+pairs.join("&"):""},submitters=/^(?:submit|button|image|reset|file)$/i,controls=/^(?:input|select|textarea|keygen)/i,brackets=/(\[[^[]]*])/g,serialize=function(form,options){"object"!=_typeof(options)?options={hash:!!options}:options.hash||(options.hash=!0);for(var result=options.hash?{}:"",serializer=options.serializer||(options.hash?hashSerialized:stringSerializer),elements=form&&form.elements?form.elements:[],radioStore=Object.create(null),i=0;i<elements.length;++i){var element=elements[i];if((options.disabled||!element.disabled)&&element.name&&controls.test(element.nodeName)&&!submitters.test(element.type)){var key=element.name,val=element.mask?element.mask.unmaskedValue:element.value;if("checkbox"!==element.type&&"radio"!==element.type||element.checked||(val=void 0),options.empty){if("checkbox"!==element.type||element.checked||(val=""),"radio"===element.type&&(radioStore[element.name]||element.checked?element.checked&&(radioStore[element.name]=!0):radioStore[element.name]=!1),!val&&"radio"===element.type)continue}else if(!val)continue;if("select-multiple"!==element.type)result=serializer(result,key,val);else{val=[];for(var selectOptions=element.options,isSelectedOptions=!1,j=0;j<selectOptions.length;++j){var option=selectOptions[j],allowedEmpty=options.empty&&!option.value,hasValue=option.value||allowedEmpty;option.selected&&hasValue&&(isSelectedOptions=!0,result=options.hash&&"[]"!==key.slice(key.length-2)?serializer(result,key+"[]",option.value):serializer(result,key,option.value))}!isSelectedOptions&&options.empty&&(result=serializer(result,key,""))}}}if(options.empty)for(var _key in radioStore)radioStore[_key]||(result=serializer(result,_key,""));return result};function hashSerialized(result,key,value){if(key.match(brackets))!function hashAssign(result,keys,value){if(0===keys.length)return value;var key=keys.shift(),between=key.match(/^\[(.+?)\]$/);if("[]"===key)return result=result||[],Array.isArray(result)?result.push(hashAssign(null,keys,value)):(result._values=result._values||[],result._values.push(hashAssign(null,keys,value))),result;if(between){var string=between[1],index=+string;isNaN(index)?(result=result||{})[string]=hashAssign(result[string],keys,value):(result=result||[])[index]=hashAssign(result[index],keys,value)}else result[key]=hashAssign(result[key],keys,value);return result}(result,function(string){var keys=[],children=new RegExp(brackets),match=/^([^[]]*)/.exec(string);for(match[1]&&keys.push(match[1]);null!==(match=children.exec(string));)keys.push(match[1]);return keys}(key),value);else{var existing=result[key];existing?(Array.isArray(existing)||(result[key]=[existing]),result[key].push(value)):result[key]=value}return result}function stringSerializer(result,key,value){return value=value.replace(/(\r)?\n/g,"\r\n"),value=(value=encodeURIComponent(value)).replace(/%20/g,"+"),result+(result?"&":"")+encodeURIComponent(key)+"="+value}},180:function(module,exports){var ElementProto;"function"!=typeof(ElementProto=window.Element.prototype).matches&&(ElementProto.matches=ElementProto.msMatchesSelector||ElementProto.mozMatchesSelector||ElementProto.webkitMatchesSelector||function(selector){for(var elements=(this.document||this.ownerDocument).querySelectorAll(selector),index=0;elements[index]&&elements[index]!==this;)++index;return Boolean(elements[index])}),"function"!=typeof ElementProto.closest&&(ElementProto.closest=function(selector){for(var element=this;element&&1===element.nodeType;){if(element.matches(selector))return element;element=element.parentNode}return null})},181:function(module,exports){!function(){if("function"==typeof window.CustomEvent)return!1;function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}()},213:function(module,__webpack_exports__,__webpack_require__){"use strict";var arr,args;__webpack_require__.r(__webpack_exports__),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(20),__webpack_require__(8),__webpack_require__(2),__webpack_require__(3),__webpack_require__(38),__webpack_require__(7),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5),__webpack_require__(180),__webpack_require__(181),arr=[window.Element,window.CharacterData,window.DocumentType],args=[],arr.forEach(function(item){item&&args.push(item.prototype)}),args.forEach(function(item){item.hasOwnProperty("remove")||Object.defineProperty(item,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),__webpack_require__(182),__webpack_require__(58),__webpack_require__(59),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(target,firstSource){if(null==target)throw new TypeError("Cannot convert first argument to object");for(var to=Object(target),i=1;i<arguments.length;i++){var nextSource=arguments[i];if(null!=nextSource)for(var keysArray=Object.keys(Object(nextSource)),nextIndex=0,len=keysArray.length;nextIndex<len;nextIndex++){var nextKey=keysArray[nextIndex],desc=Object.getOwnPropertyDescriptor(nextSource,nextKey);void 0!==desc&&desc.enumerable&&(to[nextKey]=nextSource[nextKey])}}return to}}),Array.prototype.forEach||(Array.prototype.forEach=function(callback,thisArg){var T,k;if(null==this)throw new TypeError(" this is null or not defined");var O=Object(this),len=O.length>>>0;if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(arguments.length>1&&(T=thisArg),k=0;k<len;){var kValue;k in O&&(kValue=O[k],callback.call(T,kValue,k,O)),k++}});var lightgallery=__webpack_require__(84),lightgallery_default=__webpack_require__.n(lightgallery),adv_complex_create=__webpack_require__(103);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var SearchMore=function(){var Constructor,staticProps;function SearchMore(button,hidden){!function(instance,Constructor){if(!(instance instanceof SearchMore))throw new TypeError("Cannot call a class as a function")}(this),button.addEventListener("click",function(){"block"===hidden.style.display?(hidden.style.display="none",button.classList.remove("list-open")):(hidden.style.display="block",button.classList.add("list-open"))})}return Constructor=SearchMore,staticProps=[{key:"init",value:function(){var moreButtons=_toConsumableArray(document.querySelectorAll(".js-more-button")),hiddenItems=_toConsumableArray(document.querySelectorAll(".js-hidden-items"));moreButtons&&hiddenItems&&moreButtons.forEach(function(button,index){new SearchMore(button,hiddenItems[index])})}}],null&&_defineProperties(Constructor.prototype,null),staticProps&&_defineProperties(Constructor,staticProps),SearchMore}(),TweenLite=__webpack_require__(10);function preview_cards_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function preview_cards_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var preview_cards_PreviewCards=function(){var Constructor,staticProps;function PreviewCards(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof PreviewCards))throw new TypeError("Cannot call a class as a function")}(this);var elementClass="preview-cards-n-2",tabsClass="tabs-link-n-2",rows=preview_cards_toConsumableArray(element.querySelectorAll(".".concat(elementClass,"__cards-group"))),tabButtons=preview_cards_toConsumableArray(element.querySelectorAll(".".concat(tabsClass,"__tab"))),allButtons=preview_cards_toConsumableArray(element.querySelectorAll(".".concat(elementClass,"__main-button"))),activeTab=element.querySelector(".".concat(elementClass," .").concat(tabsClass,"__tab_active")),line=element.querySelector(".line-n-2"),positionLine=0,widthLine=0;activeTab&&line&&(positionLine=activeTab.offsetLeft,widthLine=activeTab.offsetWidth,line.style.width=widthLine+"px"),this.previousRow=rows[0],this.previousTabButton=tabButtons[0],this.previousAllButton=allButtons[0],tabButtons.forEach(function(tabButton,index){tabButton.addEventListener("click",function(event){event.preventDefault();var self=event.currentTarget,row=rows[index],allButton=allButtons[index];if(!tabButton.classList.contains("".concat(tabsClass,"__tab_active"))){row.classList.remove("".concat(elementClass,"__cards-group_hidden")),_this.previousRow.classList.add("".concat(elementClass,"__cards-group_hidden")),_this.previousTabButton.classList.remove("".concat(tabsClass,"__tab_active")),positionLine=_this.previousTabButton.offsetLeft,widthLine=_this.previousTabButton.offsetWidth;var positionCurrent=self.offsetLeft,widthCurrent=self.offsetWidth;positionCurrent>=positionLine?(TweenLite.a.to(line,.15,{width:positionCurrent-positionLine+widthCurrent}),TweenLite.a.to(line,.15,{delay:.3,left:positionCurrent,width:widthCurrent}),tabButton.classList.add("".concat(tabsClass,"__tab_active"))):(TweenLite.a.to(line,.15,{left:positionCurrent,width:positionLine-positionCurrent+widthLine}),TweenLite.a.to(line,.15,{delay:.3,width:widthCurrent}),tabButton.classList.add("".concat(tabsClass,"__tab_active"))),_this.previousAllButton.classList.add("".concat(elementClass,"__main-button_hidden")),allButton.classList.remove("".concat(elementClass,"__main-button_hidden")),_this.previousRow=row,_this.previousTabButton=tabButton,_this.previousAllButton=allButton}})})}return Constructor=PreviewCards,staticProps=[{key:"init",value:function(){preview_cards_toConsumableArray(document.querySelectorAll(".preview-cards-n-2")).forEach(function(element){new PreviewCards(element)})}}],null&&preview_cards_defineProperties(Constructor.prototype,null),staticProps&&preview_cards_defineProperties(Constructor,staticProps),PreviewCards}();function drop_menu_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function drop_menu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DropMenu=function(){var Constructor,staticProps;function DropMenu(selector){var _this=this;!function(instance,Constructor){if(!(instance instanceof DropMenu))throw new TypeError("Cannot call a class as a function")}(this);var buttons=drop_menu_toConsumableArray(document.querySelectorAll(".".concat(selector," .js-drop-button-n-2"))),menus=drop_menu_toConsumableArray(document.querySelectorAll(".".concat(selector," .js-hidden-menu-n-2")));buttons.forEach(function(button,index){var menu=menus[index],closePopup=function(){button.classList.remove("".concat(selector,"__link_open")),menu.classList.add("".concat(selector,"__sublinks-wrapper_hidden"))};button.addEventListener("click",function(){var clickOutHandle=function clickOutHandle(e){e.target===button||menu.contains(e.target)||(closePopup(),document.removeEventListener("click",clickOutHandle))};button.classList.contains("".concat(selector,"__link_open"))?(closePopup(),document.removeEventListener("click",clickOutHandle)):(button.classList.add("".concat(selector,"__link_open")),menu.classList.remove("".concat(selector,"__sublinks-wrapper_hidden"))),_this.previousButton&&_this.previousButton!==button&&_this.previousButton.classList.contains("".concat(selector,"__link_open"))&&(_this.previousButton.classList.remove("".concat(selector,"__link_open")),_this.previousMenu.classList.add("".concat(selector,"__sublinks-wrapper_hidden"))),_this.previousButton=button,_this.previousMenu=menu,document.addEventListener("click",clickOutHandle)})})}return Constructor=DropMenu,staticProps=[{key:"init",value:function(){["main-nav-n-2","tablet-menu-n-2","side-menu-n-2"].forEach(function(selector){new DropMenu(selector)})}}],null&&drop_menu_defineProperties(Constructor.prototype,null),staticProps&&drop_menu_defineProperties(Constructor,staticProps),DropMenu}();function side_menu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function side_menu_createClass(Constructor,protoProps,staticProps){return protoProps&&side_menu_defineProperties(Constructor.prototype,protoProps),staticProps&&side_menu_defineProperties(Constructor,staticProps),Constructor}var SideMenu=function(){function SideMenu(burger,menu){!function(instance,Constructor){if(!(instance instanceof SideMenu))throw new TypeError("Cannot call a class as a function")}(this),this.burger=burger,this.menu=menu,this.state={open:!1},this.calcHeight=this.calcHeight.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.calcHeight(),this.bindHandlers()}return side_menu_createClass(SideMenu,null,[{key:"init",value:function(){var burger=document.querySelector(".js-burger-n-2"),menu=document.querySelector(".js-side-menu-n-2");burger&&menu&&new SideMenu(burger,menu)}}]),side_menu_createClass(SideMenu,[{key:"bindHandlers",value:function(){var _this=this;this.burger.addEventListener("click",function(){_this.state.open?_this.close():_this.open()}),this.menu.classList.add("side-menu-n-2_inited"),document.addEventListener("close-top-banner",this.calcHeight),window.addEventListener("resize",this.onWindowResize)}},{key:"open",value:function(){this.burger.classList.add("active"),this.menu.classList.add("side-menu-n-2_open"),document.body.classList.add("no-scroll"),this.calcHeight(),this.state.open=!0}},{key:"close",value:function(){this.burger.classList.remove("active"),this.menu.classList.remove("side-menu-n-2_open"),document.body.classList.remove("no-scroll"),this.state.open=!1}},{key:"calcHeight",value:function(){var menuHeight=document.documentElement.clientHeight-this.menu.getBoundingClientRect().top;this.menu.style.height=menuHeight+"px"}},{key:"onWindowResize",value:function(){this.calcHeight(),document.body.clientWidth>=1024&&this.state.open&&this.close()}}]),SideMenu}(),favorite_favorite=__webpack_require__(65),compare_storage=__webpack_require__(66),phone_number=__webpack_require__(60);function checkbox_block_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function checkbox_block_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function checkbox_block_createClass(Constructor,protoProps,staticProps){return protoProps&&checkbox_block_defineProperties(Constructor.prototype,protoProps),staticProps&&checkbox_block_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(46);var CheckboxSelect=function(){function CheckboxSelect(element){!function(instance,Constructor){if(!(instance instanceof CheckboxSelect))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.elements={checked:this.element.querySelector(".checkbox-block-n-2__checked-elements"),extra:this.element.querySelector(".checkbox-block-n-2__extra-tag"),popup:this.element.querySelector(".checkbox-block-n-2__popup"),output:this.element.querySelector(".checkbox-block-n-2__output"),checkboxes:checkbox_block_toConsumableArray(this.element.querySelectorAll('.checkbox-block-n-2__popup input[type="checkbox"]')),active:[],outputText:null,haveLargeElement:!1,roomNumber:!1},this.maxChecked=window.innerWidth<768?3:1,this.init()}return checkbox_block_createClass(CheckboxSelect,null,[{key:"init",value:function(){var elements=document.querySelectorAll(".checkbox-block-n-2");elements&&checkbox_block_toConsumableArray(elements).forEach(function(element){new CheckboxSelect(element)})}}]),checkbox_block_createClass(CheckboxSelect,[{key:"closePopup",value:function(){var _this=this;this.elements.popup.classList.add("filter-popup-hide-n-2"),this.elements.output.classList.remove("open-dropdown"),setTimeout(function(){_this.elements.popup.style.display="none"},50)}},{key:"closeAll",value:function(){checkbox_block_toConsumableArray(document.querySelectorAll(".open-dropdown")?document.querySelectorAll(".open-dropdown"):null).forEach(function(openBlock){var popupBlock=openBlock.parentElement.querySelector("[data-popup-filter]");openBlock.classList.remove("open-dropdown"),popupBlock&&(popupBlock.classList.add("filter-popup-hide-n-2"),setTimeout(function(){popupBlock.style.display="none"},50))})}},{key:"init",value:function(){var _this2=this,_this$elements=this.elements,checked=_this$elements.checked,extra=_this$elements.extra,popup=_this$elements.popup,output=_this$elements.output,_this$elements2=this.elements,active=_this$elements2.active,outputText=_this$elements2.outputText,haveLargeElement=_this$elements2.haveLargeElement;popup.style.display="none",popup.addEventListener("change",function(event){var typeCheck=event.target.closest("[type-check]").getAttribute("type-check"),activeElements=popup.querySelectorAll("input:checked");if(active=[],checkbox_block_toConsumableArray(activeElements).forEach(function(activeElement){active.push(activeElement.getAttribute("data-value")),activeElement.getAttribute("data-large")&&(haveLargeElement=!0)}),active=active.sort(),activeElements.length<=_this2.maxChecked&&0!==activeElements.length&&!haveLargeElement)outputText=active.join(", "),extra.classList.add("hide");else if(1===activeElements.length&&haveLargeElement)outputText=active[0],extra.classList.add("hide");else if(0===activeElements.length){switch(typeCheck){case"room-expanded":outputText="Выберите кол-во комнат";break;case"date-expanded":outputText="Срок сдачи объекта";break;case"room":outputText="Любое";break;case"cottage-expanded":outputText="Выберите тип недвижимости";break;case"ready-expanded":outputText="Готовность";break;default:outputText="Любой"}extra.classList.add("hide")}else outputText=event.srcElement.checked?event.srcElement.getAttribute("data-value"):active[active.length-1],extra.classList.remove("hide"),extra.querySelector(".extra-tag-n-2").innerText=activeElements.length;checked.innerHTML=outputText}),output.addEventListener("click",function(){popup.classList.contains("filter-popup-hide-n-2")?(_this2.closeAll(),popup.style.display="",setTimeout(function(){output.classList.add("open-dropdown"),popup.classList.remove("filter-popup-hide-n-2")},50)):_this2.closePopup()}),document.addEventListener("click",function(event){_this2.element.contains(event.target)||_this2.closePopup()})}}]),CheckboxSelect}(),nouislider=(__webpack_require__(205),__webpack_require__(37),__webpack_require__(158)),nouislider_default=__webpack_require__.n(nouislider),formatNumberFractions=function(value){return value?(value<1e6?(outputValue=value/1e3,outputText="тыс. ₽"):(outputValue=value/1e6,outputText="млн. ₽"),"".concat(+(Math.round(outputValue+"e+1")+"e-1")," ").concat(outputText)):value;var outputValue,outputText};function range_block_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function range_block_createClass(Constructor,protoProps,staticProps){return protoProps&&range_block_defineProperties(Constructor.prototype,protoProps),staticProps&&range_block_defineProperties(Constructor,staticProps),Constructor}var range_block_RangeSelect=function(){function RangeSelect(element){!function(instance,Constructor){if(!(instance instanceof RangeSelect))throw new TypeError("Cannot call a class as a function")}(this),this.state={reseted:!1},this.element=element,this.rangeSliderElement=element.querySelector(".range-block-n-2__colorful-slider"),this.elements={inputBefore:this.element.querySelector(".range-block-n-2__input-before"),inputAfter:this.element.querySelector(".range-block-n-2__input-after")},this.elementsTrueValues={inputBefore:0,inputAfter:0},this.limited=this.element.getAttribute("data-limited"),this.numericFormat=this.element.getAttribute("data-numeric-format"),this.rangeSelect=element.parentNode.querySelector(".checkbox-block-n-2"),this.rangeSelect&&(this.rangeSelectPopup=this.rangeSelect.querySelector(".checkbox-block-n-2__popup")),this.init(),this.bindEvents()}return range_block_createClass(RangeSelect,null,[{key:"init",value:function(){var arr;(arr=document.querySelectorAll(".range-block-n-2"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).forEach(function(element){element.RangeSelect=new RangeSelect(element)})}}]),range_block_createClass(RangeSelect,[{key:"init",value:function(){this.rangeSliderElement&&this.initRangeSlider()}},{key:"bindEvents",value:function(){var _this=this,_this$elements=this.elements,inputBefore=_this$elements.inputBefore,inputAfter=_this$elements.inputAfter;inputBefore.addEventListener("input",function(e){var beforeEvent=new CustomEvent("change");_this.state={reseted:!1};var nextValue=e.target.value;_this.limited&&(nextValue=_this.limitInput(nextValue)),_this.elementsTrueValues.inputBefore=nextValue,inputBefore.value=nextValue,inputBefore.dispatchEvent(beforeEvent)}),inputBefore.addEventListener("focus",function(){_this.elementsTrueValues.inputBefore&&(inputBefore.value=_this.elementsTrueValues.inputBefore)}),inputBefore.addEventListener("blur",function(e){_this.rangeSliderElement&&_this.updateRangeSliderValues(_this.elementsTrueValues.inputBefore,0)}),inputAfter.addEventListener("input",function(e){var afterEvent=new CustomEvent("change");_this.state={reseted:!1};var nextValue=e.target.value;_this.limited&&(nextValue=_this.limitInput(nextValue)),_this.elementsTrueValues.inputAfter=nextValue,inputAfter.value=nextValue,inputAfter.dispatchEvent(afterEvent)}),inputAfter.addEventListener("focus",function(){_this.elementsTrueValues.inputAfter&&(inputAfter.value=_this.elementsTrueValues.inputAfter)}),inputAfter.addEventListener("blur",function(e){_this.rangeSliderElement&&_this.updateRangeSliderValues(_this.elementsTrueValues.inputAfter,1)}),this.rangeSelect&&this.rangeSelectPopup.addEventListener("change",function(e){_this.state={reseted:!1},_this.updateRangeSliderOptions(e.target.id)})}},{key:"initRangeSlider",value:function(){var _this2=this,min=+this.element.getAttribute("data-all-min")||0,max=+this.element.getAttribute("data-all-max")||1e8;this.rangeSlider=nouislider_default.a.create(this.rangeSliderElement,{cssPrefix:"range-block-n-2__colorful-slider-",connect:!0,range:{min:min,"70%":.1*max,"90%":.2*max,max:max},start:[min,max]});var rangeSliderConnects=this.rangeSliderElement.querySelector(".range-block-n-2__colorful-slider-connects"),connectLeft=document.createElement("div"),connectRight=document.createElement("div");connectLeft.classList.add("range-block-n-2__colorful-slider-connect-left"),connectRight.classList.add("range-block-n-2__colorful-slider-connect-right"),rangeSliderConnects.appendChild(connectLeft),rangeSliderConnects.appendChild(connectRight);var leftHandler=this.rangeSliderElement.querySelector(".range-block-n-2__colorful-slider-handle-lower"),rightHandler=this.rangeSliderElement.querySelector(".range-block-n-2__colorful-slider-handle-upper");this.rangeSlider.on("update",function(values,handle,unencoded,tap,positions){var p0=positions[0],p1=positions[1],leftHue=p0<=50?130-1.62*p0:49-.74*(p0-50),leftSaturation=p0<=50?39+.22*p0:50-.22*(p0-50),rightHue=p1<=50?130-1.62*p1:49-.74*(p1-50),rightSaturation=p1<=50?39+.22*p1:50-.22*(p1-50);leftHandler.style.backgroundColor="hsl(".concat(leftHue,", 100%, ").concat(leftSaturation,"%)"),rightHandler.style.backgroundColor="hsl(".concat(rightHue,", 100%, ").concat(rightSaturation,"%)"),connectLeft.style.transform="scale3d(".concat(1-(100-positions[0])/100,", 1, 1)"),connectRight.style.transform="scale3d(".concat(1-positions[1]/100,", 1, 1)"),0===handle?(_this2.elements.inputBefore.value=_this2.numericFormat?formatNumberFractions(values[0]):Math.trunc(values[0]),_this2.elementsTrueValues.inputBefore=Math.trunc(values[0])):(_this2.elements.inputAfter.value=_this2.numericFormat?formatNumberFractions(values[1]):Math.trunc(values[1]),_this2.elementsTrueValues.inputAfter=Math.trunc(values[1]))}),this.rangeSlider.on("change",function(values,handle){var event=new CustomEvent("change",{bubbles:!0,cancelable:!1});0===handle?(_this2.elements.inputBefore.value=_this2.numericFormat?formatNumberFractions(values[0]):Math.trunc(values[0]),_this2.elements.inputBefore.dispatchEvent(event)):(_this2.elements.inputAfter.value=_this2.numericFormat?formatNumberFractions(values[1]):Math.trunc(values[1]),_this2.elements.inputAfter.dispatchEvent(event)),_this2.state={reseted:!1}})}},{key:"updateRangeSliderOptions",value:function(type){if(this.rangeSlider){var min,max;switch(type){case"toggle-all":min=+this.element.getAttribute("data-all-min")||0,max=+this.element.getAttribute("data-all-max")||1e8;break;case"toggle-area":min=+this.element.getAttribute("data-area-min")||0,max=+this.element.getAttribute("data-area-max")||5e5;break;default:min=0,max=1e8}var range={min:min,"70%":.1*max,"90%":.2*max,max:max};this.rangeSlider.updateOptions({start:[min,max],range:range})}}},{key:"updateRangeSliderValues",value:function(value,target){this.rangeSlider.setHandle(target,value,!1)}},{key:"limitInput",value:function(value){if(!value)return value;var gettingValue=value.replace(/[^\d]/g,"");return gettingValue.length>this.limited&&(gettingValue=gettingValue.substr(0,this.limited)),gettingValue}},{key:"closePopup",value:function(){this.elements.pricePopup.classList.add("filter-popup-hide"),this.elements.output.classList.remove("open-dropdown")}},{key:"clearingInputs",value:function(){this.rangeSlider&&(this.state={reseted:!0},this.rangeSlider.reset())}},{key:"isReseted",get:function(){return this.state.reseted}},{key:"trueValues",get:function(){return this.elementsTrueValues}}]),RangeSelect}(),cookie=(__webpack_require__(61),__webpack_require__(105),__webpack_require__(32));function city_pick_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function city_pick_createClass(Constructor,protoProps,staticProps){return protoProps&&city_pick_defineProperties(Constructor.prototype,protoProps),staticProps&&city_pick_defineProperties(Constructor,staticProps),Constructor}var city_pick_CityPick=function(){function CityPick(element,selector){var arr;!function(instance,Constructor){if(!(instance instanceof CityPick))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.output=element.querySelector(".".concat(selector,"__output")),this.list=element.querySelector(".".concat(selector,"__list")),this.cities=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=element.querySelectorAll(".".concat(selector,"__city")))||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),this.cookie=new cookie.a,this.selector=selector,this.clickOutHandle=this.clickOutHandle.bind(this);var domainName=location.hostname.split(".")[0],prefix="novostroev"===domainName?"":"".concat(domainName,"-");this.cookieNames={city:"".concat(prefix,"geo-city"),cityName:"".concat(prefix,"geo-city-name")},this.previousCity=null,this.cityID=this.cookie.getCookie(this.cookieNames.city),this.cityName=this.cookie.getCookie(this.cookieNames.cityName),this.update(),this.bindHanlers()}return city_pick_createClass(CityPick,null,[{key:"init",value:function(){["city-pick-n-2","city-pick-mobile-n-2"].forEach(function(selector){var element=document.querySelector(".".concat(selector));element&&new CityPick(element,selector)})}}]),city_pick_createClass(CityPick,[{key:"bindHanlers",value:function(){var _this=this;this.element.addEventListener("first-pick",function(){_this.update()}),this.output.addEventListener("click",function(){_this.list.classList.contains("".concat(_this.selector,"__list_open"))?_this.closePopup():(_this.list.classList.add("".concat(_this.selector,"__list_open")),_this.output.classList.add("".concat(_this.selector,"__output_open")),document.addEventListener("click",_this.clickOutHandle))}),this.list.addEventListener("click",function(e){var target=e.target;if(target.classList.contains("".concat(_this.selector,"__city"))){_this.cityID=target.getAttribute("data-city"),_this.cityName=target.textContent,_this.previousCity&&_this.previousCity.classList.remove("".concat(_this.selector,"__city_selected")),target.classList.add("".concat(_this.selector,"__city_selected")),_this.output.textContent=_this.cityName,_this.addCookie(),_this.previousCity=target,_this.closePopup();var redirect=_this.list.getAttribute("data-redirect");redirect&&redirect.trim().length?window.location.href=redirect:window.location.reload()}})}},{key:"addCookie",value:function(){var date=new Date;date.setFullYear(date.getFullYear()+10);var settings={expires:date.toUTCString(),path:"/",domain:window.location.hostname};this.cookie.setCookie(this.cookieNames.city,this.cityID,settings),this.cookie.setCookie(this.cookieNames.cityName,this.cityName.trim(),settings)}},{key:"update",value:function(){var _this2=this;this.cityID&&this.cityName&&(this.output.textContent=this.cityName,this.cities.forEach(function(city){city.textContent.trim()===_this2.cityName.trim()&&(city.classList.add("".concat(_this2.selector,"__city_selected")),_this2.previousCity=city)}))}},{key:"clickOutHandle",value:function(e){e.target!==this.output&&e.target!==this.list&&this.closePopup()}},{key:"closePopup",value:function(){this.list.classList.remove("".concat(this.selector,"__list_open")),this.output.classList.remove("".concat(this.selector,"__output_open")),document.removeEventListener("click",this.clickOutHandle)}}]),CityPick}();function first_pick_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function first_pick_createClass(Constructor,protoProps,staticProps){return protoProps&&first_pick_defineProperties(Constructor.prototype,protoProps),staticProps&&first_pick_defineProperties(Constructor,staticProps),Constructor}var first_pick_FirstPick=function(){function FirstPick(normalPick,mobilePick){!function(instance,Constructor){if(!(instance instanceof FirstPick))throw new TypeError("Cannot call a class as a function")}(this),this.normalPick=normalPick,this.mobilePick=mobilePick,this.cookie=new cookie.a;var domainName=location.hostname.split(".")[0],prefix="novostroev"===domainName?"":"".concat(domainName,"-");this.cookieNames={city:"".concat(prefix,"geo-city"),cityName:"".concat(prefix,"geo-city-name")},this.cityPick=document.querySelector(".city-pick-n-2"),this.cityPickMobile=document.querySelector(".city-pick-mobile-n-2"),this.cityID=this.cookie.getCookie(this.cookieNames.city),this.cityName=this.cookie.getCookie(this.cookieNames.cityName),this.cityID&&this.cityName||this.show()}return first_pick_createClass(FirstPick,null,[{key:"init",value:function(){var normalPick=document.querySelector(".first-pick-n-2"),mobilePick=document.querySelector(".first-pick-mobile-n-2");(normalPick||mobilePick)&&new FirstPick(normalPick,mobilePick)}}]),first_pick_createClass(FirstPick,[{key:"show",value:function(){this.width=document.body.clientWidth,this.width<768?this.showMobilePick():this.showDesktopPick()}},{key:"showMobilePick",value:function(){var _this=this,supposedCity=document.querySelector(".first-pick-mobile-n-2__supposed-city"),buttonCorrect=this.mobilePick.querySelector(".first-pick-mobile-n-2__correct-region"),buttonChange=this.mobilePick.querySelector(".first-pick-mobile-n-2__change-region"),cityPickList=this.mobilePick.querySelector(".first-pick-mobile-n-2__list");this.cityID=supposedCity.getAttribute("data-city"),this.cityName=supposedCity.textContent,this.mobilePick.style.display="block",this.cityPickMobile.style.display="none",buttonCorrect.addEventListener("click",function(){_this.addCookie(),_this.mobilePick.style.display="none",_this.cityPickMobile.style.display="block"}),buttonChange.addEventListener("click",function(){cityPickList.style.display="block"}),cityPickList.addEventListener("click",function(e){if(e.target.classList.contains("first-pick-mobile-n-2__city")){var target=e.target;_this.cityID=target.getAttribute("data-city"),_this.cityName=target.textContent,_this.addCookie(),_this.mobilePick.style.display="none",_this.cityPickMobile.style.display="block";var redirect=_this.cityPickMobile.getAttribute("data-redirect");redirect&&redirect.trim().length?window.location.href=redirect:window.location.reload()}})}},{key:"showDesktopPick",value:function(){var _this2=this,supposedCity=document.querySelector(".first-pick-n-2__city"),buttonCorrect=this.normalPick.querySelector(".first-pick-n-2__correct-region"),buttonChange=this.normalPick.querySelector(".first-pick-n-2__change-region");this.cityID=supposedCity.getAttribute("data-city"),this.cityName=supposedCity.textContent,this.normalPick.classList.remove("first-pick-n-2_hidden"),buttonCorrect.addEventListener("click",function(){_this2.addCookie(),_this2.normalPick.classList.add("first-pick-n-2_hidden")}),buttonChange.addEventListener("click",function(){_this2.normalPick.classList.add("first-pick-n-2_hidden"),document.querySelector(".city-pick-n-2__list").classList.add("city-pick-n-2__list_open")})}},{key:"addCookie",value:function(){var date=new Date;date.setFullYear(date.getFullYear()+10);var settings={expires:date.toUTCString(),path:"/",domain:window.location.hostname};this.cookie.setCookie(this.cookieNames.city,this.cityID,settings),this.cookie.setCookie(this.cookieNames.cityName,this.cityName.trim(),settings)}}]),FirstPick}(),switchableButton=__webpack_require__(152);function topBanner_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function topBanner_createClass(Constructor,protoProps,staticProps){return protoProps&&topBanner_defineProperties(Constructor.prototype,protoProps),staticProps&&topBanner_defineProperties(Constructor,staticProps),Constructor}var TopBanner=function(){function TopBanner(element){!function(instance,Constructor){if(!(instance instanceof TopBanner))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.closeButton=element.querySelector(".wide-banner-n-2__close-wrapper"),this.onClose=this.onClose.bind(this),this.closeButton.addEventListener("click",this.onClose)}return topBanner_createClass(TopBanner,null,[{key:"init",value:function(){var banner=document.querySelector(".wide-banner-n-2_closing");return banner?new TopBanner(banner):null}}]),topBanner_createClass(TopBanner,[{key:"onClose",value:function(){var event=new CustomEvent("close-top-banner");this.element.style.display="none",document.dispatchEvent(event)}}]),TopBanner}(),swiper_min=(__webpack_require__(11),__webpack_require__(17)),swiper_min_default=__webpack_require__.n(swiper_min);function layouts_slider_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function layouts_slider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function layouts_slider_createClass(Constructor,protoProps,staticProps){return protoProps&&layouts_slider_defineProperties(Constructor.prototype,protoProps),staticProps&&layouts_slider_defineProperties(Constructor,staticProps),Constructor}var layouts_slider_LayoutsSlider=function(){function LayoutsSlider(element){!function(instance,Constructor){if(!(instance instanceof LayoutsSlider))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.slider=element.querySelector(".layouts-slider"),this.arrows={prev:element.querySelector(".swiper-button-prev"),next:element.querySelector(".swiper-button-next")},this.buttonAll=element.querySelector(".apartment-aside__control .button-n-2"),this.initSlider(),this.bindHandlers()}return layouts_slider_createClass(LayoutsSlider,null,[{key:"init",value:function(){var slider=document.querySelector(".apartment-layouts");return slider?new LayoutsSlider(slider):null}}]),layouts_slider_createClass(LayoutsSlider,[{key:"initSlider",value:function(){var _this=this,slidesCount=layouts_slider_toConsumableArray(this.slider.querySelectorAll(".swiper-slide")).length;this.swiper=new swiper_min_default.a(this.slider,{slidesPerView:6,spaceBetween:13,initialSlide:0,loop:slidesCount>3,navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},breakpoints:{1287:{slidesPerView:5,loop:slidesCount>6},900:{slidesPerView:4,loop:slidesCount>5},767:{slidesPerView:3,loop:slidesCount>4},567:{slidesPerView:2,loop:slidesCount>3}}}),lightGallery(this.slider,{thumbnail:!0,hash:!1,download:!1,loop:!0,exThumbImage:"data-src",selector:".swiper-slide:not(.swiper-slide-duplicate) .layout__preview"}),layouts_slider_toConsumableArray(this.slider.querySelectorAll(".swiper-slide-duplicate .layout__preview")).map(function(link){link.addEventListener("click",function(event){event.preventDefault();var index=link.parentNode.parentNode.getAttribute("data-swiper-slide-index");_this.clickOnGalleryLink(index)})})}},{key:"bindHandlers",value:function(){var _this2=this;this.buttonAll&&this.buttonAll.addEventListener("click",function(event){event.preventDefault(),_this2.clickOnGalleryLink(0)})}},{key:"clickOnGalleryLink",value:function(index){var originalLink=this.getOriginalSlide(index).querySelector("a");return originalLink?originalLink.click():null}},{key:"getOriginalSlide",value:function(index){return this.slider.querySelector('[data-swiper-slide-index="'.concat(index,'"]:not(.swiper-slide-duplicate)'))}}]),LayoutsSlider}();function thumb_gallery_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function thumb_gallery_createClass(Constructor,protoProps,staticProps){return protoProps&&thumb_gallery_defineProperties(Constructor.prototype,protoProps),staticProps&&thumb_gallery_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(207);var thumb_gallery_ThumbGallery=function(){function ThumbGallery(element){!function(instance,Constructor){if(!(instance instanceof ThumbGallery))throw new TypeError("Cannot call a class as a function")}(this),element.ThumbGallery=this,this.element=element,this.arrows={next:element.querySelector(".btn-slider_next"),prev:element.querySelector(".btn-slider_prev")},this.topContainer=element.querySelector(".thumb-gallery__top-slider"),this.thumbContainer=element.querySelector(".thumb-gallery__thumbs"),this.expandButton=element.querySelector("[data-show-gallery]"),this.counter={container:element.querySelector(".slide-count"),current:element.querySelector(".slide-count__value_current"),all:element.querySelector(".slide-count__value:not(.slide-count__value_current)")},this.initSliders()}return thumb_gallery_createClass(ThumbGallery,null,[{key:"init",value:function(){return(arr=document.querySelectorAll(".thumb-gallery"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).forEach(function(gallery){return new ThumbGallery(gallery)});var arr}}]),thumb_gallery_createClass(ThumbGallery,[{key:"initSliders",value:function(){var _this=this;this.galleryThumbs=new swiper_min_default.a(this.thumbContainer,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!0,loop:!0,loopedSlides:6,slidesPerView:"auto",centeredSlides:!0}),this.galleryTop=new swiper_min_default.a(this.topContainer,{navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},speed:600,loop:!0,loopedSlides:6}),this.galleryTop.controller.control=this.galleryThumbs,this.galleryThumbs.controller.control=this.galleryTop,this.initGallery(),this.galleryTop.on("slideChange",function(){_this.counter.current.innerHTML=_this.galleryTop.realIndex+1}),this.expandButton&&this.expandButton.addEventListener("click",function(event){var currentSlide=_this.galleryTop.slides[_this.galleryTop.activeIndex];currentSlide&&(event.preventDefault(),currentSlide.click())})}},{key:"initGallery",value:function(){lightGallery(this.topContainer,{thumbnail:!0,hash:!1,download:!1,loop:!0,exThumbImage:"data-src",selector:"a.swiper-slide"})}}]),ThumbGallery}(),perfect_scrollbar_esm=(__webpack_require__(29),__webpack_require__(33)),tab_line=__webpack_require__(44);function timeline_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function timeline_createClass(Constructor,protoProps,staticProps){return protoProps&&timeline_defineProperties(Constructor.prototype,protoProps),staticProps&&timeline_defineProperties(Constructor,staticProps),Constructor}var timeline_TimelineSlider=function(){function TimelineSlider(element){var arr,_this=this;!function(instance,Constructor){if(!(instance instanceof TimelineSlider))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.slider=element.querySelector(".timeline-slider__slider .swiper-container"),this.months=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=element.querySelectorAll(".timeline-month"))||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),this.line=new tab_line.a({line:element.querySelector(".timeline-years__line")}),this.navi={prevEl:element.querySelector(".btn-slider_prev"),nextEl:element.querySelector(".btn-slider_next")},this.yearsWrapper=element.querySelector(".timeline-years__wrapper"),this.classes={activeMonth:"timeline-month_active"},this.state={activeMonth:this.months.find(function(month){return month.classList.contains(_this.classes.activeMonth)})},this.ps=new perfect_scrollbar_esm.a(this.yearsWrapper,{wheelSpeed:.7}),window.addEventListener("resize",this.ps.update),this.initSliders(),this.initHandlers()}return timeline_createClass(TimelineSlider,null,[{key:"init",value:function(){var slider=document.querySelector(".timeline-slider");return slider?new TimelineSlider(slider):null}}]),timeline_createClass(TimelineSlider,[{key:"initSliders",value:function(){var _this2=this;this.swiper=new swiper_min_default.a(this.slider,{slidesPerView:"auto",spaceBetween:10,setWrapperSize:!0,navigation:this.navi,breakpoints:{767:{slidesPerView:1}}}),lightgallery_default()(this.slider,{thumbnail:!0,hash:!1,download:!1,loop:!0,exThumbImage:"data-src",selector:".swiper-slide .timeline-slider__image"}),this.monthIndexes={},this.swiper.slides.each(function(index,el){var id=el.id;id&&(_this2.monthIndexes[id]=index)})}},{key:"initHandlers",value:function(){var _this3=this;this.months.map(function(month){month.addEventListener("click",function(event){event.preventDefault();var href=month.getAttribute("href");_this3.swiper.slideTo(_this3.monthIndexes[href.replace("#","")])})}),this.swiper.on("slideChange",function(){var _this3$swiper=_this3.swiper,curIndex=_this3$swiper.activeIndex,prevIndex=_this3$swiper.previousIndex,currentSlide=_this3.swiper.slides[curIndex];if(_this3.swiper.isEnd){var id=_this3.getLeftDatedSlideId(_this3.swiper.slides.length-1);_this3.line.move(_this3.getMonthLink(id))}else if(_this3.checkIfDated(currentSlide)){var month=_this3.getMonthLink(currentSlide.id);_this3.line.move(month),_this3.toggleActiveMonth(month)}else if(_this3.checkIfDated(_this3.swiper.slides[prevIndex])&&prevIndex>curIndex){var _id=_this3.getLeftDatedSlideId(curIndex),_month=_this3.getMonthLink(_id);_this3.line.move(_month),_this3.toggleActiveMonth(_month)}var el,linkOffset=(":first-child",((el=_this3.state.activeMonth).matches||el.matchesSelector||el.msMatchesSelector||el.mozMatchesSelector||el.webkitMatchesSelector||el.oMatchesSelector).call(el,":first-child")?74:10);TweenLite.a.to(_this3.yearsWrapper,.3,{scrollLeft:_this3.state.activeMonth.offsetLeft-linkOffset})}),this.line.move(this.months[0])}},{key:"checkIfDated",value:function(slide){return slide.classList.contains("timeline-slider__slide_has-date")}},{key:"getLeftDatedSlideId",value:function(index){var slides=Array.from(this.swiper.slides);for(index--;index>-1;){var slide=slides[index];if(this.checkIfDated(slide))return slide.id;index--}}},{key:"getMonthLink",value:function(id){return document.querySelector('[href="#'.concat(id,'"]'))}},{key:"toggleActiveMonth",value:function(month){this.state.activeMonth.classList.remove(this.classes.activeMonth),this.state.activeMonth=month,this.state.activeMonth.classList.add(this.classes.activeMonth)}}]),TimelineSlider}(),main_slider=__webpack_require__(153);function previews_slider_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function previews_slider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function previews_slider_createClass(Constructor,protoProps,staticProps){return protoProps&&previews_slider_defineProperties(Constructor.prototype,protoProps),staticProps&&previews_slider_defineProperties(Constructor,staticProps),Constructor}var previews_slider_PreviewsSlider=function(){function PreviewsSlider(element){!function(instance,Constructor){if(!(instance instanceof PreviewsSlider))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.slider=element.querySelector(".swiper-container"),this.arrows={prev:element.querySelector(".swiper-button-prev"),next:element.querySelector(".swiper-button-next")},this.slidesCount=previews_slider_toConsumableArray(this.element.querySelectorAll(".swiper-slide")).length,this.init()}return previews_slider_createClass(PreviewsSlider,null,[{key:"init",value:function(){return previews_slider_toConsumableArray(document.querySelectorAll(".previews-slider")).map(function(el){return new PreviewsSlider(el)})}}]),previews_slider_createClass(PreviewsSlider,[{key:"init",value:function(){this.toggleSliderOnScreenWidth(),window.addEventListener("resize",this.toggleSliderOnScreenWidth.bind(this))}},{key:"initSlider",value:function(){this.swiper&&this.swiper.initialized||(this.swiper=new swiper_min_default.a(this.slider,{slidesPerView:4,initialSlide:0,spaceBetween:24,loop:!0,navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},breakpoints:{1023:{slidesPerView:2},767:{slidesPerView:1}}}))}},{key:"destroySlider",value:function(){this.swiper&&this.swiper.initialized&&(this.swiper.destroy(),this.swiper=null)}},{key:"toggleSliderOnScreenWidth",value:function(){var docWidth=document.documentElement.clientWidth;docWidth>1023&&this.toggleSliderOnSlidesCount(4),docWidth>767&&docWidth<1024&&this.toggleSliderOnSlidesCount(2),docWidth<768&&this.toggleSliderOnSlidesCount(1)}},{key:"toggleSliderOnSlidesCount",value:function(count){this.slidesCount>count?this.initSlider():this.destroySlider()}}]),PreviewsSlider}(),complex_item_slider=__webpack_require__(62);function photo_gallery_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function photo_gallery_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function photo_gallery_createClass(Constructor,protoProps,staticProps){return protoProps&&photo_gallery_defineProperties(Constructor.prototype,protoProps),staticProps&&photo_gallery_defineProperties(Constructor,staticProps),Constructor}var photo_gallery_PhotoGallery=function(){function PhotoGallery(element){!function(instance,Constructor){if(!(instance instanceof PhotoGallery))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.topContainer=element.querySelector(".photo-gallery-single"),this.thumbContainer=element.querySelector(".photo-gallery-previews"),this.init()}return photo_gallery_createClass(PhotoGallery,null,[{key:"init",value:function(){return photo_gallery_toConsumableArray(document.querySelectorAll(".photo-gallery")).forEach(function(element){return new PhotoGallery(element)})}}]),photo_gallery_createClass(PhotoGallery,[{key:"init",value:function(){this.topContainer.querySelector(".swiper-wrapper")||this.wrapSlides(this.topContainer),this.thumbContainer.querySelector(".swiper-wrapper")||(this.wrapSlides(this.thumbContainer),this.appendButtons(this.thumbContainer)),this.initSliders()}},{key:"wrapSlides",value:function(container){var swiperWrapper=document.createElement("div");swiperWrapper.className="swiper-wrapper",photo_gallery_toConsumableArray(container.children).forEach(function(node){node.classList.add("swiper-slide"),swiperWrapper.appendChild(node)}),container.innerHTML="",container.appendChild(swiperWrapper)}},{key:"appendButtons",value:function(container){this.swiperPrev=document.createElement("button"),this.swiperPrev.className="photo-gallery__arrow swiper-prev",this.swiperPrev.type="button",this.swiperPrev.innerHTML='<i class="fa fa-angle-left"></i>',this.swiperNext=document.createElement("button"),this.swiperNext.className="photo-gallery__arrow swiper-next",this.swiperNext.type="button",this.swiperNext.innerHTML='<i class="fa fa-angle-right"></i>',container.appendChild(this.swiperPrev),container.appendChild(this.swiperNext)}},{key:"initSliders",value:function(){this.galleryThumbs=new swiper_min_default.a(this.thumbContainer,{spaceBetween:10,slidesPerView:3,centeredSlides:!0,loop:!0,speed:600,loopedSlides:3,longSwipes:!1,breakpoints:{768:{slidesPerView:2,centeredSlides:!1}}}),this.galleryTop=new swiper_min_default.a(this.topContainer,{effect:"fade",longSwipes:!1,fadeEffect:{crossFade:!0},navigation:{nextEl:this.swiperNext,prevEl:this.swiperPrev},speed:600,loop:!0,loopedSlides:3}),this.galleryTop.controller.control=this.galleryThumbs,this.galleryThumbs.controller.control=this.galleryTop}}]),PhotoGallery}(),sliders=[main_slider.a,layouts_slider_LayoutsSlider,thumb_gallery_ThumbGallery,timeline_TimelineSlider,previews_slider_PreviewsSlider,complex_item_slider.a,photo_gallery_PhotoGallery];function button_up_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function button_up_createClass(Constructor,protoProps,staticProps){return protoProps&&button_up_defineProperties(Constructor.prototype,protoProps),staticProps&&button_up_defineProperties(Constructor,staticProps),Constructor}var ButtonUp=function(){function ButtonUp(button){!function(instance,Constructor){if(!(instance instanceof ButtonUp))throw new TypeError("Cannot call a class as a function")}(this),this.button=button,this.bindEvents(),this.backToTop=this.backToTop.bind(this)}return button_up_createClass(ButtonUp,null,[{key:"init",value:function(){var button=document.querySelector(".button-up-n-2");button&&new ButtonUp(button)}}]),button_up_createClass(ButtonUp,[{key:"backToTop",value:function(){window.pageYOffset>0&&(window.scrollBy(0,-60),setTimeout(this.backToTop,0))}},{key:"bindEvents",value:function(){var _this=this;window.addEventListener("scroll",function(){window.pageYOffset>200?_this.button.classList.remove("hide"):_this.button.classList.add("hide")}),this.button.addEventListener("click",function(){return _this.backToTop()})}}]),ButtonUp}();function button_group_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function button_group_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function button_group_createClass(Constructor,protoProps,staticProps){return protoProps&&button_group_defineProperties(Constructor.prototype,protoProps),staticProps&&button_group_defineProperties(Constructor,staticProps),Constructor}var ButtonGroup=function(){function ButtonGroup(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof ButtonGroup))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.element.controller=this,this.classes=ButtonGroup.classes,this.buttons=button_group_toConsumableArray(element.querySelectorAll(".".concat(this.classes.button))),this.state={activeButton:this.buttons.find(function(button){return button.classList.contains(_this.classes.activeButton)})},this.toggleActive=this.toggleActive.bind(this),this.handlers=[],this.bindHandlers()}return button_group_createClass(ButtonGroup,null,[{key:"init",value:function(){return button_group_toConsumableArray(document.querySelectorAll(".button-group")).map(function(group){return new ButtonGroup(group)})}},{key:"classes",get:function(){return{button:"button-item",activeButton:"button-item_is_active"}}}]),button_group_createClass(ButtonGroup,[{key:"bindHandlers",value:function(){var _this2=this;this.buttons.map(function(button){button.addEventListener("click",_this2.toggleActive)})}},{key:"registerHandler",value:function(handler){"function"==typeof handler&&this.handlers.push(handler)}},{key:"toggleActive",value:function(event){event.preventDefault();var button=event.currentTarget;this.state.activeButton.classList.remove(this.classes.activeButton),this.state.activeButton=button,this.state.activeButton.classList.add(this.classes.activeButton),this.handlers.map(function(handler){return handler(button)})}}]),ButtonGroup}(),zoom=(__webpack_require__(45),__webpack_require__(88),__webpack_require__(26),__webpack_require__(67));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function infrastructure_map_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function infrastructure_map_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Points=[],infrastructure_map_InfrastructureMap=function(){function InfrastructureMap(element){var _this=this;if(function(instance,Constructor){if(!(instance instanceof InfrastructureMap))throw new TypeError("Cannot call a class as a function")}(this),element){this.element=element,this.map=element.querySelector(".infrastructure-map__map"),this.infraCheckboxes=infrastructure_map_toConsumableArray(element.querySelectorAll('#infrastructure input[type="checkbox"]')),this.ecoCheckboxes=infrastructure_map_toConsumableArray(element.querySelectorAll('#ecology input[type="checkbox"]')),this.urlBase="localhost"===window.location.hostname?"":"/build-redesign/",this.switchesContainers=infrastructure_map_toConsumableArray(document.querySelectorAll(".infrastructure-switches")),this.ps=[],this.state={psInited:!1},this.toggleSwitchesScroll=this.toggleSwitchesScroll.bind(this),this.toggleSwitchesScroll(),window.addEventListener("resize",this.toggleSwitchesScroll);var polygon=this.element.getAttribute("data-map-polygon");this.polygon=polygon?JSON.parse(polygon):[],this.ecoObjects={},this.urls={eco:this.element.getAttribute("data-eco-url"),infra:this.element.getAttribute("data-infrastructure-url")},this.yandexFirmsKey="81fd4d74-8f99-4223-b3a9-ced2137399e7",window.ymaps?this.bindMapEvents():window.ymapsObserver.subscribe(function(){_this.bindMapEvents()})}}var Constructor,protoProps;return Constructor=InfrastructureMap,(protoProps=[{key:"bindMapEvents",value:function(){var _this2=this;this.ymaps=window.ymaps,this.ymaps.ready(function(){_this2.initMap()})}},{key:"toggleSwitchesScroll",value:function(){document.documentElement.clientWidth<768?this.state.psInited||(this.ps=this.switchesContainers.map(function(el){return new perfect_scrollbar_esm.a(el,{wheelSpeed:.7})})):this.state.psInited&&(this.ps=this.ps.reduce(function(arr,ps){return ps.destroy(),arr},[]))}},{key:"initMap",value:function(){this.setIconUrls(),this.createHintLayouts();var zoomControl=Object(zoom.a)(this.ymaps,{bottom:"30px",right:"20px"});this.complexMap=new this.ymaps.Map(this.map,{center:[55.7156053517751,37.4754233558197],zoom:16,controls:[]},{maxZoom:16,minZoom:10}),this.complexMap.controls.add(zoomControl),this.complexMap.behaviors.disable("scrollZoom"),this.isMobile&&this.complexMap.behaviors.disable("drag"),this.infrastructureManager=new this.ymaps.ObjectManager({clusterize:!1,gridSize:32,viewportMargin:0}),this.ecoPointsManager=new this.ymaps.ObjectManager({clusterize:!1,gridSize:32,viewportMargin:0}),this.ecoManager=new this.ymaps.ObjectManager,this.initialData(),this.initHandlers()}},{key:"initialData",value:function(){var _this3=this;this.complexCollection=new this.ymaps.GeoObjectCollection;var name=this.element.getAttribute("data-complex-name");if(this.polygon.length){var myPolygon=new this.ymaps.GeoObject({geometry:{type:"Polygon",coordinates:this.polygon},properties:{name:name}},{fillColor:"#6064a0",strokeColor:"#fff",opacity:.5,hintLayout:this.HintLayout});this.complexCollection.add(myPolygon),this.complexMap.geoObjects.add(this.complexCollection),this.complexMap.setBounds(this.complexCollection.getBounds(),{checkZoomRange:!0,zoomMargin:10,zoom:16})}setTimeout(function(){var mapItems=window.map_items,mapCenter=_this3.complexMap.getCenter(),placeMark=new _this3.ymaps.Placemark(mapCenter,{name:name},{iconLayout:"default#image",iconImageHref:"".concat(_this3.urlBase,"static/img/minified-svg/ico-complex-on-map.svg"),iconImageSize:[32,43],iconImageOffset:[-15,-45],zIndex:9e3,id:"zoomMark",visible:!1,hintLayout:_this3.HintLayout});_this3.complexMap.geoObjects.add(placeMark),mapItems&&mapItems[0]&&mapItems[0].map_items.polygon?_this3.complexMap.events.add("boundschange",function(event){var newZoom=event.get("newZoom");placeMark.options.set("visible",newZoom<15)}):placeMark.options.set("visible",!0)},5e3)}},{key:"initHandlers",value:function(){var _this4=this;this.Objects={school:[],kindergarten:[],medicine:[],shopping:[],pharmacy:[],park:[],banks:[],industzones:[],thermalstations:[],industenterprises:[],incinerations:[],treatmentfacil:[],dump:[]},this.infraCheckboxes.map(function(input){input.addEventListener("change",_this4.onInfrastructureChange.bind(_this4))}),this.ecoCheckboxes.map(function(input){input.addEventListener("change",_this4.onEcoChange.bind(_this4))})}},{key:"onEcoChange",value:function(event){var target=event.currentTarget,type=target.value;target.checked?this.updateEcological():this.removeMapPolygons(type)}},{key:"onInfrastructureChange",value:function(event){var _this5=this,target=event.currentTarget,type=target.value;0===this.Objects[type].length?this.infRequest(type).then(function(data){if(data&&data.properties&&data.properties.ResponseMetaData&&data.properties.ResponseMetaData.SearchResponse&&data.properties.ResponseMetaData.SearchResponse.found){var features=data.features;for(var key in features)if(features.hasOwnProperty(key)){var feature=features[key];_this5.Objects[type].push({type:"Feature",id:feature.properties.CompanyMetaData.id,geometry:{type:"Point",coordinates:[feature.geometry.coordinates[1],feature.geometry.coordinates[0]]},options:{iconLayout:"default#image",iconImageSize:[38,38],iconImageHref:_this5.infrastructureIcon[type].iconImageHref,hintLayout:_this5.HintLayoutInfra},properties:{name:feature.properties.name},fillColor:"#6064a0",strokeColor:"#fff",opacity:.5})}}_this5.togglePoints(type,target.checked)}):this.togglePoints(type,target.checked)}},{key:"togglePoints",value:function(type,checked){checked?this.appendArray(Points,this.Objects[type]):(this.removeArray(Points,this.Objects[type]),this.infrastructureManager.remove(this.Objects[type])),this.infrastructureManager.add(Points),this.complexMap.geoObjects.add(this.infrastructureManager)}},{key:"ecoRequest",value:function(){var _this6=this;return fetch("".concat(this.urls.eco,"?coords=").concat(this.coords),{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){return response.json()}).then(function(_ref){var features=_ref.features;for(var key in features)if(features.hasOwnProperty(key)){var feature=features[key];_this6.ecoObjects[key]||(_this6.ecoObjects[key]=[]),_this6.appendArray(_this6.ecoObjects[key],feature)}})}},{key:"infRequest",value:function(type){var myCoords=this.polygon[0]&&this.polygon[0][0]?this.polygon[0][0]:[],url="".concat(this.urls.infra,"?apikey=").concat(this.yandexFirmsKey,"&lang=ru_RU&ll=").concat(myCoords.reverse().join(","),"&results=20&rspn=1&text=").concat(this.getInfRequest(type),"&type=biz");return fetch(url,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){return response.json()})}},{key:"appendArray",value:function(base,appender){appender.length&&"object"===_typeof(appender)&&appender.map(function(item){base.find(function(el){return item.id===el.id})||base.push(item)})}},{key:"removeArray",value:function(base,remover){remover.map(function(item){var index=base.indexOf(item);-1!==index&&base.splice(index,1)})}},{key:"updateEcological",value:function(){var _this7=this;this.ecoRequest().then(function(){_this7.ecoCheckboxes.filter(function(input){return input.checked}).map(function(el){return _this7.addMapPolygons(el.value)})})}},{key:"addMapPolygons",value:function(type){var _this8=this,objects=this.ecoObjects[type];objects&&objects.length&&(objects.map(function(item){item.options.hintLayout=_this8.HintLayoutEco,"Polygon"===item.geometry.type&&_this8.ecoPointsManager.add({type:"Feature",id:item.id,options:{hintLayout:_this8.HintLayoutEco,iconLayout:"default#image",iconImageSize:[30,40],iconImageOffset:[-12,-25],iconImageHref:item.options.iconImageHref},geometry:{type:"Point",coordinates:_this8.getPolygonCenter(item.geometry.coordinates[0])},properties:{name:item.properties.name,description:item.properties.description}})}),this.ecoManager.add(this.ecoObjects[type]),this.complexMap.geoObjects.add(this.ecoManager),this.complexMap.geoObjects.add(this.ecoPointsManager))}},{key:"removeMapPolygons",value:function(){var _this9=this,selected=this.ecoCheckboxes.filter(function(input){return input.checked});this.ecoPointsManager.removeAll(),this.ecoManager.removeAll(),this.infrastructureManager&&this.complexMap.geoObjects.add(this.infrastructureManager),selected.map(function(el){return _this9.addMapPolygons(el.value)})}},{key:"getPolygonCenter",value:function(coords){for(var mult,n=coords.length,xCoord=0,yCoord=0,space=0,i=0;i<n-1;i++)mult=coords[i][0]*coords[i+1][1]-coords[i+1][0]*coords[i][1],xCoord+=(coords[i][0]+coords[i+1][0])*mult,yCoord+=(coords[i][1]+coords[i+1][1])*mult,space+=mult;return[xCoord/=3*space,yCoord/=3*space]}},{key:"getInfRequest",value:function(type){switch(type){case"kindergarten":return"Детский сад";case"school":return"Школа";case"medicine":return"Больница";case"shopping":return"Магазин";case"banks":return"Банк";case"pharmacy":return"Аптека";case"park":return"Сквер"}}},{key:"createHintLayouts",value:function(){var ymaps=this.ymaps;this.HintLayout=ymaps.templateLayoutFactory.createClass('<div class="map-hint">\n        <div>{{ properties.name }}</div>\n      </div>',{getShape:function(){var el=this.getElement(),result=null;if(el){var firstChild=el.firstChild;result=new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[0,0],[firstChild.offsetWidth,firstChild.offsetHeight]]))}return result}}),this.HintLayoutInfra=ymaps.templateLayoutFactory.createClass('<div class="map-hint">\n        <div>{{ properties.name }}</div>\n      </div>',{getShape:function(){var el=this.getElement(),result=null;if(el){var firstChild=el.firstChild;result=new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[0,0],[firstChild.offsetWidth,firstChild.offsetHeight]]))}return result}}),this.HintLayoutEco=ymaps.templateLayoutFactory.createClass('<div class="map-hint">\n        <div>{{ properties.description }}</div>\n        <div>{{ properties.name }}</div>\n      </div>',{getShape:function(){var el=this.getElement(),result=null;if(el){var firstChild=el.firstChild;result=new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[0,0],[firstChild.offsetWidth,firstChild.offsetHeight]]))}return result}})}},{key:"setIconUrls",value:function(){this.infrastructureIcon={banks:{iconImageHref:"".concat(this.urlBase,"static/img/minified-svg/map-icon_banks-n-2.svg")},school:{iconImageHref:"".concat(this.urlBase,"static/img/minified-svg/map-icon_edu-n-2.svg")},kindergarten:{iconImageHref:"".concat(this.urlBase,"static/img/minified-svg/map-icon_garden-n-2.svg")},shopping:{iconImageHref:"".concat(this.urlBase,"static/img/minified-svg/map-icon_shop-n-2.svg")},pharmacy:{iconImageHref:"".concat(this.urlBase,"static/img/minified-svg/map-icon_pharmacy-n-2.svg")},park:{iconImageHref:"".concat(this.urlBase,"static/img/minified-svg/map-icon_park-n-2.svg")},medicine:{iconImageHref:"".concat(this.urlBase,"static/img/minified-svg/map-icon_medicine-n-2.svg")}}}},{key:"coords",get:function(){var myCoords=this.polygon[0]&&this.polygon[0][0]?this.polygon[0][0]:[],bounds=this.complexMap.getBounds();return bounds[1][1]-bounds[0][1]<.15&&(bounds[1][1]=myCoords[1]+.075,bounds[0][1]=myCoords[1]-.075,bounds[1][0]=myCoords[0]+.02,bounds[0][0]=myCoords[0]-.02),bounds.reduce(function(prev,current,i){return"".concat(prev).concat(i>0?",":"").concat(current[0],",").concat(current[1])},"")}},{key:"isMobile",get:function(){return document.body.clientWidth<1024}}])&&infrastructure_map_defineProperties(Constructor.prototype,protoProps),InfrastructureMap}(),tabs=__webpack_require__(43),draggable=__webpack_require__(154);function infrastructure_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function infrastructure_createClass(Constructor,protoProps,staticProps){return protoProps&&infrastructure_defineProperties(Constructor.prototype,protoProps),staticProps&&infrastructure_defineProperties(Constructor,staticProps),Constructor}var infrastructure_Infrastructure=function(){function Infrastructure(element){var arr;!function(instance,Constructor){if(!(instance instanceof Infrastructure))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.tabsContainer=element.querySelector(".tabs-links"),this.tabsWrapper=element.querySelector(".tabs-links__wrapper"),this.tabs={links:(arr=element.querySelectorAll(".tabs-links__link"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),line:element.querySelector(".tabs-links__line")},this.tabsController=new tabs.a(this.tabs.links,{line:this.tabs.line,linkClass:"tabs-links__link",tabsClass:"infrastructure-n-2-tabs__tab",callback:this.handleTabChange.bind(this)}),this.tabsController.init(),this.ps=new perfect_scrollbar_esm.a(this.tabsWrapper,{useBothWheelAxes:!0}),this.tabsContainer.classList.add("tabs-links_scrollable"),this.draggable=new draggable.a(this.tabsWrapper),this.map=element.querySelector(".infrastructure-map"),this.streetView=element.querySelector(".street-view"),this.infrastructureMap=new infrastructure_map_InfrastructureMap(this.map),this.switches={infrastructure:element.querySelector("#infrastructure"),ecology:element.querySelector("#ecology")},this.views=[{key:"streetview",node:element.querySelector("#streetview")},{key:"panorama",node:element.querySelector("#panorama")}],this.state={containerActive:this.map,activeWrap:this.tabsController.activeTab}}return infrastructure_createClass(Infrastructure,null,[{key:"init",value:function(){var map=document.querySelector(".infrastructure-n-2");return map?new Infrastructure(map):null}}]),infrastructure_createClass(Infrastructure,[{key:"handleTabChange",value:function(tab){if(tab){var type=tab.getAttribute("data-type");type&&this.beforeWrapperToggle(type)}}},{key:"beforeWrapperToggle",value:function(type){switch(type){case"infrastructure":case"ecology":this.toggleActiveWrapper("switches",type);break;case"streetview":case"panorama":this.toggleActiveWrapper("views",type)}}},{key:"toggleActiveWrapper",value:function(category,type){if(this.state.activeWrap.classList.remove("is-active"),"views"===category){this.map&&this.map.classList.add("is-hidden");var nextTab=this.views.find(function(view){return view.key===type}).node;nextTab&&this.streetView&&(nextTab.classList.add("is-active"),this.state.activeWrap=nextTab)}else"switches"===category&&this.map&&this.map.classList.remove("is-hidden");this.fireResizeEvent()}},{key:"fireResizeEvent",value:function(){var event=new CustomEvent("resize");window.dispatchEvent(event)}}]),Infrastructure}(),moveTo=__webpack_require__(40),moveTo_default=__webpack_require__.n(moveTo);function accordion_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function accordion_createClass(Constructor,protoProps,staticProps){return protoProps&&accordion_defineProperties(Constructor.prototype,protoProps),staticProps&&accordion_defineProperties(Constructor,staticProps),Constructor}var accordion=function(){function Accordion(element){var _this=this;switch(function(instance,Constructor){if(!(instance instanceof Accordion))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.id=element.getAttribute("data-accordion"),this.body=document.querySelector("#".concat(this.id)),this.opened=this.body.getAttribute("data-opened-default")||!1,this.responsive=element.getAttribute("data-responsive"),this.onCloseTarget=element.getAttribute("data-on-close-target"),this.body.classList.contains("accordion-n-2")||this.body.classList.add("accordion-n-2"),this.textElement=element.getAttribute("data-accordion-text")?element:element.querySelector("[data-accordion-text]"),this.textElement&&(this.text={default:"",alt:"Свернуть"}),this.opened?TweenLite.a.set(this.body,{height:"auto"}):TweenLite.a.set(this.body,{height:"0"}),this.responsive){case"desktop-open":this.onDesktopToggle(),window.addEventListener("resize",this.onDesktopToggle.bind(this))}this.element.addEventListener("click",function(event){event.preventDefault(),_this.opened?_this.close():_this.open(),_this.opened=!_this.opened}),this.moveTo=new moveTo_default.a}return accordion_createClass(Accordion,null,[{key:"init",value:function(){return(arr=document.querySelectorAll("[data-accordion]"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(element){return new Accordion(element)});var arr}}]),accordion_createClass(Accordion,[{key:"close",value:function(){var _this2=this;this.body.classList.remove("accordion-n-2_open"),TweenLite.a.to(this.body,.5,{height:0,onComplete:function(){_this2.textElement.innerText=_this2.text.default,_this2.element.removeAttribute("data-accordion-shown"),_this2.body.removeAttribute("data-accordion-shown"),_this2.opened=!1}}),this.onCloseTarget&&this.moveTo.move(this.onCloseTarget,{duration:500})}},{key:"open",value:function(){var _this3=this;TweenLite.a.set(this.body,{height:"auto"}),TweenLite.a.from(this.body,.5,{height:0,onComplete:function(){_this3.text.default=_this3.textElement.innerText,_this3.textElement.innerText=_this3.text.alt,_this3.element.setAttribute("data-accordion-shown",""),_this3.body.classList.add("accordion-n-2_open"),_this3.opened=!0}})}},{key:"onDesktopToggle",value:function(){document.documentElement.clientWidth<768?this.opened&&this.close():this.opened||this.open()}}]),Accordion}(),axios=__webpack_require__(15),axios_default=__webpack_require__.n(axios),content_search_helpers=__webpack_require__(18);__webpack_require__(108);var getFormDataFromObject=function(data){var formData=new FormData;return Object.entries(data).forEach(function(_ref){var arr,i,_ref2=(i=2,function(arr){if(Array.isArray(arr))return arr}(arr=_ref)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),key=_ref2[0],value=_ref2[1];formData.append(key,value)}),formData};function subscribe_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function subscribe_createClass(Constructor,protoProps,staticProps){return protoProps&&subscribe_defineProperties(Constructor.prototype,protoProps),staticProps&&subscribe_defineProperties(Constructor,staticProps),Constructor}var subscribe_SubscribeController=function(){function SubscribeController(element){!function(instance,Constructor){if(!(instance instanceof SubscribeController))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.form=element.querySelector("form"),this.button=element.querySelector("button")||element.querySelector('input[type="submit"]'),this.resultContainer=element.querySelector(".subscribe-n-2__result"),this.inputContainer=this.form.querySelector(".input-container-n-2"),this.emailField=this.inputContainer.querySelector("input"),this.inputError=this.inputContainer.querySelector(".input-container-n-2__error"),this.inputError||(this.inputError=document.createElement("div"),this.inputError.classList.add("input-container-n-2__error"),this.inputContainer.appendChild(this.inputError)),this.url=this.form.getAttribute("action"),this.onInput=this.onInput.bind(this),this.bindHandlers()}return subscribe_createClass(SubscribeController,null,[{key:"init",value:function(){return(arr=document.querySelectorAll(".subscribe-n-2"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(element){return new SubscribeController(element)});var arr}}]),subscribe_createClass(SubscribeController,[{key:"bindHandlers",value:function(){var _this=this;this.form.addEventListener("submit",function(event){event.preventDefault();var email=_this.emailField.value;_this.button.setAttribute("disabled",!0),_this.validateEmail(email)?_this.sendRequest():_this.displayError("Укажите верный email")})}},{key:"sendRequest",value:function(){var _this2=this;return axios_default.a.post(this.url,getFormDataFromObject(Object(content_search_helpers.c)(this.form,{hash:!0}))).then(function(response){_this2.emailField.value="",_this2.showResult("Вы успешно подписались на новости")}).catch(function(){_this2.displayError("Не удалось подписаться")})}},{key:"displayError",value:function(text){this.inputError.innerText=text,this.inputContainer.classList.add("input-container-n-2_has_error"),this.emailField.addEventListener("keydown",this.onInput)}},{key:"onInput",value:function(){this.inputContainer.classList.remove("input-container-n-2_has_error"),this.button.removeAttribute("disabled"),this.emailField.removeEventListener("keydown",this.onInput)}},{key:"showResult",value:function(text){var _this3=this;TweenLite.a.to(this.form,.7,{opacity:0,yPercent:20,display:"none",onComplete:function(){_this3.showResultText(text)}}),TweenLite.a.to(this.resultContainer,.7,{delay:.7,opacity:1,display:"flex"}),TweenLite.a.to(this.resultContainer,.7,{delay:3.4,opacity:0,display:"none"}),TweenLite.a.to(this.form,.7,{delay:4.1,opacity:1,yPercent:0,display:"flex"})}},{key:"showResultText",value:function(text){this.resultContainer.innerText=text,TweenLite.a.fromTo(this.resultContainer,.2,{y:30,opacity:0},{y:0,opacity:1}),this.button.removeAttribute("disabled")}},{key:"validateEmail",value:function(email){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)}}]),SubscribeController}();function anchor_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function anchor_createClass(Constructor,protoProps,staticProps){return protoProps&&anchor_defineProperties(Constructor.prototype,protoProps),staticProps&&anchor_defineProperties(Constructor,staticProps),Constructor}var anchor_AnchorsController=function(){function AnchorsController(){var arr;!function(instance,Constructor){if(!(instance instanceof AnchorsController))throw new TypeError("Cannot call a class as a function")}(this),this.moveTo=new moveTo_default.a,this.links=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=document.querySelectorAll("[data-anchor]"))||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),this.hasFixableHeader=!!document.querySelector(".js-fixable-header"),this.bindHandlers()}return anchor_createClass(AnchorsController,null,[{key:"init",value:function(){return new AnchorsController}}]),anchor_createClass(AnchorsController,[{key:"bindHandlers",value:function(){var _this=this;this.links.map(function(link){var additionalTolerance=+link.getAttribute("data-anchor-tolerance")||0,href=link.getAttribute("href"),target=document.querySelector(href);href&&target&&link.addEventListener("click",function(event){event.preventDefault(),_this.moveTo.move(target,{duration:750,tolerance:20*_this.hasFixableHeader+additionalTolerance})})})}}]),AnchorsController}();function street_view_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function street_view_createClass(Constructor,protoProps,staticProps){return protoProps&&street_view_defineProperties(Constructor.prototype,protoProps),staticProps&&street_view_defineProperties(Constructor,staticProps),Constructor}var StreetView=function(){function StreetView(element){!function(instance,Constructor){if(!(instance instanceof StreetView))throw new TypeError("Cannot call a class as a function")}(this);var coords=element.getAttribute("data-coords"),direction=element.getAttribute("data-direction");coords&&(this.controlsContainer=document.querySelector(".infrastructure-n-2__tab-container"),this.element=element,this.type=element.getAttribute("data-street-view"),this.ymaps=window.ymaps,this.coords=JSON.parse(coords),this.direction=direction?JSON.parse(direction):[0,0],this.initView())}return street_view_createClass(StreetView,null,[{key:"init",value:function(){return(arr=document.querySelectorAll("[data-street-view]"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(view){return new StreetView(view)});var arr}}]),street_view_createClass(StreetView,[{key:"initView",value:function(){switch(this.type){case"yandex":this.ymaps&&this.ymaps.ready(this.initYandex.bind(this))}}},{key:"initYandex",value:function(){var _this=this;this.ymaps.panorama.locate(this.coords).then(function(panoramas){panoramas.length&&(_this.player=new _this.ymaps.panorama.Player(_this.element,panoramas[0],{direction:_this.direction}),_this.controlsContainer.classList.add("inited-panorama"))})}}]),StreetView}();function avatar_form_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function avatar_form_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function avatar_form_createClass(Constructor,protoProps,staticProps){return protoProps&&avatar_form_defineProperties(Constructor.prototype,protoProps),staticProps&&avatar_form_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(63);var AvatarForm=function(){function AvatarForm(element){!function(instance,Constructor){if(!(instance instanceof AvatarForm))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.image=this.element.querySelector(".avatar-form-n-2__preview"),this.input=this.element.querySelector('input[name="my-image"]'),this.hiddenInput=this.element.querySelector('input[name="avatar"]'),this.defaultImages=avatar_form_toConsumableArray(this.element.querySelectorAll(".avatar-form-n-2__defaults .avatar-form-n-2__preview")),this.bindEvents()}return avatar_form_createClass(AvatarForm,null,[{key:"init",value:function(){return avatar_form_toConsumableArray((arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".js-avatar-form")).forEach(function(element){new AvatarForm(element)})}}]),avatar_form_createClass(AvatarForm,[{key:"bindEvents",value:function(){var _this=this;this.image.addEventListener("click",function(){_this.element.classList.toggle("is-active")}),this.defaultImages.forEach(function(el){el.addEventListener("click",function(){var defaultStyle=el.getAttribute("data-style");el.classList.add("is-checked"),_this.defaultImages.forEach(function(element){element!==el&&element.classList.remove("is-checked")}),_this.hiddenInput.value=defaultStyle,_this.image.setAttribute("data-style",defaultStyle),_this.image.innerHTML=""})}),this.input.addEventListener("change",function(event){var files=avatar_form_toConsumableArray(event.target.files);if(files&&files[0]){var reader=new FileReader;reader.onload=function(){var image=document.createElement("img");image.src=reader.result,_this.defaultImages.forEach(function(element){element.classList.remove("is-checked")}),_this.hiddenInput.value=reader.result,_this.image.removeAttribute("data-style"),_this.image.innerHTML="",_this.image.appendChild(image)},reader.readAsDataURL(files[0])}}),document.body.addEventListener("click",function(event){event.target.closest(".avatar-form-n-2")||_this.element.classList.remove("is-active")})}}]),AvatarForm}();function feedback_form_upload_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function feedback_form_upload_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(39);var FeedbackFormUpload=function(){function FeedbackFormUpload(formController){!function(instance,Constructor){if(!(instance instanceof FeedbackFormUpload))throw new TypeError("Cannot call a class as a function")}(this),this.controller=formController,this.formUploadsWrappers=feedback_form_upload_toConsumableArray(this.controller.form.querySelectorAll(".js-upload-wrap")),this.formFileInputs=feedback_form_upload_toConsumableArray(this.controller.form.querySelectorAll(".js-upload-target")),this.formUploadInputs=feedback_form_upload_toConsumableArray(this.controller.form.querySelectorAll(".js-upload-input")),this.inputsCollection=[],this.uploadsCollection=[],this.uploadsCount=0,this.bindEvents()}var Constructor,protoProps;return Constructor=FeedbackFormUpload,(protoProps=[{key:"bindEvents",value:function(){var _this=this;this.formUploadsWrappers.forEach(function(el){var trigger=el.querySelector(".js-upload-file-trigger"),previews=el.querySelector(".js-upload-file-target"),container=el.querySelector(".js-upload-input");trigger.addEventListener("click",function(event){event.preventDefault(),_this.uploadFile(container,previews)})})}},{key:"bindPreviewEvents",value:function(){var _this2=this;this.formUploadsWrappers.forEach(function(el){feedback_form_upload_toConsumableArray(el.querySelectorAll(".attached-file__close")).forEach(function(element){element.addEventListener("click",function(){var index=element.parentNode.getAttribute("data-file-index");_this2.formUploadsWrappers.forEach(function(wrapper){feedback_form_upload_toConsumableArray(wrapper.querySelectorAll('[data-file-index="'.concat(index,'"'))).forEach(function(elem){elem.parentNode.removeChild(elem)})})})})})}},{key:"createItemPreview",value:function(fileExtension,image){return'\n      <div class="attached-file" title="Изображение" data-file-index="'.concat(this.uploadsCount,'">\n        <div class="attached-file__close">\n          <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">\n            <path stroke="#071321" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1l8 8M9 1L1 9"/>\n          </svg>\n        </div>\n        <div class="attached-file__img">\n          ').concat(image||"",'\n          <div class="attached-file__tag">').concat(fileExtension,'</div>\n        </div>\n        <div class="attached-file__title">').concat(this.getTitle(fileExtension),"</div>\n      </div>\n    ")}},{key:"getTitle",value:function(fileExtension){return"jpg"===fileExtension||"png"===fileExtension?"Изображение":"txt"===fileExtension||"docx"===fileExtension||"doc"===fileExtension?"Документ":"xlsx"===fileExtension||"xls"===fileExtension?"Таблица":"ppt"===fileExtension||"pps"===fileExtension||"pptx"===fileExtension?"Презентация":void 0}},{key:"uploadFile",value:function(container,view){var _this3=this;feedback_form_upload_toConsumableArray(container.querySelectorAll('input[type="file"]')).forEach(function(el){0===el.value.length&&el.parentNode.removeChild(el)});var input=document.createElement("input");input.setAttribute("type","file"),input.setAttribute("accept","image/jpeg, image/png, image/gif, image/bmp, .xlsx, .xls, .doc, .docx, .txt, .pdf"),input.setAttribute("name","files[]"),input.setAttribute("multiple","multiple"),input.setAttribute("data-url","/ajax/comments_file.php"),input.setAttribute("data-file-index",++this.uploadsCount),input.setAttribute("multiple","true"),input.addEventListener("change",function(event){feedback_form_upload_toConsumableArray(event.target.files).forEach(function(file){var extension=file.name.split(".").pop().toLowerCase(),reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(){var image="";["jpg","png"].includes(extension)&&(image='<img class="thumb" src="'.concat(reader.result,'" />'));var input2=document.createElement("input");input2.setAttribute("name","files_array[][".concat(_this3.uploadsCount,"]")),input2.setAttribute("type","hidden"),input2.setAttribute("value",reader.result),input2.setAttribute("data-file-index",_this3.uploadsCount),container.appendChild(input2),_this3.inputsCollection.push(input2),view.innerHTML+=_this3.createItemPreview(extension,image),_this3.uploadsCollection.push(file),_this3.bindPreviewEvents()}})}),container.appendChild(input),this.inputsCollection.push(input),input.click()}},{key:"clear",value:function(){this.formFileInputs.forEach(function(el){el.innerHTML=""}),this.formUploadInputs.forEach(function(el){el.innerHTML=""})}}])&&feedback_form_upload_defineProperties(Constructor.prototype,protoProps),FeedbackFormUpload}(),emailValidation=function(value){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(value)};var setFormState=function(form,nextState){var arr,formInputs=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=form.elements)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}();Object.entries(nextState).forEach(function(_ref){var arr,i,_ref2=(i=2,function(arr){if(Array.isArray(arr))return arr}(arr=_ref)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),key=_ref2[0],value=_ref2[1],input=formInputs.find(function(el){return el.name===key});input&&("checkbox"===input.type?input.checked=!0:input.value=value)})};function feedback_form_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function feedback_form_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var feedback_form_FeedbackForm=function(){function FeedbackForm(element,controller){!function(instance,Constructor){if(!(instance instanceof FeedbackForm))throw new TypeError("Cannot call a class as a function")}(this),this.form=element,this.controller=controller,this.formInputs=feedback_form_toConsumableArray(this.form.elements),this.formSubmit=this.form.querySelector('[type="submit"]'),this.formAuthType=this.form.querySelector('[name="auth-type"]'),this.formSetAuthType=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-auth-type")),this.socialsAuth=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-social-auth")),this.logout=this.form.querySelector(".js-logout"),this.formMessages=this.form.querySelector(".info-messages"),this.loggedSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-comments-logged")),this.notLoggedSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-comments-not-logged")),this.hideForGuestSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-guest")),this.hideForCommentSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-comment")),this.hideForNewsSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-news")),this.hideForArticleSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-articles")),this.hideForInterviewSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-interview")),this.uploadController=new FeedbackFormUpload(this),this.initTabs(),this.bindEvents(),this.bindModalTriggersEvents()}var Constructor,protoProps;return Constructor=FeedbackForm,(protoProps=[{key:"bindEvents",value:function(){var _this=this;this.controller.feedbackModal.addEventListener("hidden.bs.modal-n-2",function(){feedback_form_toConsumableArray(_this.form.querySelectorAll(".input-container-n-2__error")).forEach(function(el){el.innerText=""})}),this.formInputs.forEach(function(el){el.addEventListener("blur",function(){_this.validateField(el,el.name)})}),this.formSetAuthType.forEach(function(el){el.addEventListener("click",function(){var authType=el.getAttribute("data-auth-type");_this.formAuthType.value=authType,_this.hideForGuestSections.forEach(function(element){"guest"===authType?element.classList.add("hidden-n-2"):element.classList.remove("hidden-n-2")})})}),this.socialsAuth.forEach(function(el){el.addEventListener("click",function(event){return event.preventDefault(),_this.handleSocialAuth(el.getAttribute("data-provider"))})}),this.logout.addEventListener("click",function(event){return event.preventDefault(),axios_default.a.get("/ajax/comments_logout.php").then(function(response){response.data.success&&(_this.loggedSections.forEach(function(el){el.classList.add("hidden-n-2")}),_this.notLoggedSections.forEach(function(el){el.classList.remove("hidden-n-2")}),_this.uploadController.clear())})}),this.form.addEventListener("submit",function(event){return event.preventDefault(),_this.handleSubmit()})}},{key:"bindModalTriggersEvents",value:function(){var _this2=this;this.controller.feedbackModalTriggers.forEach(function(el){el.addEventListener("click",function(){var formState={type:el.getAttribute("data-type"),"element-id":el.getAttribute("data-element-id"),review:el.getAttribute("data-review"),"review-top":el.getAttribute("data-review-top")};switch(setFormState(_this2.form,formState),_this2.hideForCommentSections.forEach(function(element){el.hasAttribute("review")?element.classList.add("hidden-n-2"):element.classList.remove("hidden-n-2")}),el.getAttribute("data-type")){case"news":_this2.hideForNewsSections.forEach(function(element){return element.classList.add("hidden-n-2")});break;case"articles":_this2.hideForArticleSections.forEach(function(element){return element.classList.add("hidden-n-2")});break;case"interview":_this2.hideForInterviewSections.forEach(function(element){return element.classList.add("hidden-n-2")})}})})}},{key:"handleSubmit",value:function(){var _this3=this;if(this.formMessages.innerHTML="",this.formInputs.forEach(function(el){_this3.validateField(el,el.name)}),this.error)return!1;this.formSubmit.disabled=!0;var requestData=Object(content_search_helpers.c)(this.form);return axios_default.a.post("/ajax/comments_send.php",requestData).then(function(response){var data=response.data,error=data.error,success=data.success,action=data.action;error?_this3.formMessages.innerHTML=error.reduce(function(acc,value){return acc+value}):success&&(_this3.form.reset(),_this3.controller.onSuccess()),action&&["afterRegister","afterAuth"].includes(action)&&(_this3.loggedSections.forEach(function(el){el.classList.remove("hidden-n-2")}),_this3.notLoggedSections.forEach(function(el){el.classList.add("hidden-n-2")}))}).finally(function(){_this3.formSubmit.disabled=!1})}},{key:"handleSocialAuth",value:function(provider){var _this4=this,dualScreenLeft=window.screenLeft?window.screenLeft:screen.left,dualScreenTop=window.screenTop?window.screenTop:screen.top,left=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-300+dualScreenLeft,top=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-200+dualScreenTop,newWindow=window.open("/ajax/social_auth.php?auth_via="+provider+"&social=entry","Авторизация","scrollbars=yes, width=600, height=400, top="+top+", left="+left);window.focus&&newWindow.focus();var timer=setInterval(function(){newWindow.document.getElementsByClassName("game-account-user__name").length>0&&(newWindow.close(),_this4.loggedSections.forEach(function(element){element.classList.remove("hidden-n-2")}),_this4.notLoggedSections.forEach(function(element){element.classList.add("hidden-n-2")}),_this4.formAuthType.value="social",setTimeout(function(){clearInterval(timer)},100))},200)}},{key:"validateField",value:function(input,name){var _this5=this,inputValue=input.value,validate=function(predicate,onErrorText){predicate?(input.nextElementSibling.innerHTML="",input.closest(".input-container-n-2").classList.remove("input-container-n-2_has_error"),_this5.error=!1):(input.nextElementSibling.innerHTML=onErrorText,input.closest(".input-container-n-2").classList.add("input-container-n-2_has_error"),_this5.error=!0)};switch(name){case"name":validate(inputValue,"Обязательное поле");break;case"register-email":"register"===this.formAuthType.value&&validate(emailValidation(inputValue),"Введите корректный e-mail");break;case"auth-email":"auth"===this.formAuthType.value&&validate(emailValidation(inputValue),"Введите корректный e-mail");break;case"auth-password":"auth"===this.formAuthType.value&&validate(inputValue&&inputValue.length>=8,"Введите минимум 8 символов");break;case"register-password":"register"===this.formAuthType.value&&validate(inputValue&&inputValue.length>=8,"Введите минимум 8 символов");break;case"text":validate(inputValue.length>=10,"Введите минимум 10 символов")}}},{key:"initTabs",value:function(){var tabLinks=feedback_form_toConsumableArray(document.querySelectorAll(".feedback-modal .tabs-links__link"));new tabs.a(tabLinks,{linkClass:"tabs-links__link",tabsClass:"feedback-modal__tab"}).init()}}])&&feedback_form_defineProperties(Constructor.prototype,protoProps),FeedbackForm}();function star_form_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function star_form_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function star_form_createClass(Constructor,protoProps,staticProps){return protoProps&&star_form_defineProperties(Constructor.prototype,protoProps),staticProps&&star_form_defineProperties(Constructor,staticProps),Constructor}var StarForm=function(){function StarForm(element){!function(instance,Constructor){if(!(instance instanceof StarForm))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.input=this.element.querySelector('[name="star"]'),this.resetButton=this.element.nextSibling,this.stars=star_form_toConsumableArray(this.element.querySelectorAll(".stars__empty i")),this.fullStars=this.element.querySelector(".stars__full"),this.fullStarsWidth=0,this.bindEvents()}return star_form_createClass(StarForm,null,[{key:"init",value:function(){return star_form_toConsumableArray((arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".js-star-form")).forEach(function(element){new StarForm(element)})}}]),star_form_createClass(StarForm,[{key:"bindEvents",value:function(){var _this=this;this.stars.forEach(function(el,index){el.addEventListener("mouseenter",function(){_this.fullStars.style.width=20*index+20+"%"}),el.addEventListener("click",function(){_this.fullStarsWidth=20*index+20+"%",_this.input.value=index+1})}),this.element.addEventListener("mouseout",function(){_this.fullStars.style.width=_this.fullStarsWidth}),this.resetButton.addEventListener("click",function(event){event.preventDefault(),_this.fullStars.style.width="0%",_this.input.value=0})}}]),StarForm}();function reviews_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function reviews_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function reviews_createClass(Constructor,protoProps,staticProps){return protoProps&&reviews_defineProperties(Constructor.prototype,protoProps),staticProps&&reviews_defineProperties(Constructor,staticProps),Constructor}var reviews_Reviews=function(){function Reviews(element){!function(instance,Constructor){if(!(instance instanceof Reviews))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.tabLinks=reviews_toConsumableArray(element.querySelectorAll(".button-item")),this.form=this.element.querySelector(".answer-form"),this.form&&(this.formSubmit=this.form.querySelector('[type="submit"]'),this.formInput=this.form.querySelector('[name="text"]')),this.statusModal=document.querySelector("#modal-status"),this.statusModal&&(this.statusModalContent=this.statusModal.querySelector(".js-modal-status-target")),this.feedbackModal=document.querySelector("#modal-feedback"),this.feedbackModalTriggers=reviews_toConsumableArray(document.querySelectorAll('[data-target="#modal-feedback"]')),this.feedbackFormNode=this.feedbackModal.querySelector(".js-feedback-form"),this.feedbackFormNode&&(this.feedbackForm=new feedback_form_FeedbackForm(this.feedbackFormNode,this)),AvatarForm.init(this.feedbackModal),StarForm.init(this.feedbackModal),this.initTabs(),this.initAnswerForm()}return reviews_createClass(Reviews,null,[{key:"init",value:function(){var reviews=document.querySelector(".reviews");return reviews?new Reviews(reviews):null}}]),reviews_createClass(Reviews,[{key:"initTabs",value:function(){var _this=this;this.tabLinks.length&&(this.tabs=new tabs.a(this.tabLinks,{linkClass:"button-item",tabsClass:"reviews__tab",beforeChange:function(callElement){var sortType=callElement.getAttribute("href"),reviewsContainer=_this.element.querySelector("".concat(sortType," .reviews-list")),sortedReviews=reviews_toConsumableArray(reviewsContainer.querySelectorAll(".reviews-list__item")).sort(function(a,b){var left,right,direction=1;return"#reviews-order"===sortType?(direction=-1,left=new Date(a.querySelector(".review-n-2__meta").innerText),right=new Date(b.querySelector(".review-n-2__meta").innerText)):"#reviews-popular"===sortType&&(left=parseInt(a.querySelector(".review-vote_like").innerText,10),right=parseInt(b.querySelector(".review-vote_like").innerText,10)),left>right?-direction:left<right?direction:0});reviewsContainer.innerHTML="",sortedReviews.forEach(function(el){reviewsContainer.appendChild(el)})}}),this.tabs.init())}},{key:"initAnswerForm",value:function(){var _this2=this;this.form&&this.form.addEventListener("submit",function(event){event.preventDefault(),_this2.formSubmit.disabled=!0;var requestData=Object(content_search_helpers.c)(_this2.form);return axios_default.a.post("/ajax/comments_send.php",requestData).then(function(response){var serializedForm,data=response.data,error=data.error,success=data.success;"no"===data.user_auth?(serializedForm=Object(content_search_helpers.c)(_this2.form,{hash:!0}),_this2.feedbackForm&&setFormState(_this2.feedbackForm,serializedForm),_this2.feedbackModal.Modal&&_this2.feedbackModal.Modal.show(),_this2.formInput.value=""):error?function(error){_this2.statusModal&&(_this2.statusModalContent.innerHTML=error.reduce(function(acc,value){return acc+value}),_this2.statusModal.Modal.show())}(error):success&&_this2.onSuccess()}).finally(function(){_this2.formSubmit.disabled=!1})})}},{key:"onSuccess",value:function(){this.statusModal&&(this.statusModalContent.innerHTML='\n        <div class="h3">Спасибо за ваш комментарий!</div>\n        <p>После модерации он будет опубликован на сайте</p>\n      ',this.statusModal.Modal.show());try{ym(39897405,"reachGoal","Button_Submit_Feedback")}catch(e){}}}]),Reviews}(),light_gallery=__webpack_require__(85);function main_banner_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function main_banner_createClass(Constructor,protoProps,staticProps){return protoProps&&main_banner_defineProperties(Constructor.prototype,protoProps),staticProps&&main_banner_defineProperties(Constructor,staticProps),Constructor}var MainBanner=function(){function MainBanner(element){!function(instance,Constructor){if(!(instance instanceof MainBanner))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.toggleButton=element.querySelector(".main-banner-n-2__minimize"),this.footer=document.querySelector(".footer-n-2"),this.element.style.cssText="",this.element.classList.add("_minimized"),this.element.classList.add("_show"),this.MAXIMIZE_OFFSET=100,this.isMinimizedByUser=!1,this.initHandlers(!0)}return main_banner_createClass(MainBanner,null,[{key:"init",value:function(){var banner=document.querySelector(".main-banner-n-2");return banner?new MainBanner(banner):null}}]),main_banner_createClass(MainBanner,[{key:"initHandlers",value:function(showOnFooter){var _this=this;document.addEventListener("scroll",function(){(document.scrollingElement||document.documentElement).scrollTop>=_this.MAXIMIZE_OFFSET&&(showOnFooter||_this.isFooterNotVisible)&&!_this.isMinimizedByUser&&_this.element.classList.remove("_minimized")}),this.toggleButton&&this.toggleButton.addEventListener("click",function(e){e.preventDefault(),_this.element.classList.contains("_minimized")?(_this.isMinimizedByUser=!1,_this.element.classList.remove("_minimized")):(_this.isMinimizedByUser=!0,_this.element.classList.add("_minimized"))})}},{key:"isFooterNotVisible",get:function(){var windowHeight=window.innerHeight;return this.footer.getBoundingClientRect().top>windowHeight}}]),MainBanner}();function review_vote_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function review_vote_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function review_vote_createClass(Constructor,protoProps,staticProps){return protoProps&&review_vote_defineProperties(Constructor.prototype,protoProps),staticProps&&review_vote_defineProperties(Constructor,staticProps),Constructor}var review_vote_ReviewVote=function(){function ReviewVote(element){!function(instance,Constructor){if(!(instance instanceof ReviewVote))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.buttons=review_vote_toConsumableArray(element.querySelectorAll(".review-vote")),this.count=element.querySelector(".review-vote__count"),this.bindHandlers()}return review_vote_createClass(ReviewVote,null,[{key:"init",value:function(){return review_vote_toConsumableArray(document.querySelectorAll(".voting")).map(function(el){return new ReviewVote(el)})}}]),review_vote_createClass(ReviewVote,[{key:"bindHandlers",value:function(){var _this=this;this.buttons.map(function(button){button.addEventListener("click",function(event){event.preventDefault();var targetButton=event.currentTarget,secondButton=_this.buttons.find(function(el){return el!==targetButton});return axios_default.a.post("/ajax/comments_likes.php",{comment:targetButton.getAttribute("data-comment"),like:targetButton.getAttribute("data-like")}).then(function(response){var data=response.data,count=data.count,count2=data.count2;if(count||0===count){var buttonCount=targetButton.querySelector(".review-vote__count");buttonCount&&(buttonCount.innerText=count)}if(count2||0===count2){var _buttonCount=secondButton.querySelector(".review-vote__count");_buttonCount&&(_buttonCount.innerText=count2)}})})})}}]),ReviewVote}();function breadcrumbs_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var breadcrumbs_Breadcrumbs=function(){var Constructor,staticProps;function Breadcrumbs(element){!function(instance,Constructor){if(!(instance instanceof Breadcrumbs))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.wrapper=element.querySelector(".breadcrumbs__wrapper"),this.ps=new perfect_scrollbar_esm.a(this.wrapper,{wheelSpeed:.7}),window.addEventListener("resize",this.ps.update)}return Constructor=Breadcrumbs,staticProps=[{key:"init",value:function(){var crumbs=document.querySelector(".breadcrumbs");return crumbs?new Breadcrumbs(crumbs):null}}],null&&breadcrumbs_defineProperties(Constructor.prototype,null),staticProps&&breadcrumbs_defineProperties(Constructor,staticProps),Breadcrumbs}();function dev_complexes_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dev_complexes_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function dev_complexes_createClass(Constructor,protoProps,staticProps){return protoProps&&dev_complexes_defineProperties(Constructor.prototype,protoProps),staticProps&&dev_complexes_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(89);var dev_complexes_DevComplexes=function(){function DevComplexes(element){!function(instance,Constructor){if(!(instance instanceof DevComplexes))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.tabsContainer=element.querySelector(".tabs-links"),this.tabsWrapper=element.querySelector(".tabs-links__wrapper"),this.ymapsScreen=element.querySelector(".ymap-screen"),this.ymapsScreenController=this.ymapsScreen.$controller,this.loadButton=element.querySelector(".dev-complexes-list__load-more .button-n-2"),this.listRow=element.querySelector(".dev-complexes-list .row"),this.icons={recomended:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="0 0 12 13"><path fill="" d="M.01 3.41c0-.72.26-1.3.78-1.74A3 3 0 0 1 2.82 1c.85 0 1.53.22 2.04.66.52.44.78 1.04.78 1.79v.58c0 .72-.26 1.3-.78 1.73-.51.44-1.19.66-2.02.66-.85 0-1.53-.22-2.05-.66a2.22 2.22 0 0 1-.78-1.78zm1.71.63c0 .32.1.58.3.77.21.2.48.3.82.3.33 0 .6-.1.79-.3.2-.2.3-.47.3-.8v-.6c0-.32-.1-.58-.3-.78-.2-.2-.47-.3-.81-.3-.33 0-.6.1-.8.3-.2.2-.3.47-.3.82zm4.63 6.93c0-.72.26-2.3.79-2.74.52-.44 1.2-.66 2.02-.66.85 0 1.53.21 2.05.65.52.43.78 1.03.78 1.8v.57c0 .72-.26 1.3-.77 1.74a3 3 0 0 1-2.04.66c-.85 0-1.54-.22-2.05-.67-.52-.44-.78-.03-.78-.76zm1.71-.37c0 .3.1.55.32.76.22.21.48.31.8.31.73 0 1.09-.36 1.09-1.08v-.61c0-.33-.1-.59-.3-.78-.2-.2-.47-.3-.8-.3-.34 0-.6.1-.8.3-.2.2-.3.46-.3.8zm2.68-8.76l-1.25-.6-8.33 11.1 1.25.62z"/></svg>',mortgage:'<svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 9.1L8 3.1L2 9.1V15C2 15.6 2.4 16 3 16H8.1C8.5 17.1 10.1 17.9 12 17.9C14.2 17.9 16 16.8 16 15.4C16 15 15.9 14.7 15.7 14.4C15.9 14.1 16 13.8 16 13.4C16 13 15.9 12.7 15.7 12.4C15.9 12.1 16 11.8 16 11.4C16 10.5 15.2 9.7 13.9 9.2V9.1H14ZM12.1 16.9C10.8 16.9 9.8 16.5 9.4 15.9C9.3 15.8 9.2 15.6 9.2 15.4C9.2 15.3 9.2 15.2 9.3 15.1C10 15.6 11.1 15.9 12.2 15.9C12.8 15.9 13.3 15.8 13.8 15.7C14.3 15.6 14.8 15.3 15.1 15.1C15.2 15.2 15.2 15.3 15.2 15.4C15 16.1 13.8 16.9 12.1 16.9ZM15 13.7C14.9 13.9 14.6 14.2 14.2 14.4L14 14.5C13.5 14.7 12.8 14.9 12.1 14.9C11.2 14.9 10.5 14.7 10 14.4C9.6 14.2 9.4 14 9.2 13.7C9.2 13.6 9.1 13.5 9.1 13.4C9.1 13.3 9.1 13.2 9.2 13.1C10.1 13.6 11.1 13.9 12.1 13.9C13.1 13.9 14.1 13.6 15 13.1C15 13.2 15.1 13.3 15.1 13.4C15.1 13.5 15 13.6 15 13.7ZM15 11.8C14.9 12 14.6 12.3 14.2 12.5H14C13.5 12.7 12.8 12.9 12.1 12.9C11.2 12.9 10.5 12.7 10 12.4C9.6 12.2 9.4 12 9.2 11.7C9.2 11.6 9.1 11.5 9.1 11.4C9.1 10.7 10.4 9.9 12.1 9.9C12.8 9.9 13.5 10.1 14 10.3C14.6 10.6 15.1 11 15.1 11.4C15 11.6 15 11.7 15 11.8ZM15.7 7.3L8.7 0.3C8.3 -0.1 7.7 -0.1 7.3 0.3L0.3 7.3C0.1 7.5 0 7.8 0 8L1.1 9L8 2L15 9L16 8C16 7.8 15.9 7.5 15.7 7.3Z" fill="white"></path></svg>',installment:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.99518 1.66672C5.39102 1.66672 1.66602 5.39588 1.66602 10.0001C1.66602 14.6042 5.39102 18.3334 9.99518 18.3334C14.5993 18.3334 18.3327 14.6042 18.3327 10.0001C18.3327 5.39588 14.5993 1.66672 9.99518 1.66672ZM9.99935 16.6667C6.31602 16.6667 3.33268 13.6834 3.33268 10.0001C3.33268 6.31672 6.31602 3.33338 9.99935 3.33338C13.6827 3.33338 16.666 6.31672 16.666 10.0001C16.666 13.6834 13.6827 16.6667 9.99935 16.6667Z" fill="white"></path><path d="M10.416 5.83328H9.16602V10.8333L13.5368 13.4583L14.166 12.4333L10.416 10.2083V5.83328Z" fill="white"></path></svg>',favorite:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 21 19" fill="none"><path d="M9.64174 3.63033C9.8224 3.93176 10.148 4.11624 10.4994 4.11625C10.8509 4.11626 11.1765 3.93181 11.3572 3.63039C12.6037 1.55098 14.2477 0.889229 15.6855 1.01486C17.1737 1.14489 18.6267 2.1317 19.4119 3.71787C20.184 5.27743 20.323 7.46301 19.0482 9.96824C17.8062 12.409 15.2046 15.174 10.4995 17.8537C5.79482 15.1741 3.19353 12.409 1.95168 9.96828C0.67701 7.46304 0.816073 5.27744 1.58806 3.71785C2.37321 2.13166 3.82614 1.14488 5.31414 1.01485C6.7517 0.889237 8.39547 1.55093 9.64174 3.63033Z" stroke="#BFC9D5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',compare:'<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.17358 0C4.06909 0 3.17358 0.895416 3.17358 2V3.78262H2C0.895508 3.78262 0 4.67807 0 5.78262V15C0 16.1046 0.895508 17 2 17H11.2173C12.322 17 13.2173 16.1046 13.2173 15V13.8261H14.9998C16.1042 13.8261 16.9998 12.9307 16.9998 11.8261V2C16.9998 0.895416 16.1042 0 14.9998 0H5.17358ZM13.2173 11.8261H14.9998V2H5.17358V3.78262H11.2173C12.322 3.78262 13.2173 4.67804 13.2173 5.78262V11.8261ZM2 5.78262H11.2173V15H2V5.78262Z" fill="#071321"></path></svg>',phone:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path></svg>'},this.switches=dev_complexes_toConsumableArray(element.querySelectorAll(".tabs-links__link")),this.line=new tab_line.a({buttons:this.switches,line:element.querySelector(".tabs-links__line"),bindClick:!0});var activeSwitch=this.switches.find(function(el){return el.classList.contains("button-item_is_active")});this.state={category:activeSwitch?activeSwitch.getAttribute("data-category"):"all"},this.bindHandlers()}return dev_complexes_createClass(DevComplexes,null,[{key:"init",value:function(){var el=document.querySelector(".developer-complexes");return el?new DevComplexes(el):null}}]),dev_complexes_createClass(DevComplexes,[{key:"bindHandlers",value:function(){var _this=this;this.switches.map(function(el){el.addEventListener("click",function(){var category=el.getAttribute("data-category");_this.state.category=category,_this.refreshList()})}),this.loadButton.addEventListener("click",function(event){event.preventDefault(),_this.loadItems()})}},{key:"loadItems",value:function(){var _this2=this;return fetch(this.loadButton.href).then(function(resp){return resp.json()}).then(function(data){data&&data.items&&data.items.map(function(item){var itemNode=_this2.createItem(item);_this2.listRow.appendChild(itemNode);var favorite=itemNode.querySelector("[data-favorite]"),compare=itemNode.querySelector("[data-compare-n-2]"),phoneNumber=itemNode.querySelector(".phone-number-n-2"),slider=itemNode.querySelector(".complex-item-slider");return window.COMPONENTS_TOOLTIP&&window.COMPONENTS_TOOLTIP.init(),[new favorite_favorite.a(favorite),new compare_storage.a(compare),phoneNumber?new phone_number.a(phoneNumber):null,slider?new complex_item_slider.a(slider):null]}),_this2.loadButton.href=data.url||"",_this2.refreshList()})}},{key:"refreshList",value:function(){var complexItems=dev_complexes_toConsumableArray(document.querySelectorAll(".complex-item-n-2")),coordsList=[],category=this.state.category,counter=0;complexItems.map(function(item){var itemCategory=item.getAttribute("data-state");if("all"===category||category===itemCategory){var coords;try{coords=JSON.parse(item.getAttribute("data-coords"))}catch(error){}coords&&coordsList.push({location:coords,id:item.getAttribute("data-id")}),item.parentNode.style.display="",item.parentNode.style.order=counter,2==++counter&&counter++}else item.parentNode.style.display="none",item.parentNode.style.order=""}),this.ymapsScreen.parentNode.style.order=2,this.refreshMap(coordsList)}},{key:"refreshMap",value:function(coordsList){coordsList.length&&(this.ymapsScreenController.setCoords(coordsList),this.ymapsScreenController.getScreen(),this.ymapsScreenController.addMultipleMarks())}},{key:"createItem",value:function(itemData){var _this3=this,itemWrapper=document.createElement("div");itemWrapper.className="col col_xs-4 col_sm-6 col_lg-3";var complex=document.createElement("div");complex.className="complex-item-n-2",complex.setAttribute("data-id",itemData.id),itemData.location&&itemData.location[0]&&complex.setAttribute("data-coords","[[[".concat(itemData.location[0][0].join(","),"]]]")),complex.setAttribute("data-state","Дом сдан"===itemData.dedline?"ready":"building");var media=document.createElement("a");if(media.className="complex-item-n-2__image",media.setAttribute("target","_blank"),media.setAttribute("href",itemData.link),media.style.backgroundImage="url('".concat(itemData.image,"')"),itemData.recommended||itemData.mortgage||itemData.installment||itemData.action){var labelsWrapper=document.createElement("div");labelsWrapper.className="complex-item-n-2__info-labels";var labelNames=[];itemData.recommended&&labelNames.push("recommended"),itemData.mortgage&&labelNames.push("mortgage"),itemData.action&&labelNames.push("action"),itemData.installment&&labelNames.push("installment"),[].concat(labelNames).forEach(function(label){var labelItem=document.createElement("div");labelItem.className="info-label-n-2 info-label-n-2_".concat(label,"  "),labelItem.setAttribute("data-tip",itemData[label]),labelItem.setAttribute("data-style",label),labelItem.innerHTML=_this3.icons[label],labelsWrapper.appendChild(labelItem)}),media.appendChild(labelsWrapper)}complex.appendChild(media);var controlsBlock=document.createElement("div");controlsBlock.className="complex-item-n-2__controls",controlsBlock.innerHTML='\n      <div class="complex-item-n-2__control">\n        <div class="manage-complex-btn-n-2"\n          data-tip="Добавить в избранное"\n          data-id="'.concat(itemData.id,'"\n          data-type="').concat(itemData.type,'"\n          data-favorite="">\n          ').concat(this.icons.favorite,'\n        </div>\n      </div>\n      <div class="complex-item-n-2__control">\n        <div class="manage-complex-btn-n-2"\n          data-tip="Добавить в сравнение"\n          data-id="').concat(itemData.id,'"\n          data-type="').concat(itemData.type,'"\n          data-compare-n-2="">\n          ').concat(this.icons.compare,"\n        </div>\n      </div>\n    "),complex.appendChild(controlsBlock);var bodyBlock=document.createElement("div"),bodyTemplate="";return bodyBlock.className="complex-item-n-2__body",bodyTemplate+='\n      <a class="complex-item-n-2__name" href="'.concat(itemData.link,'" target="_blank">').concat(itemData.name,'</a>\n      <div class="complex-item-n-2__price-block">\n        <div class="complex-item-n-2__total-price">').concat(itemData.price,'</div>\n        <div class="complex-item-n-2__price-per-square">').concat(itemData.priceM?itemData.priceM:"",'</div>\n      </div>\n      <div class="complex-item-n-2__data">\n        <div class="complex-item-n-2__location">').concat(itemData.locationCity?itemData.locationCity:"","</div>\n        ").concat(itemData.metroString?itemData.metroString:"",'\n        <div class="complex-item-n-2__time">Срок ввода:<span>  ').concat(itemData.dedline,"</span></div>\n      </div>"),itemData.telNumber&&(bodyTemplate+='<div class="complex-item-n-2__phone">\n        <a class="phone-number-n-2 phone-number-n-2_theme_yellow" href="tel: '.concat(itemData.telNumber,'" data-tel="').concat(itemData.telNumber,'" \n          onclick="ym(39897405, \'reachGoal\', Click_phone\');">\n          <div class="phone-number-n-2__icon">\n            ').concat(this.icons.phone,'\n          </div>\n          <div class="phone-number-n-2__number">\n            +7 <span>Показать телефон</span>\n          </div>\n        </a>\n      </div>\n    ')),bodyBlock.innerHTML=bodyTemplate,complex.appendChild(bodyBlock),itemWrapper.appendChild(complex),itemWrapper}}]),DevComplexes}(),circle_chart=__webpack_require__(86);function dev_ratings_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var dev_landing=[dev_complexes_DevComplexes,function(){var Constructor,staticProps;function DevRatings(element){!function(instance,Constructor){if(!(instance instanceof DevRatings))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.ratingAnimation=new circle_chart.a({wrapper:".rating-badge__background",data:"ranking",colorRange:["#fa0000","#ff7200","#ffa800","#ffc63e"],maxValue:5,circle:{background:"#e8e8e8",thickness:6,backwards:!0,ease:"Bounce.easeOut",speed:2}}),this.ratingAnimation.init()}return Constructor=DevRatings,staticProps=[{key:"init",value:function(){var el=document.querySelector(".developer-rating .ratings-list");return el?new DevRatings(el):null}}],null&&dev_ratings_defineProperties(Constructor.prototype,null),staticProps&&dev_ratings_defineProperties(Constructor,staticProps),DevRatings}()];function fixable_header_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function fixable_header_createClass(Constructor,protoProps,staticProps){return protoProps&&fixable_header_defineProperties(Constructor.prototype,protoProps),staticProps&&fixable_header_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(162);var FixableHeader=function(){function FixableHeader(element){!function(instance,Constructor){if(!(instance instanceof FixableHeader))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.wrapper=document.querySelector(".js-fixable-header-wrapper"),this.pageWrapper=document.querySelector(".container.page-wrapper"),this.state={fixed:!1,inited:!1},this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),window.addEventListener("resize",this.onResize),this.onResize(),document.documentElement.clientWidth>=768&&this.onScroll()}return fixable_header_createClass(FixableHeader,null,[{key:"init",value:function(){var el=document.querySelector(".js-fixable-header");return el?new FixableHeader(el):null}}]),fixable_header_createClass(FixableHeader,[{key:"init",value:function(){document.addEventListener("scroll",this.onScroll),this.state.inited=!0}},{key:"disable",value:function(){document.removeEventListener("scroll",this.onScroll),document.body.classList.remove("with-sticky-header"),this.element.classList.remove("js-fixable-header_fixed"),this.state.inited=!1}},{key:"onScroll",value:function(){this.wrapper.getBoundingClientRect().top<0?this.state.fixed||(this.setWidth(),document.body.classList.add("with-sticky-header"),this.element.classList.add("js-fixable-header_fixed"),this.state.fixed=!0):this.state.fixed&&(document.body.classList.remove("with-sticky-header"),this.element.classList.remove("js-fixable-header_fixed"),this.resetWidth(),this.state.fixed=!1)}},{key:"onResize",value:function(){this.state.inited&&this.state.fixed&&this.setWidth(),document.documentElement.clientWidth<768?this.state.inited&&this.disable():this.state.inited||this.init()}},{key:"setWidth",value:function(){this.element.style.width="".concat(this.pageWrapper.clientWidth,"px")}},{key:"resetWidth",value:function(){this.element.style.width=""}}]),FixableHeader}();function gallery_listing_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function gallery_listing_createClass(Constructor,protoProps,staticProps){return protoProps&&gallery_listing_defineProperties(Constructor.prototype,protoProps),staticProps&&gallery_listing_defineProperties(Constructor,staticProps),Constructor}var gallery_listing_GalleryListing=function(){function GalleryListing(element){var arr;!function(instance,Constructor){if(!(instance instanceof GalleryListing))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.radios=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=element.querySelectorAll('[name="complex-gallery-radio"]'))||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),this.selector=element.querySelector('[name="complex-gallery-select"]'),this.galleryWrapper=element.querySelector(".gallery-wrapper"),this.url=element.getAttribute("data-request-url"),this.radioList=element.querySelector(".selector-list"),this.ps=new perfect_scrollbar_esm.a(this.radioList),this.bindHandlers()}return gallery_listing_createClass(GalleryListing,null,[{key:"init",value:function(){var el=document.querySelector(".gallery-listing");return el?new GalleryListing(el):null}}]),gallery_listing_createClass(GalleryListing,[{key:"bindHandlers",value:function(){var _this=this;this.radios.map(function(radio){radio.addEventListener("change",function(){radio.checked&&_this.requestGallery(radio.value)})}),this.selector.addEventListener("change",function(){_this.requestGallery(_this.selector.value)})}},{key:"requestGallery",value:function(id){var _this2=this;return this.galleryWrapper.classList.add("gallery-wrapper_loading"),axios_default.a.get(this.url,{params:{id:id}}).then(function(_ref){var data=_ref.data;_this2.galleryWrapper.querySelector(".thumb-gallery").remove(),_this2.createGallery(data)}).finally(function(){_this2.galleryWrapper.classList.remove("gallery-wrapper_loading")})}},{key:"createGallery",value:function(data){var gallery=document.createElement("div");gallery.classList.add("thumb-gallery","thumb-gallery_reloading");var template="";template+='\n      <div class="thumb-gallery__top">\n        <div class="thumb-gallery__top-slider swiper-container">\n          <div class="swiper-wrapper">',data.images.map(function(src){template+='\n        <a class="swiper-slide" href="'.concat(src,'" data-src="').concat(src,'">\n          <img src="').concat(src,'"/>\n        </a>')}),template+='</div></div>\n        <a class="btn-slider btn-slider_next" href="#">\n          <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"/>\n          </svg>\n        </a>\n        <a class="btn-slider btn-slider_prev" href="#">\n          <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"/>\n          </svg>\n        </a>\n        <div class="slider-features-buttons">\n          <div class="buttons-group">',data.media&&data.media.review&&(template+='\n        <div class="buttons-group__item">\n          <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" href="'.concat(data.media.review,'" data-element-opening="">\n            <span class="button-n-2__icon">\n              <svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M10.8136 6.17801C11.3876 6.57569 11.3876 7.42431 10.8136 7.82199L2.31949 13.7069C1.65629 14.1663 0.75 13.6917 0.75 12.8849L0.75 1.11514C0.75 0.308322 1.65629 -0.16633 2.3195 0.293149L10.8136 6.17801Z" fill="#FFC700"/>\n              </svg>\n            </span>\n            <span class="button-n-2__text hidden-n-2 hidden-n-2_xs">Видеообзор</span>\n          </a>\n        </div>')),data.media&&data.media.aero&&(template+='\n        <div class="buttons-group__item">\n          <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" href="'.concat(data.media.aero,'" data-element-opening="">\n            <span class="button-n-2__icon">\n              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M30.1211 3.88278H28.1758V2.87891C28.1758 2.39352 27.7822 2 27.2969 2C26.8115 2 26.418 2.39352 26.418 2.87891V3.88278H24.4727C23.9873 3.88278 23.5938 4.27631 23.5938 4.76169C23.5938 5.2471 23.9873 5.64059 24.4727 5.64059H26.418V9.53123H21.6484H10.3516H5.58203V5.64059H7.52734C8.0127 5.64059 8.40625 5.2471 8.40625 4.76169C8.40625 4.27631 8.0127 3.88278 7.52734 3.88278H5.58203V2.87891C5.58203 2.39352 5.18848 2 4.70312 2C4.21777 2 3.82422 2.39352 3.82422 2.87891V3.88278H1.87891C1.39355 3.88278 1 4.27631 1 4.76169C1 5.2471 1.39355 5.64059 1.87891 5.64059H3.82422V10.4101C3.82422 10.8955 4.21777 11.289 4.70312 11.289H9.47266V16.0585C9.47266 16.5439 9.86621 16.9374 10.3516 16.9374H21.6484C22.1338 16.9374 22.5273 16.5439 22.5273 16.0585V11.289H27.2969C27.7822 11.289 28.1758 10.8955 28.1758 10.4101V5.64059H30.1211C30.6064 5.64059 31 5.2471 31 4.76169C31 4.27631 30.6064 3.88278 30.1211 3.88278ZM20.7695 15.1797H11.2305V11.2891H20.7695V15.1797ZM18.8242 19.7695C18.3389 19.7695 17.9453 20.163 17.9453 20.6484C17.9453 21.7211 17.0725 22.5937 16 22.5937C14.9275 22.5937 14.0547 21.721 14.0547 20.6484C14.0547 20.163 13.6611 19.7695 13.1758 19.7695C12.6904 19.7695 12.2969 20.163 12.2969 20.6484C12.2969 22.6903 13.958 24.3515 16 24.3515C18.042 24.3515 19.7031 22.6903 19.7031 20.6484C19.7031 20.163 19.3096 19.7695 18.8242 19.7695ZM23.5938 20.6484C23.5938 20.163 23.9873 19.7695 24.4727 19.7695C24.958 19.7695 25.3516 20.163 25.3516 20.6484C25.3516 25.8049 21.1565 30 16 30C10.8435 30 6.64844 25.8049 6.64844 20.6484C6.64844 20.163 7.04199 19.7695 7.52734 19.7695C8.0127 19.7695 8.40625 20.163 8.40625 20.6484C8.40625 24.8356 11.8127 28.2422 16 28.2422C20.1873 28.2422 23.5938 24.8356 23.5938 20.6484Z" fill="#FFCB00"/>\n              </svg>\n            </span>\n            <span class="button-n-2__text hidden-n-2 hidden-n-2_xs">Аэросъемка</span>\n          </a>\n        </div>')),data.media&&data.media.panorama&&(template+='\n        <div class="buttons-group__item">\n          <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" href="'.concat(data.media.panorama,'" data-element-opening="" data-iframe="true">\n            <span class="button-n-2__icon">\n              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M24.75 7.55556C24.75 8.96696 25.9253 10.1111 27.375 10.1111C28.8247 10.1111 30 8.96696 30 7.55556C30 6.14415 28.8247 5 27.375 5C25.9253 5 24.75 6.14415 24.75 7.55556ZM26.5 7.55556C26.5 7.08507 26.8918 6.7037 27.375 6.7037C27.8582 6.7037 28.25 7.08507 28.25 7.55556C28.25 8.02605 27.8582 8.40741 27.375 8.40741C26.8918 8.40741 26.5 8.02605 26.5 7.55556ZM6.375 18.6296H9.875C10.3582 18.6296 10.75 18.2483 10.75 17.7778V14.3704V10.963C10.75 10.4925 10.3582 10.1111 9.875 10.1111H6.375C5.89185 10.1111 5.5 10.4925 5.5 10.963C5.5 11.4335 5.89185 11.8148 6.375 11.8148H9V13.5185H6.375C5.89185 13.5185 5.5 13.8999 5.5 14.3704C5.5 14.8409 5.89185 15.2222 6.375 15.2222H9V16.9259H6.375C5.89185 16.9259 5.5 17.3073 5.5 17.7778C5.5 18.2483 5.89185 18.6296 6.375 18.6296ZM14.25 18.6296H16C16.9666 18.6296 17.75 17.8669 17.75 16.9259V15.2222C17.75 14.2813 16.9666 13.5185 16 13.5185H14.25V11.8148H16.875C17.3582 11.8148 17.75 11.4335 17.75 10.963C17.75 10.4925 17.3582 10.1111 16.875 10.1111H14.25C13.2834 10.1111 12.5 10.8739 12.5 11.8148V16.9259C12.5 17.8669 13.2834 18.6296 14.25 18.6296ZM14.25 16.9259V15.2222H16V16.9259H14.25ZM23 18.6296H21.25C20.2834 18.6296 19.5 17.8669 19.5 16.9259V11.8148C19.5 10.8739 20.2834 10.1111 21.25 10.1111H23C23.9666 10.1111 24.75 10.8739 24.75 11.8148V16.9259C24.75 17.8669 23.9666 18.6296 23 18.6296ZM21.25 11.8148V16.9259H23V11.8148H21.25ZM12.7556 22.6401L13.7988 23.6549C7.77881 23.1774 3.75 20.793 3.75 18.6296C3.84595 17.7025 4.36523 16.8667 5.16406 16.3535C5.54517 16.0637 5.61304 15.5278 5.31543 15.1566C5.01782 14.7854 4.46729 14.7195 4.08594 15.0093C2.84375 15.8288 2.0708 17.1703 2 18.6296C2 22.1127 7.10889 24.9079 13.958 25.3755L12.7556 26.545C12.5906 26.7052 12.498 26.9229 12.4985 27.1497C12.4995 27.6201 12.8918 28.0008 13.3752 28C13.6074 28.0004 13.8303 27.9109 13.9946 27.7513L16.6196 25.1957L16.6211 25.1942C16.9624 24.8611 16.9617 24.3217 16.6196 23.9895L13.9946 21.4339C13.6526 21.1008 13.0977 21.1008 12.7556 21.4339C12.4136 21.767 12.4136 22.3071 12.7556 22.6401ZM17.708 24.5142C17.7312 24.9847 18.1418 25.3477 18.625 25.3252L18.709 25.3218C25.3574 24.6965 30 21.9433 30 18.6296C29.9299 17.1706 29.1567 15.8294 27.9141 15.011C27.5332 14.7212 26.9832 14.7868 26.6855 15.1575C26.3879 15.5282 26.4553 16.0637 26.8359 16.3535C27.6348 16.8667 28.1543 17.7025 28.25 18.6296C28.25 20.9569 24.0764 23.1053 18.541 23.6215C18.0579 23.6441 17.6848 24.0437 17.708 24.5142Z" fill="#FFCB00"/>\n              </svg>\n            </span>\n            <span class="button-n-2__text hidden-n-2 hidden-n-2_xs">Панорама 360°</span>\n          </a>\n        </div>')),template+='\n        </div>\n        <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" data-show-gallery="data-show-gallery">\n          <span class="button-n-2__icon">\n            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M7.82168 10.8966L1.81094 16.9082V13.0473C1.81094 12.5472 1.40565 12.1418 0.905469 12.1418C0.405288 12.1418 0 12.5472 0 13.0473V19.0945C0 19.5946 0.405288 20 0.905469 20H6.95207C7.45213 20 7.85754 19.5946 7.85754 19.0945C7.85754 18.5944 7.45225 18.189 6.95207 18.189H3.09139L9.10226 12.1771C9.45587 11.8235 9.45587 11.2501 9.10214 10.8965C8.74876 10.543 8.17542 10.543 7.82168 10.8966Z" fill="white"/>\n              <path d="M19.0928 0H13.0459C12.5457 0 12.1405 0.405431 12.1405 0.90552C12.1405 1.40561 12.5457 1.81104 13.0459 1.81104H16.9067L11.0757 7.64271C10.7221 7.99635 10.7221 8.56972 11.0759 8.92336C11.2526 9.10011 11.4844 9.18849 11.7161 9.18849C11.9478 9.18849 12.1796 9.09999 12.3564 8.92323L18.1874 3.09157V6.9527C18.1874 7.45279 18.5927 7.85822 19.0929 7.85822C19.5931 7.85822 19.9984 7.45279 19.9984 6.9527V0.90552C19.9982 0.405311 19.5928 0 19.0928 0Z" fill="white"/>\n            </svg>\n          </span>\n        </a>\n      </div>\n      <div class="thumb-gallery__count">\n        <div class="slide-count">\n          <span class="slide-count__value slide-count__value_current">1 </span>\n          <span> / </span>\n          <span class="slide-count__value">'.concat(data.images.length,'</span>\n        </div>\n      </div>\n    </div>\n    <div class="thumb-gallery__thumbs swiper-container">\n      <div class="swiper-wrapper">'),data.thumbnails.map(function(src){template+='<div class="swiper-slide"><img src="'.concat(src,'"/></div>')}),template+="</div></div>",gallery.innerHTML=template,this.galleryWrapper.appendChild(gallery),this.gallery=new thumb_gallery_ThumbGallery(gallery),light_gallery.a.init()}}]),GalleryListing}();function parallax_banner_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function parallax_banner_createClass(Constructor,protoProps,staticProps){return protoProps&&parallax_banner_defineProperties(Constructor.prototype,protoProps),staticProps&&parallax_banner_defineProperties(Constructor,staticProps),Constructor}var ParallaxBanner=function(){function ParallaxBanner(element){!function(instance,Constructor){if(!(instance instanceof ParallaxBanner))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.background=element.querySelector(".parallax-banner__background"),this.background&&this.init()}return parallax_banner_createClass(ParallaxBanner,null,[{key:"init",value:function(){return(arr=document.querySelectorAll(".parallax-banner"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(el){return new ParallaxBanner(el)});var arr}}]),parallax_banner_createClass(ParallaxBanner,[{key:"init",value:function(){var _this=this;window.lazyloadInstance&&window.lazyloadInstance.update(),this.background.style.position="absolute",this.background.style.top="0",this.background.style.left="0",this.background.style.width="100%",this.background.style.height="auto";var scrollingElement=document.scrollingElement||document.documentElement;document.addEventListener("scroll",function(){if(_this.isVisible(_this.element)){var diff=_this.element.getBoundingClientRect().top-scrollingElement.scrollTop+document.documentElement.scrollTop,offset=_this.background.clientHeight-_this.element.clientHeight,move=diff*(_this.element.getAttribute("data-speed")||.5);_this.background.style.top="".concat(-(move>offset?offset:move),"px")}})}},{key:"isVisible",value:function(el){var coords=el.getBoundingClientRect(),windowHeight=window.innerHeight,top=coords.top+el.clientHeight;return coords.top<windowHeight&&top>0}}]),ParallaxBanner}();function sticky_container_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function sticky_container_createClass(Constructor,protoProps,staticProps){return protoProps&&sticky_container_defineProperties(Constructor.prototype,protoProps),staticProps&&sticky_container_defineProperties(Constructor,staticProps),Constructor}var StickyContainer=function(){function StickyContainer(element){!function(instance,Constructor){if(!(instance instanceof StickyContainer))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.parent=element.parentNode,this.element.classList.contains("sticky-container")||this.element.classList.add("sticky-container"),this.parent.classList.contains("sticky-parent")||this.parent.classList.add("sticky-parent"),this.state={eventsCount:0,inited:!1,sticked:!1,stickedBottom:!1,lastTransform:0},this.onScroll=this.onScroll.bind(this),this.bindHandlers()}return sticky_container_createClass(StickyContainer,null,[{key:"init",value:function(){return(arr=document.querySelectorAll("[data-sticky-container]"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(el){return new StickyContainer(el)});var arr}}]),sticky_container_createClass(StickyContainer,[{key:"bindHandlers",value:function(){var _this=this;window.addEventListener("resize",function(){return _this.init()}),this.init()}},{key:"init",value:function(){document.documentElement.clientWidth>=1024?this.state.inited||(document.addEventListener("scroll",this.onScroll),this.state.inited=!0):this.state.inited&&(document.removeEventListener("scroll",this.onScroll),this.state.inited=!1)}},{key:"onScroll",value:function(){if(this.state.eventsCount<2)return this.state.eventsCount++,!1;if(document.documentElement.clientWidth<1024)return this.unstick(),this.unstickBottom(),!1;var height=this.height,_this$parent$getBound=this.parent.getBoundingClientRect(),top=_this$parent$getBound.top,bottom=_this$parent$getBound.bottom,heightDifference=this.parent.clientHeight-height;heightDifference>0?top-24<0&&bottom-height-24>0?this.state.sticked||(this.stick(),this.unstickBottom()):(this.state.sticked&&this.unstick(),bottom-height-24<0&&bottom>0?this.state.stickedBottom||this.stickBottom():this.state.stickedBottom&&this.unstickBottom()):top<0&&bottom<=document.documentElement.clientHeight?this.element.style.transform="translate3d(0, ".concat(heightDifference,"px, 0)"):this.element.style.transform=""}},{key:"stick",value:function(){var parentPaddings=this.parentPaddings,width=this.parent.clientWidth-parentPaddings.left-parentPaddings.right,right=this.parentOffsetRight+parentPaddings.right;this.element.style.width="".concat(width,"px"),this.element.style.right="".concat(right,"px"),this.element.classList.add("sticky-container_sticked"),this.state.sticked=!0}},{key:"unstick",value:function(){this.element.classList.remove("sticky-container_sticked"),this.element.style.width="",this.element.style.right="",this.state.sticked=!1}},{key:"stickBottom",value:function(){var parentPaddings=this.parentPaddings,width=this.parent.clientWidth-parentPaddings.left-parentPaddings.right;this.element.style.width="".concat(width,"px"),this.element.style.right="".concat(parentPaddings.right,"px"),this.element.classList.add("sticky-container_sticked-bottom"),this.state.stickedBottom=!0,this.element.style.right=""}},{key:"unstickBottom",value:function(){this.element.classList.remove("sticky-container_sticked-bottom"),this.state.stickedBottom=!1}},{key:"height",get:function(){return this.element.clientHeight}},{key:"parentOffsetRight",get:function(){var rect=this.parent.getBoundingClientRect();return document.documentElement.clientWidth-(rect.left+this.parent.clientWidth)}},{key:"parentPaddings",get:function(){var style=window.getComputedStyle?window.getComputedStyle(this.parent,null):this.parent.currentStyle;return{left:parseInt(style.paddingLeft,10)||0,right:parseInt(style.paddingRight,10)||0}}}]),StickyContainer}();function infrastructure_select_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function infrastructure_select_createClass(Constructor,protoProps,staticProps){return protoProps&&infrastructure_select_defineProperties(Constructor.prototype,protoProps),staticProps&&infrastructure_select_defineProperties(Constructor,staticProps),Constructor}var InfrastructureSelect=function(){function InfrastructureSelect(element){!function(instance,Constructor){if(!(instance instanceof InfrastructureSelect))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.elementHeader=element.querySelector(".infrastructure-n-2-select__header"),this.bindEvents()}return infrastructure_select_createClass(InfrastructureSelect,null,[{key:"init",value:function(){var arr,elements=document.querySelectorAll(".infrastructure-n-2-select");elements&&(arr=elements,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).forEach(function(element){new InfrastructureSelect(element)})}}]),infrastructure_select_createClass(InfrastructureSelect,[{key:"bindEvents",value:function(){var _this=this;this.elementHeader&&this.elementHeader.addEventListener("click",function(){return _this.handleHeaderClick()})}},{key:"handleHeaderClick",value:function(){this.element.classList.toggle("is-open")}}]),InfrastructureSelect}(),search_input=__webpack_require__(111),developers_badge=(__webpack_require__(64),__webpack_require__(156)),filter_search_helpers=__webpack_require__(110);function developers_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function developers_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var developers_DevelopersContent=function(){function DevelopersContent(){!function(instance,Constructor){if(!(instance instanceof DevelopersContent))throw new TypeError("Cannot call a class as a function")}(this),this.dataCounterContainer=document.querySelector(".content-filter__counter"),this.dataCounterNumber=this.dataCounterContainer.querySelector(".number"),this.dataCounterText=this.dataCounterContainer.querySelector(".text"),this.typeButtons=developers_toConsumableArray(document.querySelectorAll(".type-button-n-2")),this.init(),this.bindEvents()}var Constructor,protoProps;return Constructor=DevelopersContent,(protoProps=[{key:"init",value:function(){this.badges=developers_toConsumableArray(document.querySelectorAll("[data-stats-badge]")),this.badgeComponents=this.badges.map(function(badge){return new developers_badge.a(badge)})}},{key:"bindEvents",value:function(){this.typeButtons.forEach(function(button){button.addEventListener("click",function(){button.classList.add("type-button-n-2_active")})})}},{key:"unbindEvents",value:function(){this.badgeComponents.forEach(function(component){return component.destroy()})}},{key:"onRequest",value:function(){return null}},{key:"afterRequest",value:function(){var total=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).total;(total||0===total)&&(this.dataCounterNumber&&(this.dataCounterNumber.innerText=total),this.dataCounterText&&(this.dataCounterText.innerText=" ".concat(Object(filter_search_helpers.b)(total,"компани",["й","и","я"])))),this.unbindEvents(),this.init()}}])&&developers_defineProperties(Constructor.prototype,protoProps),DevelopersContent}();function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function content_search_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function content_search_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function content_search_createClass(Constructor,protoProps,staticProps){return protoProps&&content_search_defineProperties(Constructor.prototype,protoProps),staticProps&&content_search_defineProperties(Constructor,staticProps),Constructor}var content_search_ContentSearch=function(){function ContentSearch(container,options){!function(instance,Constructor){if(!(instance instanceof ContentSearch))throw new TypeError("Cannot call a class as a function")}(this),this.options=options,this.moveto=new moveTo_default.a({tolerance:0}),this.basePath=window.location.pathname,this.isPopstate=!1,this.element=container,this.contentType=container.getAttribute("data-content-type"),this.contentTarget=container.querySelector("[data-content-target]"),this.contentPaginationTarget=container.querySelector("[data-pagination-target]"),this.filterForm=container.querySelector("[data-content-form]"),this.filterContainer=container.querySelector("[data-content-filter]"),this.filterEndpoint=this.filterForm.getAttribute("action"),this.filterInputs=content_search_toConsumableArray(container.querySelectorAll("input, select")),this.loadableSections=content_search_toConsumableArray(document.querySelectorAll("[data-content-fade]")),this.contentType&&("developers"===this.contentType&&(this.filter=new developers_DevelopersContent),this.init(),this.bindEvents(),this.bindPaginationEvents())}return content_search_createClass(ContentSearch,null,[{key:"init",value:function(){var container=document.querySelector("[data-content-search]");if(container)return new ContentSearch(container,{paginators:".pagination-n-2 a"})}}]),content_search_createClass(ContentSearch,[{key:"init",value:function(){this.defaultFormState=_objectSpread({},Object(content_search_helpers.a)(Object(content_search_helpers.c)(this.filterForm)),this.filter.onRequest())}},{key:"bindEvents",value:function(){var _this=this;window.addEventListener("popstate",function(){_this.popstate()}),this.filterForm.addEventListener("change",function(event){event.preventDefault(),_this.request()}),this.filterForm.addEventListener("submit",function(event){event.preventDefault(),_this.request()})}},{key:"bindPaginationEvents",value:function(){var _this2=this;this.paginators=content_search_toConsumableArray(document.querySelectorAll(this.options.paginators)),this.paginators.forEach(function(paginator){paginator.addEventListener("click",function(event){event.preventDefault(),_this2.paginate(event.target)})})}},{key:"request",value:function(query,page){var requestData,_this3=this,stringifiedData=query;if(!query){var specificData=this.filter.onRequest(),serializedFormData=Object(content_search_helpers.a)(Object(content_search_helpers.c)(this.filterForm));if(requestData=_objectSpread({},serializedFormData,specificData),page){var pageParts=page.split("=");requestData[pageParts[0]]=pageParts[1]}stringifiedData=Object(content_search_helpers.b)(requestData)}return this.toggleLoadableSections(),fetch("".concat(this.filterEndpoint,"?").concat(stringifiedData)).then(function(result){return result.json()}).then(function(data){data&&(_this3.render(data.html),_this3.renderPagination(data.pagination),_this3.filter.afterRequest(data),_this3.isPopstate||history.pushState({form:requestData,query:stringifiedData},"ContentSearch","".concat(_this3.basePath,"?").concat(stringifiedData)))}).finally(function(){_this3.toggleLoadableSections()})}},{key:"render",value:function(html){html&&(this.contentTarget.innerHTML=html,window.lazyloadInstance&&setTimeout(function(){window.lazyloadInstance.update()},100))}},{key:"renderPagination",value:function(pagination){this.contentPaginationTarget.innerHTML=pagination,this.bindPaginationEvents()}},{key:"popstate",value:function(){var _this4=this;this.isPopstate=!0;var nextState=history.state;if(!nextState)return this.restoreTags(this.defaultFormState),this.request().then(function(){return _this4.isPopstate=!1});this.restoreTags(nextState.form),this.request(nextState.query).then(function(){_this4.isPopstate=!1,_this4.moveto.move(_this4.element)})}},{key:"paginate",value:function(element){var _this5=this,href=element.href;if(href){var page=href?href.slice(href.lastIndexOf("PAGE")):1;this.request(null,page).then(function(){return _this5.moveto.move(_this5.element)})}}},{key:"restoreTags",value:function(data){var _this6=this;this.filterForm.reset();var _loop=function(key){if(data.hasOwnProperty(key)){var value=data[key],target=_this6.filterInputs.find(function(input){return input.name===key&&(!["checkbox","radio"].includes(input.type)||input.value===value)});target&&("SELECT"===target.tagName?target.choices.setChoiceByValue(value):"INPUT"===target.tagName&&["checkbox","radio"].includes(target.type)?target.checked=!0:"INPUT"===target.tagName&&["text","search"].includes(target.type)&&(target.value=value))}};for(var key in data)_loop(key)}},{key:"toggleLoadableSections",value:function(){this.loadableSections.forEach(function(section){section.classList.toggle("is-loading")})}}]),ContentSearch}(),tingle_min=__webpack_require__(157),tingle_min_default=__webpack_require__.n(tingle_min);function advertise_forms_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function advertise_forms_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function advertise_forms_createClass(Constructor,protoProps,staticProps){return protoProps&&advertise_forms_defineProperties(Constructor.prototype,protoProps),staticProps&&advertise_forms_defineProperties(Constructor,staticProps),Constructor}function advertise_structure_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function advertise_structure_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){advertise_structure_defineProperty(target,key,source[key])})}return target}function advertise_structure_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function advertise_structure_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function advertise_structure_createClass(Constructor,protoProps,staticProps){return protoProps&&advertise_structure_defineProperties(Constructor.prototype,protoProps),staticProps&&advertise_structure_defineProperties(Constructor,staticProps),Constructor}var SLICES=[{color:"#092E63"},{color:"#FFCB00",textStyle:{color:"#071321"}},{color:"#FF9D43",textStyle:{color:"#071321"}},{color:"#F37705",textStyle:{color:"#071321"}},{color:"#124794"},{color:"#1E63C7"},{color:"#009688"},{color:"#9C27B0"},{color:"#3f51b5"},{color:"#ffeb3b"}],advertise=[function(){function AdvertiseForms(){!function(instance,Constructor){if(!(instance instanceof AdvertiseForms))throw new TypeError("Cannot call a class as a function")}(this),this.triggers=advertise_forms_toConsumableArray(document.querySelectorAll("[data-adv-modal]")),this.triggers.length>0&&(this.init(),this.bindEvents())}return advertise_forms_createClass(AdvertiseForms,null,[{key:"init",value:function(){return new AdvertiseForms}}]),advertise_forms_createClass(AdvertiseForms,[{key:"init",value:function(){var _this=this;this.modal=new tingle_min_default.a.modal({footer:!1,closeMethods:["overlay","escape"],cssClass:["advertise-modal"]}),this.modal.setContent('\n      <div class="advertise-modal__container">\n        <div class="advertise-modal__title h3">Заявка на размещение рекламы</div>\n        <form method="POST" enctype="application/x-www-form-urlencoded" action="/ajax/form_advertising_feedback.php" data-adv-form onsubmit="ym(39897405, \'reachGoal\', \'advert_applicatе_sent\');">    \n          <div class="input-container-n-2">\n            <div class="input-container-n-2__control input-container-n-2__control_vertical">\n              <label class="input-container-n-2__label input-container-n-2__label_bold">Ваше имя<span class="required">*</span></label>\n              <input class="input-container-n-2__input" value="" name="advertising_form_feedback_message_ajax[NAME]" required data-mask="ru">\n            </div>\n          </div>\n          <div class="input-container-n-2">\n            <div class="input-container-n-2__control input-container-n-2__control_vertical">\n              <label class="input-container-n-2__label input-container-n-2__label_bold">Ваш телефон</label>\n              <input class="input-container-n-2__input" name="advertising_form_feedback_message_ajax[PROPERTY_phone]" required data-mask="phone">\n            </div>\n          </div>\n          <div class="input-container-n-2">\n            <div class="input-container-n-2__control input-container-n-2__control_vertical">\n              <label class="input-container-n-2__label input-container-n-2__label_bold">Электронная почта, куда отправлять прайс-лист<span class="required">*</span></label>\n              <input class="input-container-n-2__input" name="advertising_form_feedback_message_ajax[PROPERTY_email]" required type="email">\n            </div>\n          </div>\n          <div class="input-container-n-2">\n            <div class="input-container-n-2__control input-container-n-2__control_vertical">\n              <label class="input-container-n-2__label input-container-n-2__label_bold">Сообщение<span class="required">*</span></label>\n              <textarea class="input-container-n-2__input" name="advertising_form_feedback_message_ajax[PROPERTY_comment]" required></textarea>\n            </div>\n          </div>\n          <button type="submit" class="button-n-2 button-n-2_theme_yellow button-n-2_type_full-width">Отправить</button>\n        </form>\n      </div>\n      <button class="tingle-modal__close">\n        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3.3a1 1 0 1 1 1.4 1.4L8.42 7l5.3 5.3a1 1 0 0 1-1.42 1.4L7 8.42l-5.3 5.3a1 1 0 0 1-1.4-1.42L5.58 7 .29 1.7A1 1 0 0 1 1.71.3L7 5.58l5.3-5.3z" fill="#071321"/></svg>\n      </button>\n    ');var closeButton=this.modal.modal.querySelector(".tingle-modal__close");closeButton&&closeButton.addEventListener("click",function(){return _this.modal.close()}),window.COMPONENTS_INPUTMASK&&window.COMPONENTS_INPUTMASK.init()}},{key:"bindEvents",value:function(){var _this2=this;this.triggers.forEach(function(el){el.addEventListener("click",function(){_this2.modal.open()})}),advertise_forms_toConsumableArray(document.querySelectorAll("[data-adv-form]")).forEach(function(el){el.addEventListener("submit",function(event){event.preventDefault();var serializedForm=Object(content_search_helpers.c)(el);return axios_default.a.post(el.action,serializedForm).then(function(response){el.reset();var modalContainer=_this2.modal.modal.querySelector(".advertise-modal__container"),successContainer=document.createElement("div");successContainer.className="advertise-modal__success",successContainer.style.display="none";var successText=document.createElement("p");successText.className="advertise-modal__success-text",successText.innerText="Спасибо, ваша заявка на размещение рекламы отправлена, мы свяжемся с вами в ближайшее время",successContainer.appendChild(successText),modalContainer.insertAdjacentElement("afterend",successContainer),TweenLite.a.to(modalContainer,.3,{opacity:0}),TweenLite.a.fromTo(successContainer,.3,{display:"none",opacity:0},{opacity:1,display:"flex",onComplete:function(){document.body.classList.contains("tingle-enabled")||_this2.modal.open()}}).delay(.3),setTimeout(function(){document.body.classList.contains("tingle-enabled")&&_this2.modal.close(),TweenLite.a.set(modalContainer,{opacity:1}),successContainer.parentElement.removeChild(successContainer)},3500)})})})}}]),AdvertiseForms}(),function(){function AdvertiseStructure(element){!function(instance,Constructor){if(!(instance instanceof AdvertiseStructure))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.url=this.element.getAttribute("data-url")||"/ajax/traffic.php";var defaultSlices={};SLICES.forEach(function(slice,index){defaultSlices[index]=slice}),this.defaultChartOptions={pieHole:.4,fontSize:12,fontName:'"Roboto", Helvetica, Arial, sans-serif',backgroundColor:"transparent",pieSliceTextStyle:{bold:!0,color:"#fff",fontSize:14},chartArea:{left:0,top:25,width:"210",height:"210"},legend:{position:"none"},slices:advertise_structure_objectSpread({},defaultSlices),tooltip:{isHtml:!0,text:"percentage",left:0,top:0,textStyle:{fontSize:25,bold:!1,fontName:'"Roboto", Helvetica, Arial, sans-serif'}}},this.chartsList=this.element.querySelector(".advertise-structure__list"),this.init()}return advertise_structure_createClass(AdvertiseStructure,null,[{key:"init",value:function(){var element=document.querySelector(".advertise-structure");if(element)return new AdvertiseStructure(element)}}]),advertise_structure_createClass(AdvertiseStructure,[{key:"init",value:function(){google.charts.load("42",{packages:["corechart"]}),this.request()}},{key:"request",value:function(){var _this=this;return axios_default.a.get(this.url).then(function(response){var data=response.data;data&&_this.onRequest(data)})}},{key:"onRequest",value:function(data){var _this2=this;data instanceof Array&&(this.chartsList.innerHTML="",data.filter(function(item,index){var key="structure__chart-inner"+index,name=item.name,elements=item.elements,chartData=[["Effort","Amount given",{type:"string",role:"tooltip"}]],itemWrapper=document.createElement("div");itemWrapper.className="col col_sm-12 col_md-4";var structureItem=document.createElement("div");structureItem.className="structure";var structureTitle=document.createElement("h4");structureTitle.className="structure__title",structureTitle.innerText=name;var structureChart=document.createElement("div");structureChart.className="structure__chart";var structureChartInner=document.createElement("div");structureChartInner.className="structure__chart-inner",structureChartInner.id=key;var structureLegend=document.createElement("div");structureLegend.className="structure__legend",structureChart.appendChild(structureChartInner),structureItem.appendChild(structureTitle),structureItem.appendChild(structureChart),structureItem.appendChild(structureLegend),itemWrapper.appendChild(structureItem),_this2.chartsList.appendChild(itemWrapper),elements.forEach(function(element,i){var structureLegendItem=document.createElement("div");structureLegendItem.className="structure__legend-item",structureLegendItem.innerText=element.title;var structureLegendBadge=document.createElement("div");structureLegendBadge.className="structure__legend-badge",structureLegendBadge.style.backgroundColor=SLICES[i].color,structureLegendItem.insertAdjacentElement("afterbegin",structureLegendBadge),structureLegend.appendChild(structureLegendItem),chartData.push([element.title,parseFloat(element.percent.replace("%","")),element.percent])}),google.charts.setOnLoadCallback(_this2.drawGoogleChart(chartData,_this2.defaultChartOptions,key))}))}},{key:"drawGoogleChart",value:function(data,options,key){return function(){if(data instanceof Array){var chartContainer=document.getElementById(key),structureContainer=chartContainer.closest(".structure"),dataTable=google.visualization.arrayToDataTable(data),chart=new google.visualization.PieChart(chartContainer);chart.draw(dataTable,options),google.visualization.events.addListener(chart,"onmouseover",function(e){advertise_structure_toConsumableArray(structureContainer.querySelectorAll(".structure__legend-item"))[e.row].classList.add("is-active")}),google.visualization.events.addListener(chart,"onmouseout",function(e){advertise_structure_toConsumableArray(structureContainer.querySelectorAll(".structure__legend-item"))[e.row].classList.remove("is-active")})}}}}]),AdvertiseStructure}()],fullscreen=__webpack_require__(112);function contact_map_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function contact_map_createClass(Constructor,protoProps,staticProps){return protoProps&&contact_map_defineProperties(Constructor.prototype,protoProps),staticProps&&contact_map_defineProperties(Constructor,staticProps),Constructor}var contact_map_ContactMap=function(){function ContactMap(element){!function(instance,Constructor){if(!(instance instanceof ContactMap))throw new TypeError("Cannot call a class as a function")}(this),this.element=element;var centerFromAttribute=element.getAttribute("data-center");this.mapCenter=centerFromAttribute?JSON.parse(centerFromAttribute):[2,1],this.imageLink="localhost"===window.location.hostname?"/static/img/minified-svg/":"/build-redesign/static/img/minified-svg/",this.init()}return contact_map_createClass(ContactMap,null,[{key:"init",value:function(){var element=document.querySelector(".contact-page__map");if(element)return new ContactMap(element)}}]),contact_map_createClass(ContactMap,[{key:"init",value:function(){var _this=this;window.ymaps?this.bindMapEvents():window.ymapsObserver.subscribe(function(){_this.bindMapEvents()})}},{key:"initMap",value:function(){var _this2=this,zoomControl=Object(zoom.a)(this.ymaps,{top:"14px",left:"17px"}),fullscreenControl=Object(fullscreen.a)(this.ymaps,{top:"106px",left:"17px"});this.mapHintLayout=this.ymaps.templateLayoutFactory.createClass('\n      <div class="contact-hint">\n        <div class="contact-hint__name">{{ properties.name }}</div>\n        <div class="contact-hint__time">{{ properties.time }}</div>\n      </div>\n    '),this.map=new this.ymaps.Map(this.element,{center:this.mapCenter,zoom:16,controls:[]},{maxZoom:18,minZoom:8,suppressMapOpenBlock:!0}),this.map.controls.add(zoomControl),this.map.controls.add(fullscreenControl),this.mapPlacemark=new this.ymaps.Placemark(this.mapCenter,{name:"Новостроев",time:"До 19:00"},{hintOpenHintOnHover:!1,hintOffset:[55,-30],hintCloseTimeout:133713371337,hintLayout:this.mapHintLayout,iconLayout:"default#image",iconImageHref:"".concat(this.imageLink,"maps-baloon-logo.svg"),iconImageSize:[60,65],iconImageOffset:[-5,-38]}),this.mapPlacemark.events.add("mouseleave",function(){_this2.mapPlacemark.hint.open()}),this.map.events.add("hintclose",function(){_this2.mapPlacemark.hint.open()}),fullscreenControl.events.add("fullscreenenter",function(){_this2.mapPlacemark.hint.open()}),fullscreenControl.events.add("fullscreenexit",function(){_this2.mapPlacemark.hint.open()}),this.map.geoObjects.add(this.mapPlacemark),this.mapPlacemark.hint.open(),this.map.events.add("actiontick",function(){_this2.mapPlacemark.hint.open()})}},{key:"bindMapEvents",value:function(){var _this3=this;this.ymaps=window.ymaps,this.ymaps.ready(function(){_this3.element.innerHTML="",_this3.initMap()})}}]),ContactMap}();function useful_videos_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function useful_videos_createClass(Constructor,protoProps,staticProps){return protoProps&&useful_videos_defineProperties(Constructor.prototype,protoProps),staticProps&&useful_videos_defineProperties(Constructor,staticProps),Constructor}var useful_videos_UsefulVideos=function(){function UsefulVideos(element){!function(instance,Constructor){if(!(instance instanceof UsefulVideos))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.init()}return useful_videos_createClass(UsefulVideos,null,[{key:"init",value:function(){var element=document.querySelector(".useful-videos__slider");if(element)return new UsefulVideos(element)}}]),useful_videos_createClass(UsefulVideos,[{key:"init",value:function(){this.swiper=new swiper_min_default.a(this.element,{slidesPerView:"auto",initialSlide:0,loop:!1,navigation:{nextEl:this.element.nextElementSibling.nextElementSibling,prevEl:this.element.nextElementSibling},lazy:{loadPrevNext:!0},breakpoints:{767:{centeredSlides:!0,initialSlide:1,loop:!0}}})}}]),UsefulVideos}(),bootstrap_modal=__webpack_require__(57);function callback_modal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function callback_modal_createClass(Constructor,protoProps,staticProps){return protoProps&&callback_modal_defineProperties(Constructor.prototype,protoProps),staticProps&&callback_modal_defineProperties(Constructor,staticProps),Constructor}var callback_modal_CallbackModal=function(){function CallbackModal(element){!function(instance,Constructor){if(!(instance instanceof CallbackModal))throw new TypeError("Cannot call a class as a function")}(this),this.form=element,this.modalNode=document.querySelector("#modal-callback-right"),this.statusModalNode=document.querySelector("#modal-callback-status-right"),this.modal=new bootstrap_modal.a.Modal(this.modalNode),this.statusModal=new bootstrap_modal.a.Modal(this.statusModalNode),this.statusModalText=this.statusModalNode.querySelector(".js-modal-form-status"),this.formAdvInput=document.querySelector('input[name="adv"]'),this.formHeader=document.querySelector(".modal-callback__title"),this.daySelect=this.form.querySelector("#modal-date"),this.timeSelect=this.form.querySelector("#modal-time"),this.phone=this.form.querySelector('[name="phone"]'),this.daySelect&&this.timeSelect&&this.bindEvents()}return callback_modal_createClass(CallbackModal,null,[{key:"init",value:function(){var element=document.querySelector(".js-modal-callback");if(element)return new CallbackModal(element)}}]),callback_modal_createClass(CallbackModal,[{key:"bindEvents",value:function(){var _this=this;"undefined"!=typeof callback_days&&callback_days.length&&this.daySelect.addEventListener("change",function(){return _this.initCallback()}),this.form.addEventListener("submit",function(event){event.preventDefault();var url=_this.form.getAttribute("action"),serializedFormData=Object(content_search_helpers.c)(_this.form,{hash:!0}),switchModals=function(){_this.modal.hide(),_this.statusModal.show()},onError=function(){_this.statusModalText.innerText="Ошибка при отправке, свяжитесь с нами по телефону +7 (495) 662-97-55",switchModals()},fd=getFormDataFromObject(serializedFormData);return axios_default.a.post(url,fd).then(function(response){if("error"!==response.data){var currentTimestamp=Math.floor(Date.now()/1e3),callbackTimestamp=+_this.timeSelect.value,date=_this.daySelect.querySelector('option[value="'.concat(serializedFormData.date,'"]')),time=_this.timeSelect.querySelector('option[value="'.concat(serializedFormData.time,'"]'));_this.statusModalText.innerHTML=currentTimestamp>callbackTimestamp?'\n              <div class="h3">\n                Спасибо за вашу заявку!\n              </div>\n              <div>\n                Менеджер свяжется с вами в течение 30 секунд, по номеру \n                <nobr>'.concat(_this.phone.mask.value,"</nobr>\n              </div>"):'\n            <div class="h3">Спасибо за вашу заявку!</div>\n            <div>Менеджер свяжется с вами '.concat(date.innerText.toLowerCase(),"<br/> в ").concat(time.innerText.toLowerCase()," по номеру <nobr>").concat(_this.phone.mask.value,"</nobr></div>"),_this.form.reset(),(arr=_this.form.elements,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).forEach(function(element){element.mask&&(element.mask.updateValue(""),element.mask.updateControl())}),switchModals()}else onError();var arr}).catch(function(){return onError()})}),this.modalNode.addEventListener("show.bs.modal-n-2",function(){_this.formAdvInput.value=_this.modalNode.modalTrigger.getAttribute("data-form-adv"),_this.formHeader.innerText=_this.modalNode.modalTrigger.getAttribute("data-form-title"),_this.initCallback()})}},{key:"initCallback",value:function(){var data=callback_days[this.daySelect.value];if(data){this.timeSelect.innerHTML="";var nextOptions=[];data.hours.forEach(function(item,index){nextOptions.push({value:item.timestamp.toString(),label:item.title,selected:0===index})}),this.timeSelect.choices.clearStore(),this.timeSelect.choices.setChoices(nextOptions,"value","label")}}}]),CallbackModal}(),Observer=__webpack_require__(113);function main_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}__webpack_require__.e(1).then(__webpack_require__.bind(null,238)),window.ymapsObserver=new Observer.a,document.addEventListener("DOMContentLoaded",function(){[cookie.a,ButtonUp,adv_complex_create.a,SearchMore,preview_cards_PreviewCards,DropMenu,SideMenu,favorite_favorite.a,compare_storage.a,CheckboxSelect,phone_number.a,city_pick_CityPick,first_pick_FirstPick,range_block_RangeSelect,switchableButton.a,TopBanner].concat(main_toConsumableArray(sliders),[ButtonGroup,infrastructure_Infrastructure,accordion,subscribe_SubscribeController,anchor_AnchorsController,StreetView,reviews_Reviews,light_gallery.a,MainBanner,review_vote_ReviewVote,breadcrumbs_Breadcrumbs],main_toConsumableArray(dev_landing),[FixableHeader,gallery_listing_GalleryListing,ParallaxBanner,StickyContainer,InfrastructureSelect,useful_videos_UsefulVideos,search_input.a,content_search_ContentSearch,callback_modal_CallbackModal,contact_map_ContactMap],main_toConsumableArray(advertise)).forEach(function(appModule){return appModule.init()})})},32:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"a",function(){return Cookie}),__webpack_require__(90),__webpack_require__(7),__webpack_require__(107),__webpack_require__(37);var Cookie=function(){function Cookie(){!function(instance,Constructor){if(!(instance instanceof Cookie))throw new TypeError("Cannot call a class as a function")}(this)}return _createClass(Cookie,null,[{key:"init",value:function(){return new Cookie}}]),_createClass(Cookie,[{key:"getCookie",value:function(name){var matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([.$?*|{}()[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):null}},{key:"setCookie",value:function(name,value,options){var expires=(options=options||{}).expires;if("number"==typeof expires&&expires){var date=new Date;date.setTime(date.getTime()+1e3*expires),expires=options.expires=date}expires&&expires.toUTCString&&(options.expires=expires.toUTCString());var updatedCookie=name+"="+(value=encodeURIComponent(value));for(var propName in options)if(propName){updatedCookie+="; "+propName;var propValue=options[propName];!0!==propValue&&(updatedCookie+="="+propValue)}document.cookie=updatedCookie}}]),Cookie}()},43:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Tabs}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(29),__webpack_require__(8),__webpack_require__(2),__webpack_require__(3),__webpack_require__(38),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5);var _tab_line_tab_line__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(44),gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Tabs=function(){function Tabs(links,_ref){var linkClass=_ref.linkClass,tabsClass=_ref.tabsClass,_ref$callback=_ref.callback,callback=void 0===_ref$callback?function(f){return f}:_ref$callback,line=_ref.line,_ref$beforeChange=_ref.beforeChange,beforeChange=void 0===_ref$beforeChange?function(f){return f}:_ref$beforeChange,_ref$afterChange=_ref.afterChange,afterChange=void 0===_ref$afterChange?function(f){return f}:_ref$afterChange;!function(instance,Constructor){if(!(instance instanceof Tabs))throw new TypeError("Cannot call a class as a function")}(this),this.classes={heading:{active:"".concat(linkClass,"_is_active"),item:"".concat(linkClass)},content:{active:"".concat(tabsClass,"_is_active"),show:"".concat(tabsClass,"_is_show"),item:"".concat(tabsClass)}},this.state={activeLink:null,activeTab:null},this.links=links,this.line=line?new _tab_line_tab_line__WEBPACK_IMPORTED_MODULE_11__.a({line:line,buttons:this.links,bindClick:!0}):null,this.beforeChange=beforeChange,this.afterChange=afterChange,this.callback=callback}var Constructor,protoProps;return Constructor=Tabs,(protoProps=[{key:"init",value:function(){this.handlers()}},{key:"handlers",value:function(){var arr,_this=this;this.tabs=(arr=this.links,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).reduce(function(acc,element){var tab=document.querySelector(element.getAttribute("href"));return tab&&acc.push(tab),element.addEventListener("click",function(event){event.preventDefault();var result=_this.beforeChange(element,tab);result?Promise.resolve(result).then(function(){_this.toggleTab(element,tab),_this.callback(element,tab)}):(_this.toggleTab(element,tab),_this.callback(element,tab))}),acc},[]),this.state.activeLink=this.links.find(function(link){return link.classList.contains(_this.classes.heading.active)}),this.state.activeTab=this.tabs.find(function(tab){return tab.classList.contains(_this.classes.content.active)})}},{key:"toggleTab",value:function(link,target){target&&(this.activeLink=link,this.activeTab=target)}},{key:"setActiveTab",value:function(tab){var _this2=this;this.state.activeTab=tab,this.state.activeTab.classList.add(this.classes.content.active),gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__.a.fromTo(this.state.activeTab,.25,{opacity:0,y:10},{opacity:1,y:0,onComplete:function(){_this2.state.activeTab.classList.add(_this2.classes.content.show)}})}},{key:"activeLink",set:function(link){this.state.activeLink&&this.state.activeLink.classList.remove(this.classes.heading.active),this.state.activeLink=link,this.state.activeLink.classList.add(this.classes.heading.active)},get:function(){return this.state.activeLink}},{key:"activeTab",set:function(tab){var _this3=this;this.state.activeTab?(this.state.activeTab.classList.remove(this.classes.content.show),gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__.a.to(this.state.activeTab,.3,{opacity:0,y:10,onComplete:function(){_this3.state.activeTab.classList.remove(_this3.classes.content.active),_this3.setActiveTab(tab),_this3.afterChange(tab)}})):this.setActiveTab(tab)},get:function(){return this.state.activeTab}}])&&_defineProperties(Constructor.prototype,protoProps),Tabs}()},44:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return TabLine}),__webpack_require__(11);var TabLine=function(){function TabLine(options){!function(instance,Constructor){if(!(instance instanceof TabLine))throw new TypeError("Cannot call a class as a function")}(this),options&&options.line&&(this.line=options.line,this.buttons=options.buttons&&options.buttons.length?options.buttons:null,this.state={activeButton:null,lineWidth:0,linePos:0},this.buttons&&options.bindClick&&(this.activeButton=this.buttons[0],this.move(this.state.activeButton),this.bindHandlers()))}var Constructor,protoProps;return Constructor=TabLine,(protoProps=[{key:"move",value:function(button){var _this=this,oldPos=this.state.linePos,newPos=button.offsetLeft,newWidth=button.clientWidth;newPos>this.state.linePos?(this.state.lineWidth=newPos-oldPos+newWidth,this.updateLineStyle(),this.state.linePos=newPos,this.state.lineWidth=newWidth,setTimeout(function(){return _this.updateLineStyle()},300)):(this.state.lineWidth=newWidth+oldPos-newPos,this.state.linePos=newPos,this.updateLineStyle(),this.state.lineWidth=newWidth,setTimeout(function(){return _this.updateLineStyle()},300))}},{key:"updateLineStyle",value:function(){this.line.style.width="".concat(this.state.lineWidth,"px"),this.line.style.left="".concat(this.state.linePos,"px")}},{key:"bindHandlers",value:function(){var _this2=this;this.buttons.map(function(button){button.addEventListener("click",function(event){event.preventDefault(),_this2.activeButton=button,_this2.move(button)})})}},{key:"activeButton",set:function(button){this.state.activeButton&&this.state.activeButton.removeAttribute("data-active"),this.state.activeButton=button,this.state.activeButton.setAttribute("data-active","")}}])&&_defineProperties(Constructor.prototype,protoProps),TabLine}()},57:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(20),__webpack_require__(2),__webpack_require__(64),__webpack_require__(3),__webpack_require__(4),__webpack_require__(5);var bsn=function(){var globalObject=void 0!==global?global:this||window,DOC=document,HTML=DOC.documentElement,BSN=globalObject.BSN={},supports=BSN.supports=[],modalOverlay=0,supportTransitions="WebkitTransition"in HTML.style||"Transition".toLowerCase()in HTML.style,transitionEndEvent="WebkitTransition"in HTML.style?"Webkit".toLowerCase()+"TransitionEnd":"Transition".toLowerCase()+"end",transitionDuration="WebkitDuration"in HTML.style?"Webkit".toLowerCase()+"TransitionDuration":"Transition".toLowerCase()+"Duration",setFocus=function(element){element.focus?element.focus():element.setActive()},addClass=function(element,classNAME){element.classList.add(classNAME)},removeClass=function(element,classNAME){element.classList.remove(classNAME)},hasClass=function(element,classNAME){return element.classList.contains(classNAME)},getElementsByClassName=function(element,classNAME){return[].slice.call(element.getElementsByClassName(classNAME))},queryElement=function(selector,parent){var lookUp=parent||DOC;return"object"===_typeof(selector)?selector:lookUp.querySelector(selector)},on=function(element,event,handler){element.addEventListener(event,handler,!1)},off=function(element,event,handler){element.removeEventListener(event,handler,!1)},getTransitionDurationFromElement=function(element){var duration=supportTransitions?globalObject.getComputedStyle(element)[transitionDuration]:0;return"number"!=typeof(duration=parseFloat(duration))||isNaN(duration)?0:1e3*duration},emulateTransitionEnd=function(element,handler){var called=0;getTransitionDurationFromElement(element)?function(element,event,handler){on(element,event,function handlerWrapper(e){handler(e),off(element,event,handlerWrapper)})}(element,transitionEndEvent,function(e){!called&&handler(e),called=1}):setTimeout(function(){!called&&handler(),called=1},17)},bootstrapCustomEvent=function(eventName,componentName,related){var OriginalCustomEvent=new CustomEvent(eventName+".bs."+componentName);OriginalCustomEvent.relatedTarget=related,this.dispatchEvent(OriginalCustomEvent)};BSN.version="2.0.26";var Modal=function(element,options){element=queryElement(element);var btnCheck=element.getAttribute("data-target")||element.getAttribute("href"),checkModal=queryElement(btnCheck),modal=hasClass(element,"modal-n-2")?element:checkModal;if(hasClass(element,"modal-n-2")&&(element=null),modal){options=options||{},this.keyboard=!1!==options.keyboard&&"false"!==modal.getAttribute("data-keyboard"),this.backdrop="static"!==options.backdrop&&"static"!==modal.getAttribute("data-backdrop")||"static",this.backdrop=!1!==options.backdrop&&"false"!==modal.getAttribute("data-backdrop")&&this.backdrop,this.backdropContainer=options.backdropContainer?options.backdropContainer:DOC.body,this.content=options.content;var bodyIsOverflowing,scrollBarWidth,overlay,self=this,relatedTarget=null,fixedItems=getElementsByClassName(HTML,"bsn-fixed").concat(getElementsByClassName(HTML,"bsn-fixed-bottom")),setScrollbar=function(){var bodyStyle=globalObject.getComputedStyle(DOC.body),bodyPad=parseInt(bodyStyle.paddingRight,10);if(bodyIsOverflowing&&(DOC.body.style.paddingRight=bodyPad+scrollBarWidth+"px",modal.style.paddingRight=scrollBarWidth+"px",fixedItems.length))for(var i=0;i<fixedItems.length;i++)globalObject.getComputedStyle(fixedItems[i]).paddingRight,fixedItems[i].style.right=fixedItems[i].style.right?parseFloat(fixedItems[i].style.right)+scrollBarWidth+"px":scrollBarWidth+"px"},checkScrollbar=function(){var htmlRect,widthValue,scrollDiv;bodyIsOverflowing=DOC.body.clientWidth<(htmlRect=HTML.getBoundingClientRect(),globalObject.innerWidth||htmlRect.right-Math.abs(htmlRect.left)),(scrollDiv=DOC.createElement("div")).className="modal-n-2-scrollbar-measure",DOC.body.appendChild(scrollDiv),widthValue=scrollDiv.offsetWidth-scrollDiv.clientWidth,DOC.body.removeChild(scrollDiv),scrollBarWidth=widthValue},removeOverlay=function(){(overlay=queryElement(".modal-n-2-backdrop"))&&null!==overlay&&"object"===_typeof(overlay)&&(modalOverlay=0,self.backdropContainer.removeChild(overlay),overlay=null),bootstrapCustomEvent.call(modal,"hidden","modal-n-2")},keydownHandlerToggle=function(){hasClass(modal,"show")?on(DOC,"keydown",keyHandler):off(DOC,"keydown",keyHandler)},resizeHandlerToggle=function(){hasClass(modal,"show")?on(globalObject,"resize",self.update):off(globalObject,"resize",self.update)},dismissHandlerToggle=function(){hasClass(modal,"show")?on(modal,"click",dismissHandler):off(modal,"click",dismissHandler)},triggerShow=function(){resizeHandlerToggle(),dismissHandlerToggle(),keydownHandlerToggle(),setFocus(modal),bootstrapCustomEvent.call(modal,"shown","modal-n-2",relatedTarget)},triggerHide=function(){modal.style.display="",element&&setFocus(element),getElementsByClassName(DOC,"modal-n-2 show")[0]||(function(){if(DOC.body.style.paddingRight="",modal.style.paddingRight="",fixedItems.length)for(var i=0;i<fixedItems.length;i++)fixedItems[i].style.right=fixedItems[i].style.right?parseFloat(fixedItems[i].style.right)-scrollBarWidth+"px":""}(),removeClass(DOC.body,"modal-n-2-open"),overlay&&hasClass(overlay,"fade")?(removeClass(overlay,"show"),emulateTransitionEnd(overlay,removeOverlay)):removeOverlay(),resizeHandlerToggle(),dismissHandlerToggle(),keydownHandlerToggle())},keyHandler=function(e){self.keyboard&&27==e.which&&hasClass(modal,"show")&&self.hide()},dismissHandler=function(e){var clickTarget=e.target;hasClass(modal,"show")&&("modal-n-2"===clickTarget.parentNode.getAttribute("data-dismiss")||"modal-n-2"===clickTarget.getAttribute("data-dismiss")||clickTarget===modal&&"static"!==self.backdrop)&&(self.hide(),relatedTarget=null,e.preventDefault())};this.toggle=function(){hasClass(modal,"show")?this.hide():this.show()},this.show=function(){bootstrapCustomEvent.call(modal,"show","modal-n-2",relatedTarget);var currentOpen=getElementsByClassName(DOC,"modal-n-2 show")[0];currentOpen&&currentOpen!==modal&&("modalTrigger"in currentOpen&&currentOpen.modalTrigger.Modal.hide(),"Modal"in currentOpen&&currentOpen.Modal.hide()),this.backdrop&&!modalOverlay&&function(){modalOverlay=1;var newOverlay=DOC.createElement("div");null===(overlay=queryElement(".modal-n-2-backdrop"))&&(newOverlay.setAttribute("class","modal-n-2-backdrop fade"),overlay=newOverlay,self.backdropContainer.appendChild(overlay))}(),overlay&&modalOverlay&&!hasClass(overlay,"show")&&(overlay.offsetWidth,getTransitionDurationFromElement(overlay),addClass(overlay,"show")),modal.style.display="block",checkScrollbar(),setScrollbar(),addClass(DOC.body,"modal-n-2-open"),addClass(modal,"show"),modal.setAttribute("aria-hidden",!1),hasClass(modal,"fade")?emulateTransitionEnd(modal,triggerShow):triggerShow()},this.hide=function(){bootstrapCustomEvent.call(modal,"hide","modal-n-2"),(overlay=queryElement(".modal-n-2-backdrop"))&&getTransitionDurationFromElement(overlay),removeClass(modal,"show"),modal.setAttribute("aria-hidden",!0),hasClass(modal,"fade")?emulateTransitionEnd(modal,triggerHide):triggerHide()},this.setContent=function(content){queryElement(".modal-n-2-content",modal).innerHTML=content},this.update=function(){hasClass(modal,"show")&&(checkScrollbar(),setScrollbar())},!element||"Modal"in element||on(element,"click",function(e){var clickTarget=e.target;(clickTarget=clickTarget.hasAttribute("data-target")||clickTarget.hasAttribute("href")?clickTarget:clickTarget.parentNode)!==element||hasClass(modal,"show")||(modal.modalTrigger=element,relatedTarget=element,self.show(),e.preventDefault())}),self.content&&self.setContent(self.content),element?(element.Modal=self,modal.modalTrigger=element):modal.Modal=self}};supports.push(["Modal",Modal,'[data-toggle="modal-n-2"]']);var initializeDataAPI=function(constructor,collection){for(var i=0,l=collection.length;i<l;i++)new constructor(collection[i])},initCallback=BSN.initCallback=function(lookUp){lookUp=lookUp||DOC;for(var i=0,l=supports.length;i<l;i++)initializeDataAPI(supports[i][1],lookUp.querySelectorAll(supports[i][2]))};return DOC.body?initCallback():on(DOC,"DOMContentLoaded",function(){initCallback()}),{Modal:Modal}}();window.Modal=bsn.Modal,__webpack_exports__.a=bsn}).call(this,__webpack_require__(109))},60:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"a",function(){return PhoneNumber}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(8),__webpack_require__(2),__webpack_require__(11),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5);var PhoneNumber=function(){function PhoneNumber(numberWrapper){!function(instance,Constructor){if(!(instance instanceof PhoneNumber))throw new TypeError("Cannot call a class as a function")}(this),this.numberLink=numberWrapper,"true"!==numberWrapper.getAttribute("data-init")&&(this.numberBlock=this.numberLink.querySelector(".phone-number-n-2__number"),this.capNumber=this.numberBlock.querySelector("span"),this.onNumberClick=this.onNumberClick.bind(this),this.bindEvents())}return _createClass(PhoneNumber,null,[{key:"init",value:function(){return(arr=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(".phone-number-n-2"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(el){return new PhoneNumber(el)});var arr}}]),_createClass(PhoneNumber,[{key:"bindEvents",value:function(){this.numberLink.setAttribute("data-init","true"),this.numberLink.addEventListener("click",this.onNumberClick)}},{key:"onNumberClick",value:function(event){if(this.numberLink.querySelector("span")){event.preventDefault();var number=this.numberLink.getAttribute("data-tel");this.numberBlock.removeChild(this.capNumber),this.numberBlock.innerText=number,this.numberLink.href="tel: ".concat(number)}this.numberLink.removeEventListener("click",this.onNumberClick)}}]),PhoneNumber}()},62:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ComplexItemSlider}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(8),__webpack_require__(2),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5);var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(17),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10__);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ComplexItemSlider=function(){function ComplexItemSlider(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof ComplexItemSlider))throw new TypeError("Cannot call a class as a function")}(this),this.element=element,this.arrows={next:this.element.querySelector(".complex-item-slider__arrow_next"),prev:this.element.querySelector(".complex-item-slider__arrow_prev")},this.intersectionObserver=new IntersectionObserver(function(entries){return _this.onIntersection(entries)}),this.intersectionObserver.observe(this.element)}return _createClass(ComplexItemSlider,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return arguments.length>1&&arguments[1],_toConsumableArray(container.querySelectorAll(".complex-item-slider")).forEach(function(slider,index){return new ComplexItemSlider(slider)})}},{key:"update",value:function(el){_toConsumableArray(el.querySelectorAll(".complex-item-slider")).forEach(function(slider){slider.swiper&&slider.swiper.update()})}}]),_createClass(ComplexItemSlider,[{key:"onIntersection",value:function(entries){var _this2=this;entries.forEach(function(entry){entry.isIntersecting&&(_this2.swiper=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10___default.a(_this2.element,{slidesPerView:1,loop:!0,nested:!0,navigation:{nextEl:_this2.arrows.next,prevEl:_this2.arrows.prev}}))})}}]),ComplexItemSlider}()},65:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Favorite}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(8),__webpack_require__(39),__webpack_require__(2),__webpack_require__(11),__webpack_require__(88),__webpack_require__(87),__webpack_require__(3),__webpack_require__(7),__webpack_require__(104),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5);var _cookie_cookie__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(32);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Favorite=function(){function Favorite(container){var arr;!function(instance,Constructor){if(!(instance instanceof Favorite))throw new TypeError("Cannot call a class as a function")}(this),this.favoriteButtons=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=container.querySelectorAll("[data-favorite]"))||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),this.favoriteTexts=this.favoriteButtons.map(function(button){return button.querySelector("[data-favorite-text]")}),this.favoriteLinkHeader=document.querySelector(".main-nav-n-2__add-link-favorites"),this.favoriteIconHeader=this.favoriteLinkHeader?this.favoriteLinkHeader.querySelector("svg"):null,this.favoriteCountHeader=this.favoriteLinkHeader?this.favoriteLinkHeader.querySelector(".main-nav-n-2__count-tag"):null,this.cookie=new _cookie_cookie__WEBPACK_IMPORTED_MODULE_15__.a,this.findFavorites(),this.bindEvents(),this.bootstrapText()}return _createClass(Favorite,null,[{key:"init",value:function(){return new Favorite(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document)}}]),_createClass(Favorite,[{key:"bindEvents",value:function(){var _this=this;this.favoriteButtons.forEach(function(button,index){return button.addEventListener("click",function(event){event.preventDefault();var currentButton=event.currentTarget;_this.favoriteAction(currentButton,_this.favoriteTexts[index])})})}},{key:"bootstrapText",value:function(){var _this2=this;this.favoriteTexts.forEach(function(element,index){if(element){var state=_this2.favoriteButtons[index].getAttribute("data-favorite");element.innerText="active"===state?"Убрать из избранного":"Добавить в избранное"}})}},{key:"favoritesCount",value:function(){var arrayCookie=this.cookie.getCookie("favorites");return arrayCookie?(this.favoritesArray=JSON.parse(arrayCookie),this.favoritesArray.length):(this.favoritesArray=[],0)}},{key:"favoriteCheck",value:function(element){return!!(this.favoritesArray&&this.favoritesArray.length&&this.favoritesArray.includes(Number(element)))}},{key:"findFavorites",value:function(){var _this3=this,favoriteLength=this.favoritesCount();this.favoriteButtons.forEach(function(button){_this3.favoriteCheck(button.getAttribute("data-id"))?button.setAttribute("data-favorite","active"):button.setAttribute("data-favorite","")}),this.favoriteLinkHeader&&(favoriteLength?(this.favoriteLinkHeader.classList.remove("main-nav-n-2__add-link-favorites_active"),setTimeout(function(){_this3.favoriteLinkHeader.classList.add("main-nav-n-2__add-link-favorites_active")},50),this.favoriteCountHeader=this.favoriteLinkHeader.querySelector(".main-nav-n-2__count-tag"),this.favoriteCountHeader||(this.favoriteCountHeader=document.createElement("div"),this.favoriteCountHeader.className="main-nav-n-2__count-tag",this.favoriteLinkHeader.appendChild(this.favoriteCountHeader)),this.favoriteCountHeader.innerHTML=favoriteLength):(setTimeout(function(){_this3.favoriteLinkHeader.classList.remove("main-nav-n-2__add-link-favorites_active")},60),this.favoriteCountHeader&&this.favoriteCountHeader.remove()))}},{key:"favoriteAction",value:function(buttonFavorite,text){var _this4=this,buttonId=+buttonFavorite.getAttribute("data-id");if(!buttonId)return!1;var parsedCookie,cookie=this.cookie.getCookie("favorites");cookie&&(parsedCookie=JSON.parse(cookie));var settings={expires:new Date((new Date).getTime()+31536e6).toUTCString(),path:"/",domain:location.hostname};if("active"===buttonFavorite.getAttribute("data-favorite")){if(buttonFavorite.setAttribute("data-favorite",""),text&&(text.innerText="Добавить в избранное"),parsedCookie&&parsedCookie.length){var cookieIndex=parsedCookie.indexOf(Number(buttonId));-1!==cookieIndex&&(parsedCookie.splice(cookieIndex,1),parsedCookie=JSON.stringify(parsedCookie),this.cookie.setCookie("favorites",parsedCookie,settings))}this.findFavorites()}else buttonFavorite.setAttribute("data-favorite","active"),text&&(text.innerText="Убрать из избранного"),parsedCookie&&parsedCookie.length?-1===parsedCookie.indexOf(buttonId)&&(parsedCookie.push(buttonId),parsedCookie=JSON.stringify(parsedCookie),this.cookie.setCookie("favorites",parsedCookie,settings)):this.cookie.setCookie("favorites","[".concat(buttonId,"]"),settings),setTimeout(function(){_this4.findFavorites()},500)}}]),Favorite}()},66:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CompareStorage}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(29),__webpack_require__(8),__webpack_require__(39),__webpack_require__(2),__webpack_require__(11),__webpack_require__(64),__webpack_require__(88),__webpack_require__(87),__webpack_require__(3),__webpack_require__(7),__webpack_require__(104),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5);var _cookie_cookie__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(32);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CompareStorage=function(){function CompareStorage(container){var arr;!function(instance,Constructor){if(!(instance instanceof CompareStorage))throw new TypeError("Cannot call a class as a function")}(this),this.compareButtons=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=container.querySelectorAll("[data-compare-n-2]"))||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),this.compareTexts=this.compareButtons.map(function(button){return button.querySelector("[data-compare-n-2]")}),this.compareLinkHeader=document.querySelector(".main-nav-n-2__add-link-compare"),this.compareIconHeader=this.compareLinkHeader?this.compareLinkHeader.querySelector("svg"):null,this.compareCountHeader=this.compareLinkHeader?this.compareLinkHeader.querySelector(".main-nav-n-2__count-tag"):null,this.cookie=new _cookie_cookie__WEBPACK_IMPORTED_MODULE_17__.a,this.count(),this.bindEvents(),this.bootstrapText()}return _createClass(CompareStorage,null,[{key:"init",value:function(){return new CompareStorage(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document)}}]),_createClass(CompareStorage,[{key:"bindEvents",value:function(){var _this=this;this.compareButtons.forEach(function(button,index){return button.addEventListener("click",function(event){event.preventDefault();var currentButton=event.currentTarget;_this.action(currentButton,_this.compareTexts[index])})}),this.compareLinkHeader&&this.compareLinkHeader.addEventListener("mousedown",function(event){event.preventDefault(),_this.setLink()})}},{key:"bootstrapText",value:function(){var _this2=this;this.compareTexts.forEach(function(element,index){if(element){var state=_this2.compareButtons[index].getAttribute("data-compare-n-2");element.innerText="active"===state?"Убрать из избранного":"Добавить в избранное"}})}},{key:"comparesCount",value:function(){var arrayCookie=this.cookie.getCookie("compare");return arrayCookie?(this.comparesArray=JSON.parse(arrayCookie),this.comparesArray.length):(this.comparesArray=[],0)}},{key:"compareCheck",value:function(element){return!!(this.comparesArray&&this.comparesArray.length&&this.comparesArray.find(function(compare){return compare.includes(Number(element))}))}},{key:"addToCookies",value:function(obj){var cookie=this.cookie.getCookie("compare"),parsedCookie=cookie?JSON.parse(cookie):null,settings={expires:new Date((new Date).getTime()+31536e6).toUTCString(),path:"/",domain:location.hostname};parsedCookie?-1===parsedCookie.indexOf(obj)&&(parsedCookie.push(obj),this.cookie.setCookie("compare",JSON.stringify(parsedCookie),settings)):this.cookie.setCookie("compare",'["'.concat(obj,'"]'),settings)}},{key:"removeFromCookies",value:function(obj){var cookie=this.cookie.getCookie("compare"),parsedCookie=cookie?JSON.parse(cookie):null,settings={expires:new Date((new Date).getTime()+31536e6).toUTCString(),path:"/",domain:location.hostname};parsedCookie&&-1!==parsedCookie.indexOf(obj)&&(parsedCookie.splice(parsedCookie.indexOf(obj),1),this.cookie.setCookie("compare",JSON.stringify(parsedCookie),settings))}},{key:"action",value:function(currentButton,text){var button=currentButton,buttonType=button.getAttribute("data-type"),buttonId=button.getAttribute("data-id"),cookieItem=buttonId+"&"+buttonType;if(!buttonId||!buttonType)throw new ReferenceError("Button data is undefined!","compare.js");"active"===button.getAttribute("data-compare-n-2")?(button.setAttribute("data-compare-n-2",""),text&&(text.innerText="Добавить к сравнению"),this.removeFromCookies(cookieItem),this.count()):(button.setAttribute("data-compare-n-2","active"),text&&(text.innerText="Убрать из сравнения"),this.addToCookies(cookieItem),this.count())}},{key:"count",value:function(){var _this3=this,compareLength=this.comparesCount();this.compareButtons.forEach(function(button){_this3.compareCheck(button.getAttribute("data-id"))?button.setAttribute("data-compare-n-2","active"):button.setAttribute("data-compare-n-2","")}),this.compareLinkHeader&&(compareLength?(this.compareLinkHeader.classList.remove("main-nav-n-2__add-link-compare_active"),setTimeout(function(){_this3.compareLinkHeader.classList.add("main-nav-n-2__add-link-compare_active")},50),this.compareCountHeader=this.compareLinkHeader.querySelector(".main-nav-n-2__count-tag"),this.compareCountHeader||(this.compareCountHeader=document.createElement("div"),this.compareCountHeader.className="main-nav-n-2__count-tag",this.compareLinkHeader.appendChild(this.compareCountHeader)),this.compareCountHeader.innerHTML=compareLength):(setTimeout(function(){_this3.compareLinkHeader.classList.remove("main-nav-n-2__add-link-compare_active")},60),this.compareCountHeader&&this.compareCountHeader.remove()))}},{key:"setLink",value:function(){var button=this.compareLinkHeader?this.compareLinkHeader:null;if(0!==this.checkCookies()&&"/compare/"!==window.location.pathname||!button){if(this.checkCookies()>0){var cookies=JSON.parse(this.cookie.getCookie("compare")),cottages="",buildings="";cookies.forEach(function(el){var item=el,ampersand=item.indexOf("&"),id=item.slice(0,ampersand),type=item.slice(ampersand+1);"cottages"===type&&(cottages=cottages.length?id+","+cottages:id+"&type="+type),"new_buildings"===type&&(buildings=buildings.length?id+","+buildings:id+"&type="+type)}),button&&(cottages.length&&buildings.length?button.setAttribute("href","/compare/"):buildings.length?button.setAttribute("href","/compare/?ids="+buildings):cottages.length&&button.setAttribute("href","/compare/?ids="+cottages))}}else button.setAttribute("href","/compare/")}},{key:"cookies",get:function(){return JSON.parse(this.cookie.getCookie("compare"))}}]),CompareStorage}()},67:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getZoomControl});var getZoomControl=function(ymaps,position){var zoomLayout=ymaps.templateLayoutFactory.createClass('<div class="zoom-controls">\n        <button id="zoom-in" class="ymaps-control__button"><i class="fa fa-plus"></i></button>\n        <button id="zoom-out" class="ymaps-control__button"><i class="fa fa-minus"></i></button>\n      </div>',{build:function(){var _this=this;zoomLayout.superclass.build.call(this),document.querySelector("#zoom-in").addEventListener("click",function(){return _this.zoomIn(_this)}),document.querySelector("#zoom-out").addEventListener("click",function(){return _this.zoomOut(_this)})},clear:function(){document.querySelector("#zoom-in").removeEventListener("click",this.zoomInCallback),document.querySelector("#zoom-out").removeEventListener("click",this.zoomOutCallback),zoomLayout.superclass.clear.call(this)},zoomIn:function(){var map=this.getData().control.getMap();map.setZoom(map.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var map=this.getData().control.getMap();map.setZoom(map.getZoom()-1,{checkZoomRange:!0})}});return new ymaps.control.ZoomControl({options:{layout:zoomLayout,position:position}})}},85:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return LightGallery}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(8),__webpack_require__(2),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5),__webpack_require__(209);var LightGallery=function(){var Constructor,staticProps;function LightGallery(element){!function(instance,Constructor){if(!(instance instanceof LightGallery))throw new TypeError("Cannot call a class as a function")}(this),lightGallery(element,{selector:"this",counter:!1,iframeMaxWidth:"90%",videoMaxWidth:"90%",hash:!1,zoom:!0,scale:1.2,download:!1,height:"100%",fullScreen:!0})}return Constructor=LightGallery,staticProps=[{key:"init",value:function(){var arr;(arr=document.querySelectorAll("[data-element-opening]"),function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).forEach(function(element){return new LightGallery(element)})}}],null&&_defineProperties(Constructor.prototype,null),staticProps&&_defineProperties(Constructor,staticProps),LightGallery}()},86:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CircleChart}),__webpack_require__(0),__webpack_require__(1),__webpack_require__(6),__webpack_require__(20),__webpack_require__(8),__webpack_require__(2),__webpack_require__(87),__webpack_require__(3),__webpack_require__(7),__webpack_require__(4),__webpack_require__(9),__webpack_require__(5);var gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var CircleChart=function(){function CircleChart(options){var arr;!function(instance,Constructor){if(!(instance instanceof CircleChart))throw new TypeError("Cannot call a class as a function")}(this),this.container=options.container||document,this.items=[],this.wrapper=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=this.container.querySelectorAll(options.wrapper))||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),this.plainValues=options.plainValues,this.rotate=options.rotate,this.duration=options.duration||2,this.size=options.size||100,this.data=options.data,this.maxValue=options.maxValue,this.colorRange=options.colorRange,this.background=options.circle.background,this.thickness=options.circle.thickness||2,this.backwards=options.circle.backwards||!1,this.ease=options.circle.ease||"linear"}var Constructor,protoProps;return Constructor=CircleChart,(protoProps=[{key:"makeSVG",value:function(tag,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",tag);for(var key in attrs)attrs.hasOwnProperty(key)&&el.setAttribute(key,attrs[key]);return el}},{key:"render",value:function(){var _this=this;this.wrapper.forEach(function(wrapper){var attrs={xmlns:"http://www.w3.org/2000/svg",viewbox:"0 0 ".concat(_this.size||100+_this.thickness," ").concat(_this.size||100+_this.thickness)};if(_this.rotate){var rating=Number(wrapper.getAttribute("data-".concat(_this.data))),angle=0;angle=_this.plainValues?360-360*(100-rating)/100:360-360*(5-rating)/100,_this.backwards&&(angle+=270),attrs.style="transform: rotate(".concat(angle,"deg) ").concat(_this.backwards?"scale(-1, 1)":"")}else _this.backwards&&(attrs.style="transform: rotate(270deg)");_this.size&&(attrs.width=_this.size,attrs.height=_this.size);var r=_this.size?_this.size/2-_this.thickness:46,svg=_this.makeSVG("svg",attrs),path=function(cx,cy,rad){return"M "+cx+" "+cy+" m -"+rad+", 0 a "+rad+","+rad+" 0 1,0 "+2*rad+",0 a "+rad+","+rad+" 0 1,0 -"+2*rad+",0"},backgroundCircle=document.createElementNS("http://www.w3.org/2000/svg","path");backgroundCircle.setAttribute("d",path(_this.size/2,_this.size/2,r)),backgroundCircle.setAttribute("fill","none"),backgroundCircle.setAttribute("stroke",_this.background),backgroundCircle.setAttribute("stroke-width",_this.thickness),svg.appendChild(backgroundCircle);var fillingCircle=document.createElementNS("http://www.w3.org/2000/svg","path");fillingCircle.setAttribute("d",path(_this.size/2,_this.size/2,r)),fillingCircle.setAttribute("fill","none"),fillingCircle.setAttribute("stroke-width",_this.thickness),fillingCircle.setAttribute("stroke-dashoffset",2*Math.PI*r),fillingCircle.setAttribute("stroke-dasharray",2*Math.PI*r),svg.appendChild(fillingCircle),wrapper.appendChild(svg),_this.items.push({wrapper:wrapper,fillingCircle:fillingCircle})})}},{key:"animate",value:function(){var _this2=this;this.items.forEach(function(item){var wrapper=item.wrapper,fillingCircle=item.fillingCircle;if(!item.animated){var itemTop=wrapper.getBoundingClientRect().top,itemBottom=itemTop+wrapper.clientHeight;if(itemTop>0&&itemBottom<window.innerHeight){var color,value,rating=Number(wrapper.getAttribute("data-".concat(_this2.data)));_this2.plainValues?(color=_this2.colorRange[0],value=rating):(color=_this2.colorRange[Math.ceil(rating)-1]||_this2.colorRange[0],rating<=0?(value=0,color="#e8e8e8"):rating<3?(value=25,color=_this2.colorRange[0]):rating<4?(value=75,color=_this2.colorRange[1]):(value=100,color=_this2.colorRange[2])),value/=100;var dashArray=fillingCircle.getAttribute("stroke-dasharray"),offset=dashArray-dashArray*value;gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__.a.to(fillingCircle,_this2.duration,{stroke:color,strokeDashoffset:offset}),item.animated=!0}}})}},{key:"init",value:function(){var _this3=this;document.addEventListener("scroll",function(){return _this3.animate()}),this.render(),this.animate()}},{key:"destroy",value:function(){var _this4=this;document.removeEventListener("scroll",function(){return _this4.animate()})}}])&&_defineProperties(Constructor.prototype,protoProps),CircleChart}()}});