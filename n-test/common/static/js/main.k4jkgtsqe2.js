!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={8:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){var promises=[],installedChunkData=installedChunks[chunkId];if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise(function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]});promises.push(installedChunkData[2]=promise);var onScriptComplete,script=document.createElement("script");script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.src=function(chunkId){return __webpack_require__.p+""+({0:"filter~map-search~search-filter",1:"map-search~search-filter",2:"advertise",3:"books",4:"content-search",5:"filter",6:"item-card",7:"landings-zhk",9:"map-search",10:"review-request",11:"search-filter",12:"vendors~filter",14:"vendors~map-search"}[chunkId]||chunkId)+".k4jkgtsqe2.js"}(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null,clearTimeout(timeout);var chunk=installedChunks[chunkId];if(0!==chunk){if(chunk){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")",error.name="ChunkLoadError",error.type=errorType,error.request=realSrc,chunk[1](error)}installedChunks[chunkId]=void 0}};var timeout=setTimeout(function(){onScriptComplete({type:"timeout",target:script})},12e4);script.onerror=script.onload=onScriptComplete,document.head.appendChild(script)}return Promise.all(promises)},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/build-redesign/static/js/",__webpack_require__.oe=function(err){throw err};var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([261,13]),checkDeferredModules()}({103:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return throttle});var throttle=function(callback,wait){var immediate=arguments.length>2&&void 0!==arguments[2]&&arguments[2],timeout=null,initialCall=!0;return function(){var _this=this,_arguments=arguments,callNow=immediate&&initialCall,next=function(){callback.apply(_this,_arguments),timeout=null};callNow&&(initialCall=!1,next()),timeout||(timeout=setTimeout(next,wait))}}},104:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CircleChart});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(21),__webpack_require__(26),__webpack_require__(9),__webpack_require__(4),__webpack_require__(75),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var gsap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(20);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var CircleChart=function(){function CircleChart(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CircleChart),this.container=options.container||document,this.items=[],this.wrapper=_toConsumableArray(this.container.querySelectorAll(options.wrapper)),this.plainValues=options.plainValues,this.plainValuesColorRange=options.plainValuesColorRange,this.rotate=options.rotate,this.duration=options.duration||2,this.size=options.size||100,this.data=options.data,this.maxValue=options.maxValue,this.colorRange=options.colorRange,this.background=options.circle.background,this.thickness=options.circle.thickness||2,this.backwards=options.circle.backwards||!1,this.ease=options.circle.ease||"linear"}var Constructor,protoProps,staticProps;return Constructor=CircleChart,(protoProps=[{key:"makeSVG",value:function(tag,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",tag);for(var key in attrs)attrs.hasOwnProperty(key)&&el.setAttribute(key,attrs[key]);return el}},{key:"render",value:function(){var _this=this;this.wrapper.forEach(function(wrapper){var attrs={xmlns:"http://www.w3.org/2000/svg",viewbox:"0 0 ".concat(_this.size||100+_this.thickness," ").concat(_this.size||100+_this.thickness)};if(_this.rotate){var rating=Number(wrapper.getAttribute("data-".concat(_this.data))),angle=0;angle=_this.plainValues?360-360*(100-rating)/100:360-360*(5-rating)/100,_this.backwards&&(angle+=270),attrs.style="transform: rotate(".concat(angle,"deg) ").concat(_this.backwards?"scale(-1, 1)":"")}else _this.backwards&&(attrs.style="transform: rotate(270deg)");_this.size&&(attrs.width=_this.size,attrs.height=_this.size);var r=_this.size?_this.size/2-_this.thickness/2:46,svg=_this.makeSVG("svg",attrs),path=function(cx,cy,rad){return"M "+cx+" "+cy+" m -"+rad+", 0 a "+rad+","+rad+" 0 1,0 "+2*rad+",0 a "+rad+","+rad+" 0 1,0 -"+2*rad+",0"},backgroundCircle=document.createElementNS("http://www.w3.org/2000/svg","path");backgroundCircle.setAttribute("d",path(_this.size/2,_this.size/2,r)),backgroundCircle.setAttribute("fill","none"),backgroundCircle.setAttribute("stroke",_this.background),backgroundCircle.setAttribute("stroke-width",_this.thickness),svg.appendChild(backgroundCircle);var fillingCircle=document.createElementNS("http://www.w3.org/2000/svg","path");fillingCircle.setAttribute("d",path(_this.size/2,_this.size/2,r)),fillingCircle.setAttribute("fill","none"),fillingCircle.setAttribute("stroke-width",_this.thickness),fillingCircle.setAttribute("stroke-dashoffset",2*Math.PI*r),fillingCircle.setAttribute("stroke-dasharray",2*Math.PI*r),svg.appendChild(fillingCircle),wrapper.appendChild(svg),_this.items.push({wrapper:wrapper,fillingCircle:fillingCircle})})}},{key:"animate",value:function(item){var color,value,wrapper=item.wrapper,fillingCircle=item.fillingCircle,rating=Number(wrapper.getAttribute("data-".concat(this.data)));if(this.plainValues){if(this.plainValuesColorRange){var index=0;this.plainValuesColorRange.forEach(function(v,i){v>=rating&&(index=i+1)}),color=this.colorRange[this.colorRange.length-1-index]}else color=this.colorRange[0];value=rating}else color=this.colorRange[Math.ceil(rating)-1]||this.colorRange[0],rating<=0?(value=0,color="#e8e8e8"):rating<3?(value=25,color=this.colorRange[0]):rating<4?(value=75,color=this.colorRange[1]):(value=100,color=this.colorRange[2]);value/=100;var dashArray=fillingCircle.getAttribute("stroke-dasharray"),offset=dashArray-dashArray*value;gsap__WEBPACK_IMPORTED_MODULE_13__.a.to(fillingCircle,this.duration,{ease:this.ease,stroke:color,strokeDashoffset:offset})}},{key:"init",value:function(){var _this2=this;this.render(),this.intersectionObserver=new IntersectionObserver(function(entries){return _this2.handleIntersection(entries)},{rootMargin:"30px"}),this.items.forEach(function(item){return _this2.intersectionObserver.observe(item.wrapper)})}},{key:"destroy",value:function(){this.intersectionObserver.disconnect()}},{key:"handleIntersection",value:function(entries){var _this3=this;entries.forEach(function(entry){if(entry.isIntersecting){var entryItem=_this3.items.find(function(item){return item.wrapper===entry.target});_this3.animate(entryItem),_this3.intersectionObserver.unobserve(entry.target)}})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),CircleChart}()},105:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Observer});__webpack_require__(59),__webpack_require__(10);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Observer=function(){function Observer(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Observer),this.observers=[]}var Constructor,protoProps,staticProps;return Constructor=Observer,(protoProps=[{key:"subscribe",value:function(fn){this.observers.push(fn)}},{key:"unsubscribe",value:function(fn){this.observers=this.observers.filter(function(subscriber){return subscriber!==fn})}},{key:"broadcast",value:function(data){this.observers.forEach(function(subscriber){return subscriber(data)})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Observer}()},11:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"y",function(){return SPACEBAR_KEY_CODES}),__webpack_require__.d(__webpack_exports__,"e",function(){return ENTER_KEY_CODE}),__webpack_require__.d(__webpack_exports__,"d",function(){return DOWN_ARROW_KEY_CODE}),__webpack_require__.d(__webpack_exports__,"z",function(){return UP_ARROW_KEY_CODE}),__webpack_require__.d(__webpack_exports__,"f",function(){return ESCAPE_KEY_CODE}),__webpack_require__.d(__webpack_exports__,"a",function(){return BARBA_CHANGE}),__webpack_require__.d(__webpack_exports__,"b",function(){return COMPLEXES_INIT}),__webpack_require__.d(__webpack_exports__,"c",function(){return DEVELOPER_MAP_FETCH_SUCCESS}),__webpack_require__.d(__webpack_exports__,"g",function(){return MAP_SEARCH_FETCH_SUCCESS}),__webpack_require__.d(__webpack_exports__,"h",function(){return MAP_SEARCH_FULLSCREEN_TOGGLE}),__webpack_require__.d(__webpack_exports__,"u",function(){return SEARCH_RENDER}),__webpack_require__.d(__webpack_exports__,"v",function(){return SEARCH_REQUEST_RENDER}),__webpack_require__.d(__webpack_exports__,"p",function(){return SEARCH_MAP_OPEN}),__webpack_require__.d(__webpack_exports__,"n",function(){return SEARCH_MAP_FETCH_SUCCESS}),__webpack_require__.d(__webpack_exports__,"o",function(){return SEARCH_MAP_MODAL_FETCH_SUCCESS}),__webpack_require__.d(__webpack_exports__,"q",function(){return SEARCH_MAP_REGION_FETCH_REQUEST}),__webpack_require__.d(__webpack_exports__,"r",function(){return SEARCH_MAP_REGION_FETCH_SUCCESS}),__webpack_require__.d(__webpack_exports__,"t",function(){return SEARCH_PAGINATION_RENDER}),__webpack_require__.d(__webpack_exports__,"m",function(){return SEARCH_INFINITE_PAGINATION_RENDER}),__webpack_require__.d(__webpack_exports__,"w",function(){return SEARCH_RESET}),__webpack_require__.d(__webpack_exports__,"x",function(){return SEARCH_TAG_REMOVE}),__webpack_require__.d(__webpack_exports__,"s",function(){return SEARCH_MODAL_BRANCH_CHANGE}),__webpack_require__.d(__webpack_exports__,"l",function(){return SEARCH_GEO_INPUTS_BOOTSTRAP}),__webpack_require__.d(__webpack_exports__,"k",function(){return PLACEMENT_MAP_OBJECT_CLICK}),__webpack_require__.d(__webpack_exports__,"i",function(){return MAP_SEARCH_PLACEMARK_EVENTS}),__webpack_require__.d(__webpack_exports__,"j",function(){return PANORAMA_NOT_FOUND});var SPACEBAR_KEY_CODES=[0,32],ENTER_KEY_CODE=13,DOWN_ARROW_KEY_CODE=40,UP_ARROW_KEY_CODE=38,ESCAPE_KEY_CODE=27,BARBA_CHANGE="BARBA_CHANGE",COMPLEXES_INIT="COMPLEXES_INIT",DEVELOPER_MAP_FETCH_SUCCESS="DEVELOPER_MAP_FETCH_SUCCESS",MAP_SEARCH_FETCH_SUCCESS="MAP_SEARCH_FETCH_SUCCESS",MAP_SEARCH_FULLSCREEN_TOGGLE="MAP_SEARCH_FULLSCREEN_TOGGLE",SEARCH_RENDER="SEARCH_RENDER",SEARCH_REQUEST_RENDER="SEARCH_REQUEST_RENDER",SEARCH_MAP_OPEN="SEARCH_MAP_OPEN",SEARCH_MAP_FETCH_SUCCESS="SEARCH_MAP_FETCH_SUCCESS",SEARCH_MAP_MODAL_FETCH_SUCCESS="SEARCH_MAP_MODAL_FETCH_SUCCESS",SEARCH_MAP_REGION_FETCH_REQUEST="SEARCH_MAP_REGION_FETCH_REQUEST",SEARCH_MAP_REGION_FETCH_SUCCESS="SEARCH_MAP_REGION_FETCH_SUCCESS",SEARCH_PAGINATION_RENDER="SEARCH_PAGINATION_RENDER",SEARCH_INFINITE_PAGINATION_RENDER="SEARCH_INFINITE_PAGINATION_RENDER",SEARCH_RESET="SEARCH_RESET",SEARCH_TAG_REMOVE="SEARCH_TAG_REMOVE",SEARCH_MODAL_BRANCH_CHANGE="SEARCH_MODAL_BRANCH_CHANGE",SEARCH_GEO_INPUTS_BOOTSTRAP="SEARCH_GEO_INPUTS_BOOTSTRAP",PLACEMENT_MAP_OBJECT_CLICK="PLACEMENT_MAP_OBJECT_CLICK",MAP_SEARCH_PLACEMARK_EVENTS="MAP_SEARCH_PLACEMARK_EVENTS",PANORAMA_NOT_FOUND="PANORAMA_NOT_FOUND"},114:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CheckboxSelect});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(47),__webpack_require__(4),__webpack_require__(43),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(90),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var _helpers_constants__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(11);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CheckboxSelect=function(){function CheckboxSelect(element){if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CheckboxSelect),this.element=element,this.elements={checked:this.element.querySelector(".checkbox-block-n-2__checked-elements"),extra:this.element.querySelector(".checkbox-block-n-2__extra-tag"),popup:this.element.querySelector(".checkbox-block-n-2__popup"),output:this.element.querySelector(".checkbox-block-n-2__output"),checkboxes:_toConsumableArray(this.element.querySelectorAll(".checkbox-block-n-2__popup input")),active:[],outputText:null,haveLargeElement:!1,roomNumber:!1,selectAllPreviousOptions:this.element.hasAttribute("data-select-previous")},this.elements.labels=this.elements.checkboxes.map(function(item){return item.nextElementSibling}),this.elements.checked){var typeEmpty=this.elements.checked.querySelector(".type-empty");typeEmpty&&(this.elements.defaultText=typeEmpty.innerHTML)}this.disableOutsideClick="false"===this.element.getAttribute("data-outside-click"),this.maxChecked=window.innerWidth<768?3:1,this.element.hasAttribute("data-max-checked")&&(this.maxChecked=+this.element.getAttribute("data-max-checked")),this.init()}return _createClass(CheckboxSelect,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=container.querySelectorAll(".checkbox-block-n-2");_toConsumableArray(elements).forEach(function(element){new CheckboxSelect(element)})}}]),_createClass(CheckboxSelect,[{key:"openPopup",value:function(){var _this=this;this.closeAll(),this.elements.popup.style.display="",setTimeout(function(){_this.elements.output.classList.add("open-dropdown"),_this.elements.popup.classList.remove("filter-popup-hide-n-2")},50)}},{key:"closePopup",value:function(){var _this2=this;this.elements.popup.classList.add("filter-popup-hide-n-2"),this.elements.output.classList.remove("open-dropdown"),setTimeout(function(){_this2.elements.popup.style.display="none"},50)}},{key:"closeAll",value:function(){var allOpenBlocks=_toConsumableArray(document.querySelectorAll('.open-dropdown:not([data-outside-click="false"])'));_toConsumableArray(allOpenBlocks).forEach(function(openBlock){var popupBlock=openBlock.parentElement.querySelector("[data-popup-filter]");openBlock.classList.remove("open-dropdown"),popupBlock&&(popupBlock.classList.add("filter-popup-hide-n-2"),setTimeout(function(){popupBlock.style.display="none"},50))})}},{key:"init",value:function(){var _this3=this,_this$elements=this.elements,checked=_this$elements.checked,extra=_this$elements.extra,popup=_this$elements.popup,output=_this$elements.output,labels=(_this$elements.checkboxes,_this$elements.labels),defaultText=_this$elements.defaultText,_this$elements2=this.elements,active=_this$elements2.active,outputText=_this$elements2.outputText,haveLargeElement=_this$elements2.haveLargeElement;output.hasAttribute("tabindex")||output.setAttribute("tabindex",0),output.addEventListener("keydown",function(event){switch(event.keyCode){case _helpers_constants__WEBPACK_IMPORTED_MODULE_14__.d:return void(labels&&labels.length&&labels[0].focus());case _helpers_constants__WEBPACK_IMPORTED_MODULE_14__.f:return void _this3.closePopup();default:return}}),labels.forEach(function(item){item&&(item.setAttribute("tabindex",0),item.addEventListener("keydown",function(event){switch(event.stopPropagation(),event.keyCode){case _helpers_constants__WEBPACK_IMPORTED_MODULE_14__.e:return void _this3.selectCurrentItem();case _helpers_constants__WEBPACK_IMPORTED_MODULE_14__.d:return event.preventDefault(),void _this3.focusItemByDirection(_helpers_constants__WEBPACK_IMPORTED_MODULE_14__.d);case _helpers_constants__WEBPACK_IMPORTED_MODULE_14__.z:return event.preventDefault(),void _this3.focusItemByDirection(_helpers_constants__WEBPACK_IMPORTED_MODULE_14__.z);case _helpers_constants__WEBPACK_IMPORTED_MODULE_14__.f:return void _this3.closePopup();default:return void(_helpers_constants__WEBPACK_IMPORTED_MODULE_14__.y.includes(event.keyCode)&&(event.preventDefault(),_this3.selectCurrentItem()))}}))}),popup.addEventListener("change",function(event){var typeCheck,typeNode=event.target.closest("[type-check]");typeNode&&(typeCheck=typeNode.getAttribute("type-check"));var activeElements=popup.querySelectorAll("input:checked");if(active=[],_toConsumableArray(activeElements).forEach(function(activeElement){active.push(activeElement.getAttribute("data-value")),activeElement.getAttribute("data-large")&&(haveLargeElement=!0)}),active=active.sort(),activeElements.length<=_this3.maxChecked&&0!==activeElements.length&&!haveLargeElement)outputText=active.join(", "),extra&&extra.classList.add("hide"),checked&&checked.classList.add("with-value");else if(1===activeElements.length&&haveLargeElement)outputText=active[0],extra&&extra.classList.add("hide"),checked&&checked.classList.add("with-value");else if(0===activeElements.length){var outputTemplate=function(text){return'<span class="type-empty">'.concat(text,"</span>")};switch(typeCheck){case"room":case"mkad":outputText=outputTemplate("Любое");break;case"date_complete":outputText=outputTemplate("Любая");break;case"room-expanded":outputText=outputTemplate("Выберите кол-во комнат");break;case"decoration":outputText=outputTemplate("Любая");break;case"cottage-expanded":outputText=outputTemplate("Выберите тип недвижимости");break;case"ready-expanded":outputText=outputTemplate("Готовность");break;case"date-expanded":outputText=outputTemplate("Срок сдачи объекта");break;case"metro-distance":outputText=outputTemplate("Расстояние до метро");break;default:outputText=outputTemplate(defaultText||"Любой")}extra&&extra.classList.add("hide"),checked&&checked.classList.remove("with-value")}else outputText=event.srcElement.checked?event.srcElement.getAttribute("data-value"):active[active.length-1],extra&&(extra.classList.remove("hide"),extra.querySelector(".extra-tag-n-2").innerText=activeElements.length),checked&&checked.classList.add("with-value");checked&&(checked.innerHTML=outputText)}),output.addEventListener("click",function(){popup.classList.contains("filter-popup-hide-n-2")?_this3.openPopup():_this3.closePopup()}),this.disableOutsideClick||window.addEventListener("click",function(event){popup.contains(event.target)||output.contains(event.target)||_this3.closePopup()})}},{key:"focusItemByDirection",value:function(direction){var nextItem,currentElementIndex=this.elements.labels.indexOf(document.activeElement);direction===_helpers_constants__WEBPACK_IMPORTED_MODULE_14__.z?currentElementIndex>0&&(nextItem=this.elements.labels[currentElementIndex-1]):direction===_helpers_constants__WEBPACK_IMPORTED_MODULE_14__.d&&currentElementIndex>=0&&currentElementIndex<this.elements.labels.length-1&&(nextItem=this.elements.labels[currentElementIndex+1]),nextItem&&nextItem.focus()}},{key:"selectCurrentItem",value:function(){var currentElementIndex=this.elements.labels.indexOf(document.activeElement);if(currentElementIndex||0===currentElementIndex){var currentInput=this.elements.checkboxes[currentElementIndex];if("radio"===currentInput.type&&currentInput.checked)return;var nextCheckState=!currentInput.checked;if(currentInput.checked=nextCheckState,this.elements.selectAllPreviousOptions&&0!==currentElementIndex)for(var i=0;i<currentElementIndex;i++)this.elements.checkboxes[i].checked=nextCheckState;currentInput.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.elements.popup.dispatchEvent(new CustomEvent("change"))}}}]),CheckboxSelect}()},115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SimilarSlider});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(16),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10__),_sliders_complex_item_slider_complex_item_slider__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(55);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var SimilarSlider=function(){var Constructor,protoProps,staticProps;function SimilarSlider(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SimilarSlider),this.element=element,this.arrows={next:element.parentNode.querySelector(".swiper-button-next"),prev:element.parentNode.querySelector(".swiper-button-prev")},this.swiper=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_10___default.a(this.element,{slidesPerView:"auto",initialSlide:0,navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},breakpoints:{1311:{slidesPerView:4},1200:{slidesPerView:3},767:{slidesPerView:2},575:{slidesPerView:1}}}),_sliders_complex_item_slider_complex_item_slider__WEBPACK_IMPORTED_MODULE_11__.a.init(this.element)}return Constructor=SimilarSlider,staticProps=[{key:"init",value:function(el){var lazyUpdate=arguments.length>1&&void 0!==arguments[1]&&arguments[1],container=el||document,sliders=_toConsumableArray(container.querySelectorAll(".similars-slider"));return sliders.map(function(slider){return new SimilarSlider(slider,lazyUpdate)})}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SimilarSlider}()},122:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return longestCommonSubstring}),__webpack_require__.d(__webpack_exports__,"a",function(){return escape});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(212),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(36),__webpack_require__(6);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var longestCommonSubstring=function(request,result){for(var s1=_toConsumableArray(request.toLowerCase()),s2=_toConsumableArray(result.toLowerCase()),substringMatrix=Array(s2.length+1).fill(null).map(function(){return Array(s1.length+1).fill(null)}),columnIndex=0;columnIndex<=s1.length;columnIndex+=1)substringMatrix[0][columnIndex]=0;for(var rowIndex=0;rowIndex<=s2.length;rowIndex+=1)substringMatrix[rowIndex][0]=0;for(var longestSubstringLength=0,longestSubstringColumn=0,longestSubstringRow=0,_rowIndex=1;_rowIndex<=s2.length;_rowIndex+=1)for(var _columnIndex=1;_columnIndex<=s1.length;_columnIndex+=1)s1[_columnIndex-1]===s2[_rowIndex-1]?substringMatrix[_rowIndex][_columnIndex]=substringMatrix[_rowIndex-1][_columnIndex-1]+1:substringMatrix[_rowIndex][_columnIndex]=0,substringMatrix[_rowIndex][_columnIndex]>longestSubstringLength&&(longestSubstringLength=substringMatrix[_rowIndex][_columnIndex],longestSubstringColumn=_columnIndex,longestSubstringRow=_rowIndex);if(0===longestSubstringLength)return"";for(var longestSubstring="";substringMatrix[longestSubstringRow][longestSubstringColumn]>0;)longestSubstring=s1[longestSubstringColumn-1]+longestSubstring,longestSubstringRow-=1,longestSubstringColumn-=1;return longestSubstring},escape=function(string){return string.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},135:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getPopup}),__webpack_require__.d(__webpack_exports__,"a",function(){return getBalloonFilter}),__webpack_require__.d(__webpack_exports__,"c",function(){return getSearchMapBalloonLayout});__webpack_require__(21),__webpack_require__(27),__webpack_require__(75),__webpack_require__(197),__webpack_require__(74);var getPopup=function(options){var data=options.data,onMouseEnter=options.onMouseEnter,onMouseLeave=options.onMouseLeave,item=data.feature.properties.data,image=item.image,link=item.link,name=item.name,info=item.info,price=item.price,priceFromTo="",priceMetrFromTo="";price&&price.all&&(price.all.from&&(priceFromTo+="от "+Math.round(price.all.from/1e5)/10),price.all.to&&(priceFromTo+=priceFromTo.length?" - ":"",priceFromTo+="до "+Math.round(price.all.to/1e5)/10),priceFromTo+=priceFromTo.length?" млн. руб.":""),price&&price.metr&&(price.metr.from&&(priceMetrFromTo+="от "+Math.round(price.metr.from/100)/10),price.metr.to&&(priceMetrFromTo+=priceMetrFromTo.length?" - ":"",priceMetrFromTo+="до "+Math.round(price.metr.to/100)/10),priceMetrFromTo+=priceMetrFromTo.length?" руб/м<sup>2</sup>":"");var container=document.createElement("div");return container.classList.add("search-map-balloon"),container.classList.add("shadow-md"),container.classList.add("rounded-xl"),name.length>26&&(container.style.width="350px"),container.innerHTML='\n    <a class="search-map-balloon__preview overflow-hidden rounded-xl" href="'.concat(link,'" target="_blank" rel="noopener noreferrer">\n      <img src="').concat(image,'" alt="').concat(name,'">\n    </a>\n    <div class="search-map-balloon__body">\n      <a href="').concat(link,'" target="_blank" rel="noopener noreferrer" class="search-map-balloon__title link-n-2 text-w-medium ').concat(name.length<=26?"text-nowrap":"",'">').concat(name,"</a>\n      ").concat(info?'<div class="search-map-balloon__info text-sm text-nowrap">'.concat(info,"</div>"):"",'\n      <div class="search-map-balloon__price-square text-sm text-nowrap">').concat(priceMetrFromTo,'</div>\n      <div class="search-map-balloon__price-total text-sm text-nowrap">').concat(priceFromTo,"</div>\n    </div>\n  "),onMouseEnter&&container.addEventListener("mouseenter",function(){onMouseEnter()}),onMouseLeave&&container.addEventListener("mouseleave",function(){onMouseLeave()}),container},getBalloonFilter=function(data,item){var image=item.image,link=item.link,name=item.name,info=item.info,price=item.price,priceFromTo="",priceMetrFromTo="";return price&&price.all?(price.all.from&&(priceFromTo+="от "+Math.round(price.all.from/1e5)/10),price.all.to&&(priceFromTo+=priceFromTo.length?" - ":"",priceFromTo+="до "+Math.round(price.all.to/1e5)/10),priceFromTo+=priceFromTo.length?" млн. руб.":""):Number.isInteger(price)&&(priceFromTo="Цена: ".concat(Math.round(price/1e5)/10," млн. руб.")),price&&price.metr&&(price.metr.from&&(priceMetrFromTo+="от "+Math.round(price.metr.from/100)/10),price.metr.to&&(priceMetrFromTo+=priceMetrFromTo.length?" - ":"",priceMetrFromTo+="до "+Math.round(price.metr.to/100)/10),priceMetrFromTo+=priceMetrFromTo.length?" руб/м<sup>2</sup>":""),'\n    <a class="search-map-balloon__preview overflow-hidden rounded-xl" href="'.concat(link,'" target="_blank" rel="noopener noreferrer">\n      <img src="').concat(image,'" alt="').concat(name,'">\n    </a>\n    <div class="search-map-balloon__body">\n      <a href="').concat(link,'" target="_blank" rel="noopener noreferrer" class="search-map-balloon__title link-n-2 text-w-medium">').concat(name,"</a>\n      ").concat(info?'<div class="search-map-balloon__info text-sm text-nowrap">'.concat(info,"</div>"):"",'\n      <div class="search-map-balloon__price-square text-sm text-nowrap">').concat(priceMetrFromTo,'</div>\n      <div class="search-map-balloon__price-total text-sm text-nowrap">').concat(priceFromTo,"</div>\n    </div>\n  ")},getSearchMapBalloonLayout=function(ymaps){var layout=ymaps.templateLayoutFactory.createClass('\n      <div class="search-map-balloon shadow-md rounded-xl">\n        {{ properties.data|itemBallon|raw }}\n      </div>',{build:function(){layout.superclass.build.call(this);var data=this.getData().object.properties.data;if(data.name)if(data.name.length>26)this.getParentElement().style.width="350px";else{var title=this.getElement().querySelector(".search-map-balloon__title");title&&title.classList.add("text-nowrap")}},clear:function(){layout.superclass.clear.call(this)},getShape:function(){var result,el=this.getElement();if(el){var firstChild=el.firstElementChild;result=new self.ymaps.shape.Rectangle(new self.ymaps.geometry.pixel.Rectangle([[0,-firstChild.offsetHeight/2],[firstChild.offsetWidth+30,firstChild.offsetHeight/2]]))}return result}});return layout}},142:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(42),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var axios=__webpack_require__(13),axios_default=__webpack_require__.n(axios),pubsub=__webpack_require__(15),pubsub_default=__webpack_require__.n(pubsub),tingle_min=__webpack_require__(113),tingle_min_default=__webpack_require__.n(tingle_min),compare_storage=__webpack_require__(54),favorite=__webpack_require__(53),modal=__webpack_require__(35),phone_number=__webpack_require__(28),tooltip=__webpack_require__(45),constants=__webpack_require__(11),createPropertyElement=(__webpack_require__(21),__webpack_require__(27),__webpack_require__(75),__webpack_require__(197),__webpack_require__(74),function(name,value,link){var propertyListItem=document.createElement("li");propertyListItem.className="properties-list__item";var property=document.createElement("div");property.className="property";var propertyName=document.createElement("div");propertyName.className="property__name",propertyName.innerText=name;var propertyValue=document.createElement(link?"a":"div");return propertyValue.className="property__value",propertyValue.innerHTML=value,link&&(propertyValue.classList.add("link-n-2"),propertyValue.href=link,propertyValue.setAttribute("target","_blank"),propertyValue.setAttribute("rel","noopener noreferrer")),property.appendChild(propertyName),property.appendChild(propertyValue),propertyListItem.appendChild(property),propertyListItem}),icons_phone='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path></svg>',icons_favorite='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 21 19" fill="none"><path d="M9.64174 3.63033C9.8224 3.93176 10.148 4.11624 10.4994 4.11625C10.8509 4.11626 11.1765 3.93181 11.3572 3.63039C12.6037 1.55098 14.2477 0.889229 15.6855 1.01486C17.1737 1.14489 18.6267 2.1317 19.4119 3.71787C20.184 5.27743 20.323 7.46301 19.0482 9.96824C17.8062 12.409 15.2046 15.174 10.4995 17.8537C5.79482 15.1741 3.19353 12.409 1.95168 9.96828C0.67701 7.46304 0.816073 5.27744 1.58806 3.71785C2.37321 2.13166 3.82614 1.14488 5.31414 1.01485C6.7517 0.889237 8.39547 1.55093 9.64174 3.63033Z" stroke="#BFC9D5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',icons_compare='<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.17358 0C4.06909 0 3.17358 0.895416 3.17358 2V3.78262H2C0.895508 3.78262 0 4.67807 0 5.78262V15C0 16.1046 0.895508 17 2 17H11.2173C12.322 17 13.2173 16.1046 13.2173 15V13.8261H14.9998C16.1042 13.8261 16.9998 12.9307 16.9998 11.8261V2C16.9998 0.895416 16.1042 0 14.9998 0H5.17358ZM13.2173 11.8261H14.9998V2H5.17358V3.78262H11.2173C12.322 3.78262 13.2173 4.67804 13.2173 5.78262V11.8261ZM2 5.78262H11.2173V15H2V5.78262Z" fill="#071321"></path></svg>',device=__webpack_require__(62),lazyload_script=__webpack_require__(46),map_search_hover_balloon=__webpack_require__(135),Observer=__webpack_require__(105),search_filter_map_helpers=__webpack_require__(198),zoom=__webpack_require__(56);function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"a",function(){return search_filter_map_modal_SearchFilterMapModal});var search_filter_map_modal_SearchFilterMapModal=function(){function SearchFilterMapModal(controller){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SearchFilterMapModal);var mediaQuery=matchMedia("(max-width: 768px)");mediaQuery.addListener(function(matches){return _this.handleMediaChange(matches)}),this.handleMediaChange(mediaQuery),window.ObjectsModalMap=this,this.ymapsObserver=new Observer.a,this.controller=controller,this.cache={requests:{}};var _this$controller=this.controller,filterForm=_this$controller.filterForm,searchForm=_this$controller.searchForm,form=filterForm||searchForm;this.objectsUrl=form&&form.getAttribute("data-request-elements-url"),this.initModal(),this.bindEvents()}return _createClass(SearchFilterMapModal,null,[{key:"init",value:function(controller){if(!window.ObjectsModalMap)return new SearchFilterMapModal(controller)}},{key:"bindEvents",value:function(container){this.complexes=_toConsumableArray(container.querySelectorAll(".complex-item-n-2")),this.complexes.forEach(function(item){var id=item.getAttribute("data-id");if(id){var button=item.querySelector(".js-search-on-map");button&&!button[constants.p]&&(button.addEventListener("click",function(){return pubsub_default.a.publish(constants.p,{id:id})}),button[constants.p]=!0)}})}}]),_createClass(SearchFilterMapModal,[{key:"initMap",value:function(){var _this2=this;this.ymaps.template.filtersStorage.add("itemBallon",function(data,item){return Object(map_search_hover_balloon.a)(data,item)}),this.zoomControl=Object(zoom.a)(this.ymaps,{top:"253px",right:"20px"}),this.setMapControls(),this.objectsMap=new this.ymaps.Map(this.modal.modalBoxContent,{center:[55.7156053517751,37.4754233558197],zoom:16,controls:[]},{suppressMapOpenBlock:!0,maxZoom:16}),this.objectsMap.controls.add(this.zoomControl),this.objectsManager=new this.ymaps.ObjectManager({clusterize:!1}),this.regionsManager=new this.ymaps.ObjectManager({clusterize:!1}),this.objectsManager.objects.options.set({balloonLayout:Object(map_search_hover_balloon.c)(this.ymaps),balloonPanelMaxMapArea:0,balloonShadow:!1,hideIconOnBalloonOpen:!1}),this.objectsMap.events.add("click",function(event){_this2.objectsManager.objects.balloon.close(),_this2.placemarkId&&(_this2.resetPlacemarkIcon(_this2.placemarkId),_this2.placemarkId=null)}),this.regionsManager.objects.events.add("click",function(event){_this2.objectsManager.objects.balloon.close(),_this2.placemarkId&&(_this2.resetPlacemarkIcon(_this2.placemarkId),_this2.placemarkId=null)}),Object(device.a)()||(this.objectsManager.objects.events.add("mouseenter",function(event){var id=event.get("objectId");_this2.mouseInsidePlacemark=!0,_this2.openBalloon(id)}),this.objectsManager.objects.events.add("mouseleave",function(event){_this2.mouseInsidePlacemark=!1,setTimeout(function(){_this2.closeBalloonIfNeeded()},100)}),this.objectsManager.objects.balloon.events.add("mouseenter",function(event){_this2.mouseInsideBalloon=!0}),this.objectsManager.objects.balloon.events.add("mouseleave",function(event){_this2.mouseInsideBalloon=!1,setTimeout(function(){_this2.closeBalloonIfNeeded()},100)})),this.objectsManager.objects.events.add("click",function(event){var id=event.get("objectId");_this2.renderItem(id),_this2.setPlacemarkIcon(id)}),this.ymapsObserver.broadcast(""),this.hideSpinner()}},{key:"renderMapPlacemarks",value:function(placemarks){placemarks.length&&(this.objectsManager.removeAll(),this.objectsManager.add({type:"FeatureCollection",features:placemarks}),this.objectsMap.geoObjects.add(this.objectsManager))}},{key:"renderMapRegions",value:function(regions){regions.length&&(this.regionsManager.add({type:"FeatureCollection",features:regions}),this.objectsMap.geoObjects.add(this.regionsManager))}},{key:"initModal",value:function(){var _this3=this;this.modal=new tingle_min_default.a.modal({footer:!1,closeMethods:["overlay","escape"],cssClass:["ymaps-modal"]}),this.modal.modalBoxContent.appendChild(this.createCloseButton()),this.modal.modalBoxContent.appendChild(this.createInfoContainer()),this.modal.modalBoxContent.classList.add("spinner"),Object(lazyload_script.a)({elements:[this.modal.modalBoxContent],observerMargin:100,onLoad:function(){return _this3.bindMapEvents()},scriptSrc:"https://api-maps.yandex.ru/2.1/?lang=ru_RU&onload=ymapsBroadcast&apikey=81fd4d74-8f99-4223-b3a9-ced2137399e7",scriptUniqueSelector:"api-maps.yandex"})}},{key:"renderItem",value:function(id){var placemark=this.objectsManager.objects.getById(id);if(placemark){var itemInfoBlock=function(data){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var container=document.createElement("div");container.className="object-side-info rounded-xl-not-mobile overflow-hidden";var body=document.createElement("div");body.className="object-side-info__body",body.style.display="block";var titleElement=document.createElement(data.link?"a":"div");titleElement.className="object-side-info__title text-w-medium text-twenty-four text-twenty-mobile",titleElement.innerText=data.name,data.link&&(titleElement.classList.add("link-n-2"),titleElement.href=data.link,titleElement.setAttribute("target","_blank"),titleElement.setAttribute("rel","noopener noreferrer"));var priceElement=document.createElement("div");priceElement.className="object-side-info__price";var priceBlock=document.createElement("div");if(priceBlock.className="object-price flex-column",data.price&&data.price.all){var priceFromTo="";data.price.all.from&&(priceFromTo+="от "+Math.round(data.price.all.from/1e5)/10),data.price.all.to&&(priceFromTo+=priceFromTo.length?" - ":"",priceFromTo+="до "+Math.round(data.price.all.to/1e5)/10),priceFromTo+=priceFromTo.length?" млн. руб.":"";var priceTotal=document.createElement("div");priceTotal.className="object-price__title text-twenty",priceTotal.innerHTML=priceFromTo,priceBlock.appendChild(priceTotal)}else if(Number.isInteger(data.price)){var _priceTotal=document.createElement("div");_priceTotal.className="object-price__title text-twenty",_priceTotal.innerHTML='"Цена: '.concat(Math.round(data.price.all.from/1e5)/10," млн. руб."),priceBlock.appendChild(_priceTotal)}if(data.price&&data.price.metr){var priceMetrFromTo="";data.price.metr.from&&(priceMetrFromTo+="от "+Math.round(data.price.metr.from/100)/10),data.price.metr.to&&(priceMetrFromTo+=priceMetrFromTo.length?" - ":"",priceMetrFromTo+="до "+Math.round(data.price.metr.to/100)/10),priceMetrFromTo+=priceMetrFromTo.length?" руб/м<sup>2</sup>":"";var pricePerSquare=document.createElement("div");pricePerSquare.className="object-price__value text-md text-sm-mobile",pricePerSquare.innerHTML=priceMetrFromTo,priceBlock.appendChild(pricePerSquare)}priceBlock.childElementCount&&priceElement.appendChild(priceBlock);var propertiesElement=document.createElement("div");propertiesElement.className="object-side-info__properties offset-vb-xs-mobile";var properties=document.createElement("ul");properties.className="properties-list",data.date_end&&properties.appendChild(createPropertyElement("Срок сдачи",data.date_end)),data.flatsSquare&&properties.appendChild(createPropertyElement("Площадь квартир",data.flatsSquare)),data.buildingClass&&properties.appendChild(createPropertyElement("Класс жилья",data.buildingClass)),data.developers&&Array.isArray(data.developers)&&data.developers.length&&properties.appendChild(createPropertyElement("Застройщик",data.developers[0].name,data.developers[0].link)),propertiesElement.appendChild(properties);var buttonsElement=document.createElement("div");if(buttonsElement.className="object-side-info__buttons",data.telNumber){var phoneButton=document.createElement("a");phoneButton.className="phone-number-n-2 phone-number-n-2_large phone-number-n-2_theme_yellow rounded-md w-auto",phoneButton.setAttribute("data-tel",data.telNumber),phoneButton.setAttribute("onclick",'ym(39897405, "reachGoal", "Click_phone");'),phoneButton.innerHTML='\n      <div class="phone-number-n-2__icon">\n        '.concat(icons_phone,'\n      </div>\n      <div class="phone-number-n-2__number">\n        +7 <span>Показать телефон</span>\n      </div>\n    '),buttonsElement.appendChild(phoneButton)}if(data.advCallable){var callbackButton=document.createElement("button");callbackButton.className="button-n-2 button-n-2_theme_light-blue rounded-md text-l-tablet text-sm-mobile",callbackButton.setAttribute("data-toggle","modal-n-2"),callbackButton.setAttribute("data-target","#modal-callback-right"),callbackButton.setAttribute("data-form","developer"),callbackButton.setAttribute("data-form-adv",data.id),callbackButton.setAttribute("data-form-title","С Вами свяжется менеджер "+data.name),callbackButton.innerText="Перезвоните мне",buttonsElement.appendChild(callbackButton)}var controlsElement=document.createElement("div");if(controlsElement.className="object-side-info__controls",controlsElement.innerHTML='\n    <button class="manage-complex-btn-n-2 manage-complex-btn-n-2_theme_yellow"\n      data-tip="Добавить в избранное"\n      data-id="'.concat(data.id,'"\n      data-type="').concat(data.type,'"\n      data-favorite="">\n      ').concat(icons_favorite,'\n    </button>\n    <button class="manage-complex-btn-n-2 manage-complex-btn-n-2_theme_yellow"\n      data-tip="Добавить в сравнение"\n      data-id="').concat(data.id,'"\n      data-type="').concat(data.type,'"\n      data-compare-n-2="">\n      ').concat(icons_compare,"\n    </button>\n  "),body.appendChild(controlsElement),body.appendChild(titleElement),body.appendChild(priceElement),body.appendChild(propertiesElement),buttonsElement.childElementCount&&body.appendChild(buttonsElement),data.whereToBuy){var whereToBuyElement=document.createElement("div");whereToBuyElement.className="object-side-info__where-to-buy",whereToBuyElement.innerHTML='\n      <span class="text-w-medium text-md">Где купить квартиру?</span>\n      <span>'.concat(data.whereToBuy,"</span>\n    "),body.appendChild(whereToBuyElement)}return container.appendChild(body),container}(placemark.properties.data);this.infoContainer.innerHTML="",this.infoContainer.appendChild(itemInfoBlock),compare_storage.a.init(itemInfoBlock),favorite.a.init(itemInfoBlock),modal.a.init({container:itemInfoBlock,triggersSelector:'[data-toggle="modal-n-2"]'}),phone_number.a.init(itemInfoBlock),tooltip.a.init(itemInfoBlock)}}},{key:"bindMapEvents",value:function(){var _this4=this,initMap=function(){_this4.ymaps=window.ymaps,_this4.ymaps.ready(function(){return _this4.initMap()})};window.ymaps?initMap():window.ymapsObserver.subscribe(function(){initMap()})}},{key:"bindEvents",value:function(){var _this5=this;pubsub_default.a.subscribe(constants.p,function(message,data){var id=data.id;_this5.nextObjectId=id,_this5.requestItems(id),_this5.regionsManager&&_this5.regionsManager.objects.getLength()||pubsub_default.a.publish(constants.q),_this5.modal.open(),_this5.objectsMap&&_this5.objectsMap.container.fitToViewport()});var onPlacemarksLoad=function(data){_this5.renderMapPlacemarks(data),_this5.renderItem(_this5.nextObjectId),_this5.centerMap(_this5.nextObjectId),_this5.setPlacemarkIcon(_this5.nextObjectId),_this5.openBalloon(_this5.nextObjectId)};this.placemarksLoader=new Promise(function(resolve){pubsub_default.a.subscribe(constants.o,function(topMessage,topPayload){_this5.cache.requests[_this5.nextObjectId]=topPayload.data,pubsub_default.a.unsubscribe(constants.o),pubsub_default.a.subscribe(constants.o,function(message,payload){onPlacemarksLoad(payload.data)}),resolve(topPayload.data)})}),this.regionsLoader=new Promise(function(resolve){pubsub_default.a.subscribe(constants.r,function(message,payload){resolve(payload.data)})}),this.ymapsLoader=new Promise(function(resolve){return _this5.ymapsObserver.subscribe(function(){return resolve()})}),Promise.all([this.placemarksLoader,this.ymapsLoader]).then(function(_ref){var data=_slicedToArray(_ref,1)[0];onPlacemarksLoad(data),_this5.nextObjectId=null}),Promise.all([this.regionsLoader,this.ymapsLoader]).then(function(_ref3){var data=_slicedToArray(_ref3,1)[0];_this5.renderMapRegions(data)})}},{key:"requestItems",value:function(id){var _this6=this;return this.cache.requests[id]?new Promise(function(resolve){pubsub_default.a.publish(constants.o,{data:_this6.cache.requests[id]}),resolve()}):axios_default.a.get(this.objectsUrl||"search-modal-map-list.json",{params:{id:id}}).then(function(response){var data=response.data;data&&data.items&&_this6.onRequest(data.items)})}},{key:"onRequest",value:function(items){pubsub_default.a.publish(constants.o,{data:Object(search_filter_map_helpers.a)(items)})}},{key:"openBalloon",value:function(id){this.objectsManager.objects.getById(id)&&this.objectsManager.objects.balloon.open(id)}},{key:"closeBalloonIfNeeded",value:function(){this.mouseInsideBalloon||this.mouseInsidePlacemark||this.objectsManager.objects.balloon.close()}},{key:"setPlacemarkIcon",value:function(id){this.placemarkId&&this.resetPlacemarkIcon(this.placemarkId);var placemark=this.objectsManager.objects.getById(id);placemark&&(this.objectsManager.objects.setObjectOptions(id,{iconImageHref:placemark.properties.selectedIcon,iconImageSize:[26,26],iconImageOffset:[-13,-13]}),this.placemarkId=id)}},{key:"resetPlacemarkIcon",value:function(id){var placemark=this.objectsManager.objects.getById(id);placemark&&this.objectsManager.objects.setObjectOptions(id,{iconImageHref:placemark.properties.originalIcon,iconImageSize:[18,18],iconImageOffset:[-9,-9]})}},{key:"centerMap",value:function(id){var mapObject=this.objectsManager.objects.getById(id);if(mapObject)this.objectsMap.setCenter(mapObject.geometry.coordinates);else{var bounds=this.objectsManager.getBounds();bounds&&this.objectsMap.setBounds(bounds)}}},{key:"createCloseButton",value:function(){var _this7=this,closeButtonContainer=document.createElement("div");closeButtonContainer.className="close-button-container";var closeButton=document.createElement("button");return closeButton.className="close-button",closeButton.addEventListener("click",function(){return _this7.modal.close()}),closeButton.innerHTML='\n      <svg width="14" height="14" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.574 6L.295 1.722A1.008 1.008 0 1 1 1.722.295L6 4.574 10.278.295a1.008 1.008 0 0 1 1.427 1.427L7.426 6l4.279 4.278a1.009 1.009 0 0 1-1.427 1.427L6 7.426l-4.278 4.279a1.008 1.008 0 1 1-1.427-1.427L4.574 6z" fill="#071321"/>\n      </svg>\n    ',closeButtonContainer.appendChild(closeButton),closeButtonContainer}},{key:"createInfoContainer",value:function(){return this.infoContainer=document.createElement("div"),this.infoContainer.className="info-container",this.infoContainer}},{key:"hideSpinner",value:function(){var _this8=this;this.modal.modalBoxContent.classList.add("is-spinner-hidden"),setTimeout(function(){_this8.modal.modalBoxContent.classList.remove("spinner"),_this8.modal.modalBoxContent.classList.remove("is-spinner-hidden")},200)}},{key:"setMapControls",value:function(){"desktop"===this.deviceType?this.zoomControl.options.set("position",{top:"253px",right:"20px"}):this.zoomControl.options.set("position",{top:"25px",left:"20px"})}},{key:"handleMediaChange",value:function(mediaQuery){var nextDeviceType=mediaQuery.matches?"mobile":"desktop";nextDeviceType!==this.deviceType&&(this.deviceType=nextDeviceType,this.zoomControl&&this.setMapControls())}}]),SearchFilterMapModal}()},143:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SearchInput});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(59),__webpack_require__(9),__webpack_require__(47),__webpack_require__(4),__webpack_require__(71),__webpack_require__(91),__webpack_require__(63),__webpack_require__(1),__webpack_require__(77),__webpack_require__(2),__webpack_require__(5),__webpack_require__(94),__webpack_require__(10),__webpack_require__(6);var axios__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(13),axios__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_17__),_search_input_helpers__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(122),_content_search_content_search_helpers__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(25);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SearchInput=function(){function SearchInput(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SearchInput),element.inited||(element.inited=!0,this.element=element,this.input=element.querySelector("input"),this.inputType=element.getAttribute("data-search-type"),this.tips=element.querySelector(".search-input__tips"),this.tipsDetailed=element.getAttribute("data-detailed-tips"),this.tipsRequestUrl=element.getAttribute("data-search-url")||"/ajax/text_search_new_buildings.php",this.tipsDisableUrls=element.hasAttribute("data-disabled-urls"),this.includeFormParams=element.hasAttribute("data-form-params"),this.inputPreventEvents=element.hasAttribute("data-prevent"),this.includeFormParams&&(this.form=this.element.closest("form")),this.bindEvents())}return _createClass(SearchInput,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=container.querySelectorAll(".js-search-input");return _toConsumableArray(elements).forEach(function(el){return new SearchInput(el)})}}]),_createClass(SearchInput,[{key:"bindEvents",value:function(){var _this=this;this.input&&(document.addEventListener("click",function(event){_this.input.contains(event.target)||_this.tips&&_this.tips.contains(event.target)||_this.closeTipsList()}),this.input.addEventListener("keypress",function(event){if(13===event.which||13===event.keyCode)return event.preventDefault(),!1}),this.input.addEventListener("change",function(event){_this.inputPreventEvents&&(event.preventDefault(),event.stopPropagation()),event.isTrusted&&event.stopPropagation()}),this.input.addEventListener("input",function(event){if(""===event.target.value)return _this.closeTipsList();_this.openTipsList(),_this.tips.scrollTop=0,"local"!==_this.tipsRequestUrl?_this.debouncedRequest():window.__SEARCH__&&window.__SEARCH__.searchInputTips&&_this.renderTips(event.target.value,window.__SEARCH__.searchInputTips)}))}},{key:"closeTipsList",value:function(){var _this2=this;this.tips.classList.add("filter-popup-hide-n-2"),setTimeout(function(){_this2.tips.style.display="none"},50)}},{key:"openTipsList",value:function(){var _this3=this;this.tips.style.display="",setTimeout(function(){_this3.tips.classList.remove("filter-popup-hide-n-2")},10)}},{key:"handleTipClick",value:function(tip){if(this.closeTipsList(),this.input.value=tip.label,!this.inputPreventEvents){var event=document.createEvent("HTMLEvents");event.initEvent("change",!0,!1),this.input.dispatchEvent(event)}this.input.dispatchEvent(new CustomEvent("tipClick",{bubbles:!0,cancelable:!1,detail:{tip:tip}}))}},{key:"debouncedRequest",value:function(){var _this4=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){_this4.requestTips()},500)}},{key:"requestTips",value:function(){var _this5=this,searchQuery=this.input.value;if(""!==searchQuery){var params={q:searchQuery,t:this.inputType};return this.includeFormParams&&this.form&&(params=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({},params,{},Object(_content_search_content_search_helpers__WEBPACK_IMPORTED_MODULE_19__.b)(this.form,{hash:!0}))),axios__WEBPACK_IMPORTED_MODULE_17___default.a.get(this.tipsRequestUrl,{params:params}).then(function(_ref){var data=_ref.data;_this5.renderTips(searchQuery,data)})}}},{key:"renderTips",value:function(query,data){var _this6=this,tips=[];0!==data.length&&data.forEach(function(item){tips.push({substring:Object(_search_input_helpers__WEBPACK_IMPORTED_MODULE_18__.b)(query,item.label)||"",label:item.label,type:item.type_name,url:item.url,id:item.id})}),tips.sort(function(a,b){return a.substring.length<b.substring.length?1:-1}),this.tips.innerHTML="",tips.forEach(function(tip){return _this6.tips.appendChild(function(tip){var tipContainer,namePart="";if(""!==tip.substring){var subtringStartIndex=tip.label.search(new RegExp(Object(_search_input_helpers__WEBPACK_IMPORTED_MODULE_18__.a)(tip.substring),"i"));_toConsumableArray(tip.label).forEach(function(char,index){index===subtringStartIndex?(namePart+="<strong>"+char,1===tip.substring.length&&(namePart+="</strong>")):index===subtringStartIndex+tip.substring.length-1?namePart+=char+"</strong>":namePart+=char})}else namePart=tip.label;tip.url&&!_this6.tipsDisableUrls?((tipContainer=document.createElement("a")).className="tip tip_url",tipContainer.href=tip.url):(tipContainer=document.createElement("div")).className="tip";var nameContainer=document.createElement("span");if(nameContainer.className="tip__name",nameContainer.innerHTML=namePart,tipContainer.appendChild(nameContainer),!["false",!1].includes(_this6.tipsDetailed)&&tip.type){var typeContainer=document.createElement("span");typeContainer.className="tip__type",typeContainer.innerHTML='<span class="tip__type">, '.concat(tip.type,"</span>"),tipContainer.appendChild(typeContainer)}return tip.url&&!_this6.tipsDisableUrls||tipContainer.addEventListener("mousedown",function(){_this6.handleTipClick(tip)}),tipContainer}(tip))}),this.openTipsList()}}]),SearchInput}()},147:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ThumbGallery});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6),__webpack_require__(252);var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(16),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ThumbGallery=function(){function ThumbGallery(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ThumbGallery),element.ThumbGallery=this,this.element=element,this.arrows={next:element.querySelector(".btn-slider_next"),prev:element.querySelector(".btn-slider_prev")},this.topContainer=element.querySelector(".thumb-gallery__top-slider"),this.thumbContainer=element.querySelector(".thumb-gallery__thumbs"),this.expandButton=element.querySelector("[data-show-gallery]"),this.counter={container:element.querySelector(".slide-count"),current:element.querySelector(".slide-count__value_current"),all:element.querySelector(".slide-count__value:not(.slide-count__value_current)")},this.initSliders()}return _createClass(ThumbGallery,null,[{key:"init",value:function(){return _toConsumableArray(document.querySelectorAll(".thumb-gallery")).forEach(function(gallery){return new ThumbGallery(gallery)})}}]),_createClass(ThumbGallery,[{key:"initSliders",value:function(){var _this=this;this.galleryTop=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default.a(this.topContainer,{navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},speed:600,loop:!0,loopedSlides:6}),this.thumbContainer&&(this.galleryThumbs=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default.a(this.thumbContainer,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!0,loop:!0,loopedSlides:6,slidesPerView:"auto",centeredSlides:!0}),this.galleryTop.controller.control=this.galleryThumbs,this.galleryThumbs.controller.control=this.galleryTop),this.initGallery(),this.galleryTop.on("slideChange",function(){_this.counter.current.innerHTML=_this.galleryTop.realIndex+1}),this.expandButton&&this.expandButton.addEventListener("click",function(event){var currentSlide=_this.galleryTop.slides[_this.galleryTop.activeIndex];currentSlide&&(event.preventDefault(),currentSlide.click())})}},{key:"initGallery",value:function(){lightGallery(this.topContainer,{thumbnail:!0,hash:!1,download:!1,loop:!0,exThumbImage:"data-src",selector:"a.swiper-slide:not(.swiper-slide-duplicate)"})}}]),ThumbGallery}()},148:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MainSlider});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(21),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(16),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var MainSlider=function(){function MainSlider(element){var _this=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lazy:!1,initDelay:0};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MainSlider),this.element=element,this.initDelay=options.initDelay,this.lazy=options.lazy,this.container=element.querySelector(".main-slider-n-2__container"),this.closeButton=element.querySelector(".main-slider-n-2__close button"),this.lazy?(this.intersectionObserver=new IntersectionObserver(function(_ref){var entry=_slicedToArray(_ref,1)[0];return _this.handleIntersection(entry)}),this.intersectionObserver.observe(this.element)):this.init()}return _createClass(MainSlider,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=(arguments.length>1&&arguments[1],container.querySelector(".main-slider-n-2"));element&&new MainSlider(element)}}]),_createClass(MainSlider,[{key:"init",value:function(){var _this2=this,initSwiper=function(){_this2.swiper=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default.a(_this2.container,{slidesPerView:1,speed:500,longSwipes:!1,effect:"fade",simulateTouch:!1,autoplay:{delay:3e3},pagination:{el:".swiper-pagination",type:"fraction",renderFraction:function(currentClass,totalClass){return'<span class="'.concat(currentClass,' main-slider-n-2__pagination-current"></span>\n                    <span class="').concat(totalClass,' main-slider-n-2__pagination-total"></span>')},formatFractionCurrent:function(number){return number<10?"0".concat(number):number},formatFractionTotal:function(number){return number<10?"0".concat(number):number}},lazy:{loadPrevNext:!0}}),_this2.classNames=[".rounded-tag",".main-slide-n-2__developer",".main-slide-n-2__title",".main-slide-n-2__description",".main-slide-n-2__order-call-button"],_this2.animation(),_this2.bindHandlers()};this.initDelay?setTimeout(function(){return initSwiper()},this.initDelay):initSwiper()}},{key:"animationChange",value:function(){var currentSlide=this.swiper.slides[this.swiper.realIndex],currentElements=[];this.classNames.forEach(function(className){_toConsumableArray(currentSlide.querySelectorAll(className)).forEach(function(element){currentElements.push(element)})}),currentElements.forEach(function(element){element&&element.classList.add("main-slide-n-2--animation")}),this.previousSlide&&this.previousSlide.classList.add("main-slide-n-2--animation-bg")}},{key:"animation",value:function(){var _this3=this;this.swiper.on("touchStart",function(){_this3.swiper.isBeginning||_this3.swiper.isEnd||_this3.animationChange()}),this.swiper.on("slideChange",function(){_this3.swiper.$el[0].classList.add("is-loaded");var currentSlide=_this3.swiper.slides[_this3.swiper.realIndex],previousSlide=_this3.swiper.slides[_this3.swiper.previousIndex];_this3.previousSlide=previousSlide;var previousElements=[],currentElements=[];_this3.classNames.forEach(function(className){_toConsumableArray(previousSlide.querySelectorAll(className)).forEach(function(element){previousElements.push(element)}),_toConsumableArray(currentSlide.querySelectorAll(className)).forEach(function(element){currentElements.push(element)})}),previousElements.forEach(function(element){element.classList.add("main-slide--animation")}),currentElements.forEach(function(element){element&&element.classList.remove("main-slide-n-2--animation")}),currentSlide.classList.remove("main-slide-n-2--animation-bg"),previousSlide.classList.add("main-slide--animation-bg")})}},{key:"bindHandlers",value:function(){var _this4=this,prevButton=document.querySelector(".main-slider-n-2__button-prev"),nextButton=document.querySelector(".main-slider-n-2__button-next");prevButton&&prevButton.addEventListener("click",function(){_this4.handlePrevButtonClick()}),nextButton&&nextButton.addEventListener("click",function(){_this4.handleNextButtonClick()}),this.closeButton&&this.closeButton.addEventListener("click",function(){_this4.handleCloseButtonClick()}),this.swiper.on("beforeDestroy",function(){prevButton&&prevButton.removeEventListener("click",_this4.handlePrevButtonClick()),nextButton&&nextButton.removeEventListener("click",_this4.handleNextButtonClick()),_this4.closeButton&&_this4.closeButton.removeEventListener("click",_this4.handleCloseButtonClick())})}},{key:"handleNextButtonClick",value:function(){var _this5=this;this.animationChange();var countSlides=this.swiper.slides.length-1,countCurrentSlide=this.swiper.realIndex;setTimeout(function(){_this5.swiper.destroyed||_this5.swiper.slideTo(countCurrentSlide===countSlides?0:countCurrentSlide+1)},500)}},{key:"handlePrevButtonClick",value:function(){var _this6=this;this.animationChange();var countSlides=this.swiper.slides.length-1,countCurrentSlide=this.swiper.realIndex;setTimeout(function(){_this6.swiper.destroyed||_this6.swiper.slideTo(0===countCurrentSlide?countSlides:countCurrentSlide-1)},500)}},{key:"handleCloseButtonClick",value:function(){this.element.classList.add("main-slider-n-2_hidden")}},{key:"handleIntersection",value:function(entry){entry.isIntersecting&&(this.init(),this.intersectionObserver.disconnect())}}]),MainSlider}()},149:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createFlatItem});__webpack_require__(21),__webpack_require__(43),__webpack_require__(12),__webpack_require__(27),__webpack_require__(74),__webpack_require__(10);var _formatTextEndings__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64),createFlatItem=function(data){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},icons={arrow:'<svg width="13" height="22" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><path d="M5.9 10.9a.35.35 0 0 0 0-.5L1.47 6 5.9 1.6a.35.35 0 0 0 0-.5.36.36 0 0 0-.5 0L.71 5.75a.34.34 0 0 0-.1.25c0 .08.03.18.1.25l4.67 4.64c.14.15.37.15.5 0z" fill="currentColor" stroke="currentColor"/></svg>',recommended:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="0 0 12 13"><path fill="" d="M.01 3.41c0-.72.26-1.3.78-1.74A3 3 0 0 1 2.82 1c.85 0 1.53.22 2.04.66.52.44.78 1.04.78 1.79v.58c0 .72-.26 1.3-.78 1.73-.51.44-1.19.66-2.02.66-.85 0-1.53-.22-2.05-.66a2.22 2.22 0 0 1-.78-1.78zm1.71.63c0 .32.1.58.3.77.21.2.48.3.82.3.33 0 .6-.1.79-.3.2-.2.3-.47.3-.8v-.6c0-.32-.1-.58-.3-.78-.2-.2-.47-.3-.81-.3-.33 0-.6.1-.8.3-.2.2-.3.47-.3.82zm4.63 6.93c0-.72.26-2.3.79-2.74.52-.44 1.2-.66 2.02-.66.85 0 1.53.21 2.05.65.52.43.78 1.03.78 1.8v.57c0 .72-.26 1.3-.77 1.74a3 3 0 0 1-2.04.66c-.85 0-1.54-.22-2.05-.67-.52-.44-.78-.03-.78-.76zm1.71-.37c0 .3.1.55.32.76.22.21.48.31.8.31.73 0 1.09-.36 1.09-1.08v-.61c0-.33-.1-.59-.3-.78-.2-.2-.47-.3-.8-.3-.34 0-.6.1-.8.3-.2.2-.3.46-.3.8zm2.68-8.76l-1.25-.6-8.33 11.1 1.25.62z"/></svg>',mortgage:'<svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 9.1L8 3.1L2 9.1V15C2 15.6 2.4 16 3 16H8.1C8.5 17.1 10.1 17.9 12 17.9C14.2 17.9 16 16.8 16 15.4C16 15 15.9 14.7 15.7 14.4C15.9 14.1 16 13.8 16 13.4C16 13 15.9 12.7 15.7 12.4C15.9 12.1 16 11.8 16 11.4C16 10.5 15.2 9.7 13.9 9.2V9.1H14ZM12.1 16.9C10.8 16.9 9.8 16.5 9.4 15.9C9.3 15.8 9.2 15.6 9.2 15.4C9.2 15.3 9.2 15.2 9.3 15.1C10 15.6 11.1 15.9 12.2 15.9C12.8 15.9 13.3 15.8 13.8 15.7C14.3 15.6 14.8 15.3 15.1 15.1C15.2 15.2 15.2 15.3 15.2 15.4C15 16.1 13.8 16.9 12.1 16.9ZM15 13.7C14.9 13.9 14.6 14.2 14.2 14.4L14 14.5C13.5 14.7 12.8 14.9 12.1 14.9C11.2 14.9 10.5 14.7 10 14.4C9.6 14.2 9.4 14 9.2 13.7C9.2 13.6 9.1 13.5 9.1 13.4C9.1 13.3 9.1 13.2 9.2 13.1C10.1 13.6 11.1 13.9 12.1 13.9C13.1 13.9 14.1 13.6 15 13.1C15 13.2 15.1 13.3 15.1 13.4C15.1 13.5 15 13.6 15 13.7ZM15 11.8C14.9 12 14.6 12.3 14.2 12.5H14C13.5 12.7 12.8 12.9 12.1 12.9C11.2 12.9 10.5 12.7 10 12.4C9.6 12.2 9.4 12 9.2 11.7C9.2 11.6 9.1 11.5 9.1 11.4C9.1 10.7 10.4 9.9 12.1 9.9C12.8 9.9 13.5 10.1 14 10.3C14.6 10.6 15.1 11 15.1 11.4C15 11.6 15 11.7 15 11.8ZM15.7 7.3L8.7 0.3C8.3 -0.1 7.7 -0.1 7.3 0.3L0.3 7.3C0.1 7.5 0 7.8 0 8L1.1 9L8 2L15 9L16 8C16 7.8 15.9 7.5 15.7 7.3Z" fill="white"></path></svg>',installment:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.99518 1.66672C5.39102 1.66672 1.66602 5.39588 1.66602 10.0001C1.66602 14.6042 5.39102 18.3334 9.99518 18.3334C14.5993 18.3334 18.3327 14.6042 18.3327 10.0001C18.3327 5.39588 14.5993 1.66672 9.99518 1.66672ZM9.99935 16.6667C6.31602 16.6667 3.33268 13.6834 3.33268 10.0001C3.33268 6.31672 6.31602 3.33338 9.99935 3.33338C13.6827 3.33338 16.666 6.31672 16.666 10.0001C16.666 13.6834 13.6827 16.6667 9.99935 16.6667Z" fill="white"></path><path d="M10.416 5.83328H9.16602V10.8333L13.5368 13.4583L14.166 12.4333L10.416 10.2083V5.83328Z" fill="white"></path></svg>',favorite:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 21 19" fill="none"><path d="M9.64174 3.63033C9.8224 3.93176 10.148 4.11624 10.4994 4.11625C10.8509 4.11626 11.1765 3.93181 11.3572 3.63039C12.6037 1.55098 14.2477 0.889229 15.6855 1.01486C17.1737 1.14489 18.6267 2.1317 19.4119 3.71787C20.184 5.27743 20.323 7.46301 19.0482 9.96824C17.8062 12.409 15.2046 15.174 10.4995 17.8537C5.79482 15.1741 3.19353 12.409 1.95168 9.96828C0.67701 7.46304 0.816073 5.27744 1.58806 3.71785C2.37321 2.13166 3.82614 1.14488 5.31414 1.01485C6.7517 0.889237 8.39547 1.55093 9.64174 3.63033Z" stroke="#BFC9D5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',compare:'<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.17358 0C4.06909 0 3.17358 0.895416 3.17358 2V3.78262H2C0.895508 3.78262 0 4.67807 0 5.78262V15C0 16.1046 0.895508 17 2 17H11.2173C12.322 17 13.2173 16.1046 13.2173 15V13.8261H14.9998C16.1042 13.8261 16.9998 12.9307 16.9998 11.8261V2C16.9998 0.895416 16.1042 0 14.9998 0H5.17358ZM13.2173 11.8261H14.9998V2H5.17358V3.78262H11.2173C12.322 3.78262 13.2173 4.67804 13.2173 5.78262V11.8261ZM2 5.78262H11.2173V15H2V5.78262Z" fill="#071321"></path></svg>',phone:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path></svg>'},flat=document.createElement("div");if(flat.className="flats-item",flat.setAttribute("data-id",data.id),options.minimalistic){flat.classList.add("flats-item_minimalistic");var imageContainer=document.createElement("a");imageContainer.className="flats-item__image-container",imageContainer.setAttribute("href",data.link);var image=document.createElement("img");image.className="flats-item__image",image.src=Array.isArray(data.image)?data.image[0]:data.image,imageContainer.appendChild(image),flat.appendChild(imageContainer)}else{var preview=document.createElement("div");preview.className="flats-item__preview";var slider=document.createElement("div");slider.className="complex-item-slider swiper-container";var complexLink=document.createElement("a");if(complexLink.className="complex-item-slider__link",complexLink.href=data.link,slider.appendChild(complexLink),data.image&&Array.isArray(data.image)){var slidesWrapper=document.createElement("div");slidesWrapper.className="swiper-wrapper",data.image.forEach(function(image){var slide=document.createElement("div");slide.className="complex-item-slider__slide swiper-slide";var slideImage=document.createElement("img");slideImage.src=image,slide.appendChild(slideImage),slidesWrapper.appendChild(slide)}),slider.appendChild(slidesWrapper),slider.innerHTML+='\n      <div class="complex-item-slider__arrow complex-item-slider__arrow_prev">\n        '.concat(icons.arrow,'\n      </div>\n      <div class="complex-item-slider__arrow complex-item-slider__arrow_next">\n        ').concat(icons.arrow,"\n      </div>\n    ")}if(preview.appendChild(slider),data.recommended||data.mortgage||data.installment||data.action){var labelsWrapper=document.createElement("div");labelsWrapper.className="flats-item__info-labels";var labelNames=[];data.recommended&&labelNames.push("recommended"),data.mortgage&&labelNames.push("mortgage"),data.action&&labelNames.push("action"),data.installment&&labelNames.push("installment"),[].concat(labelNames).forEach(function(label){var labelItem=document.createElement("div");labelItem.className="info-label-n-2 info-label-n-2_".concat(label),labelItem.setAttribute("data-tip",data[label]),labelItem.setAttribute("data-style",label),labelItem.innerHTML=icons[label],labelsWrapper.appendChild(labelItem)}),preview.appendChild(labelsWrapper)}flat.appendChild(preview);var controlsBlock=document.createElement("div");controlsBlock.className="flats-item__controls",controlsBlock.innerHTML='\n    <div class="flats-item__control">\n      <div class="manage-complex-btn-n-2 manage-complex-btn-n-2_theme_yellow"\n        data-tip="Добавить в избранное"\n        data-id="'.concat(data.id,'"\n        data-type="').concat(data.type,'"\n        data-favorite="">\n        ').concat(icons.favorite,'\n      </div>\n    </div>\n    <div class="flats-item__control">\n      <div class="manage-complex-btn-n-2 manage-complex-btn-n-2_theme_yellow"\n        data-tip="Добавить в сравнение"\n        data-id="').concat(data.id,'"\n        data-type="').concat(data.type,'"\n        data-compare-n-2="">\n        ').concat(icons.compare,"\n      </div>\n    </div>\n  "),flat.appendChild(controlsBlock)}var bodyBlock=document.createElement("div");return bodyBlock.className="flats-item__body",bodyBlock.innerHTML='\n    <a class="flats-item__name link-n-2 text-w-semibold" href="'.concat(data.link,'" target="_blank" rel="nofollow noopener">').concat(data.name,'</a>\n    <div class="flats-item__info">\n      <div class="flats-item__price-block">\n        ').concat(data.price?'<div class="flats-item__total-price">'.concat(data.price,"</div>"):"","\n        ").concat(data.priceM?'<div class="flats-item__price-per-square">'.concat(data.priceM,"</div>"):"",'\n      </div>\n      <div class="flats-item__data">\n        ').concat(data.zhk?'<a class="flats-item__complex-link link-n-2" href="'.concat(data.zhk.link,'">').concat(data.zhk.name,"</a>"):"","\n        ").concat(!options.minimalistic&&data.locationCity?data.locationCity:"","\n        ").concat(!options.minimalistic&&data.metroString?data.metroString:"","\n        ").concat(!options.minimalistic&&data.developers&&data.developers.length?'\n          <div class="flats-item__provider">\n            <span>Застройщик: </span> \n              '.concat(data.developers.map(function(developer){return'<a class="flats-item__provider-link link-n-2 link-n-2_dark-blue" href="'.concat(developer.link,'" target="_blank" rel="nofollow noopener">').concat(developer.name,"</a>")}).join(", "),"\n          </div>\n        "):"","\n        ").concat(!options.minimalistic&&data.dedline?'<div class="flats-item__time"><span>Срок сдачи: </span><span>'.concat(data.dedline,"</span></div>"):"","\n      </div>\n    </div>\n    ").concat(data.flats_count&&data.flats_href||data.telNumber?options.minimalistic?data.telNumber?'\n        <a class="button-n-2 button-n-2_theme_pale-yellow button-n-2_text_sm c-h-small rounded-md" href="tel: '.concat(data.telNumber,'">Позвонить</a>\n      '):"":'\n      <div class="flats-item__buttons">\n        '.concat(data.flats_count&&data.flats_href?'\n          <a class="button-n-2 button-n-2_type_medium button-n-2_theme_grey-blue button-n-2_text_sm" href="'.concat(data.flats_href,'">\n            ').concat(Object(_formatTextEndings__WEBPACK_IMPORTED_MODULE_6__.a)(data.flats_count,"",["Все ".concat(data.flats_count," квартир"),"Все ".concat(data.flats_count," квартиры"),"Все квартиры (".concat(data.flats_count,")")]),"\n          </a>\n        "):"","\n        ").concat(data.telNumber?'\n          <a class="phone-number-n-2 phone-number-n-2_theme_yellow phone-number-n-2_type_40" href="#" data-tel="'.concat(data.telNumber,'">\n            <span class="phone-number-n-2__icon">').concat(icons.phone,'</span>\n            <span class="phone-number-n-2__number">+7<span> Показать телефон</span></span>\n          </a>\n        '):"","\n      </div>\n    "):"","\n  "),flat.appendChild(bodyBlock),flat}},150:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(27),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var axios=__webpack_require__(13),axios_default=__webpack_require__.n(axios),adv_slider=__webpack_require__(180),modal=__webpack_require__(35),phone_number=__webpack_require__(28),createAdvItem_createAdvItem=(__webpack_require__(74),function(data,wrapper,metrika){var itemWrapper=wrapper;wrapper||((itemWrapper=document.createElement("div")).className="col col_xs-4 col_sm-6 col_lg-3");var complex=document.createElement("div");complex.className="adv-complex-n-2",complex.setAttribute("data-id",data.id);var complexImageWrapper=document.createElement("div");complexImageWrapper.className="adv-complex-n-2__image-wrapper";var complexImage=document.createElement("img");complexImage.className="adv-complex-n-2__image lazy";var imageSrc=data.image instanceof Array?data.image[0]:data.image;complexImage.setAttribute("data-src",imageSrc);var complexContent=document.createElement("a");complexContent.className="adv-complex-n-2__content",complexContent.href=data.link,complexContent.target="_blank",complexContent.rel="noopener noreferrer",metrika&&complexContent.setAttribute("onclick",metrika);var complexLink=document.createElement("div");complexLink.className="adv-complex-n-2__link",complexLink.innerHTML='\n    Реклама\n    <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.49997 0H10.5C10.7761 0 11 0.223877 11 0.5V4.5C11 4.77612 10.7761 5 10.5 5C10.2238 5 10 4.77612 10 4.5V1.70709L4.85355 6.85352C4.75592 6.95123 4.62793 7 4.49997 7C4.37201 7 4.24405 6.95117 4.14645 6.85358C3.95117 6.65826 3.95117 6.34174 4.14645 6.14648L9.29288 1H6.49997C6.22385 1 5.99997 0.776123 5.99997 0.5C5.99997 0.223877 6.22385 0 6.49997 0ZM7.99997 5.5C7.99997 5.22388 8.22385 5 8.49997 5C8.77612 5 8.99997 5.22388 9 5.5V10.5C9 10.7761 8.77612 11 8.5 11H0.5C0.223877 11 0 10.7761 0 10.5V2.5C0 2.22388 0.223877 2 0.5 2H5.5C5.77612 2 6 2.22382 6 2.5C6 2.77612 5.77612 3 5.5 3H1V10H7.99997V5.5Z" fill="#A9B7C7"></path>\n    </svg>\n  ';var string,el,complexTitle=document.createElement("div");complexTitle.className="adv-complex-n-2__title",complexTitle.textContent=(string=data.name,(el=document.createElement("textarea")).innerHTML=string,el.value);var complexPhone,complexDescription=document.createElement("div");if(complexDescription.className="adv-complex-n-2__description",complexDescription.innerText=data.text,data.phone){var complexOrderCall=document.createElement("button");complexOrderCall.className="adv-complex-n-2__order-call",complexOrderCall.setAttribute("type","button"),complexOrderCall.setAttribute("data-target","#modal-callback-right"),complexOrderCall.setAttribute("data-toggle","modal-n-2"),complexOrderCall.setAttribute("data-form","data-form"),complexOrderCall.setAttribute("data-form-adv",data.id),complexOrderCall.setAttribute("data-form-title","С Вами свяжется менеджер ЖК ".concat(data.building_name)),complexOrderCall.innerHTML='\n      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path>\n      </svg>\n      <span class="adv-complex-n-2__order-call-text">Заказать звонок</span>\n    ',complexImageWrapper.appendChild(complexOrderCall),(complexPhone=document.createElement("div")).className="adv-complex-n-2__phone";var complexPhoneLink=document.createElement("a");complexPhoneLink.className="phone-number-n-2 phone-number-n-2_theme_yellow",complexPhoneLink.setAttribute("data-tel",data.phone),complexPhoneLink.innerHTML='\n    <span class="phone-number-n-2__icon">\n      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path>\n      </svg>\n    </span>\n    <span class="phone-number-n-2__number">+7<span> Показать телефон</span></span>\n  ',complexPhone.appendChild(complexPhoneLink)}return complexImageWrapper.appendChild(complexImage),complexContent.appendChild(complexLink),complexContent.appendChild(complexTitle),complexContent.appendChild(complexDescription),complex.appendChild(complexImageWrapper),complex.appendChild(complexContent),data.phone&&complex.appendChild(complexPhone),itemWrapper.appendChild(complex),itemWrapper}),utils=__webpack_require__(52);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"a",function(){return adv_complex_create_AdvComplexCreate});var adv_complex_create_AdvComplexCreate=function(){function AdvComplexCreate(elements){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AdvComplexCreate),this.elements=elements;var callback=options.callback;this.callback=callback,window.tgb||(window.tgb={}),window.tgb.showed||(window.tgb.showed=[]),window.tgb.showedElements||(window.tgb.showedElements=[]),this.initTgb(0,this.elements.length)}return _createClass(AdvComplexCreate,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},init=function(){var customClass=options.customClass,elements=_toConsumableArray(container.querySelectorAll(customClass||".adv-slider-wrapper-n-2:not([data-manual-init])"));if(elements.length)return new AdvComplexCreate(elements,options)};Object(utils.g)(init)}}]),_createClass(AdvComplexCreate,[{key:"initTgb",value:function(start,tgbLength){var _this=this,container=this.elements[start];if(container&&container.tgb&&start<tgbLength-1)this.initTgb(++start,tgbLength);else{var params={type:container.getAttribute("data-type"),promo:container.getAttribute("data-promo"),geocode:container.getAttribute("data-geocode"),sort:container.getAttribute("data-sort"),limit:container.getAttribute("data-limit"),orientation:container.getAttribute("data-orientation"),finder:container.getAttribute("data-finder"),metrika_goal:container.getAttribute("data-metrika-goal"),showed:window.tgb.showed,showed_element:window.tgb.showedElements,tgb_promo:container.getAttribute("data-tgb-promo"),exclude:container.getAttribute("data-exclude")};axios_default.a.get("/ajax/tgb.php",{params:params,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){var data=response.data;start++;var tgbId=Math.ceil(1e4*Math.random());if(data.tgb){var sortedTgb=_this.fetchedOnce?data.tgb:data.tgb.sort(function(a,b){return a.promo&&b.promo?0:a.promo?-1:1});if(start<tgbLength){var _window$tgb$showed,_window$tgb$showedEle;if(data.showed)(_window$tgb$showed=window.tgb.showed).push.apply(_window$tgb$showed,_toConsumableArray(data.showed));if(data.showed_element)(_window$tgb$showedEle=window.tgb.showedElements).push.apply(_window$tgb$showedEle,_toConsumableArray(data.showed_element));_this.initTgb(start,tgbLength)}if(tgbId.toString(),_this.tgbSlider=document.createElement("div"),_this.tgbSlider.className="adv-slider-n-2",container.appendChild(_this.tgbSlider),"vertical"!==params.orientation&&(_this.tgbSlider.classList.add("swiper-container"),_this.tgbSlider.classList.add("swiper-container-horizontal"),_this.tgbSlider.classList.add("adv-slider-n-2-tgb-".concat(tgbId)),_this.tgbSliderWrapper=document.createElement("div"),_this.tgbSliderWrapper.className="swiper-wrapper",_this.tgbSlider.appendChild(_this.tgbSliderWrapper)),sortedTgb.forEach(function(el,index){_this.metrikaAction="",params.metrika_goal&&(_this.metrikaAction='ym(39897405, "reachGoal", "tgb_goal", { "tgb_name": "'.concat(el.name,'" });'));var wrapper=document.createElement("div");if(wrapper.className="adv-slider-n-2__item",wrapper.id=el.id,"vertical"!==params.orientation)wrapper.classList.add("swiper-slide");else if(index+1>params.limit)return;var item=createAdvItem_createAdvItem(el,wrapper,_this.metrikaAction);"vertical"===params.orientation?_this.tgbSlider.appendChild(item):_this.tgbSliderWrapper.appendChild(item)}),"vertical"!==params.orientation){var sliderPrevButton=document.createElement("div");sliderPrevButton.className="swiper-button_white-scale swiper-button-prev",sliderPrevButton.innerHTML='\n              <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"></path>\n              </svg>\n            ';var sliderNextButton=document.createElement("div");sliderNextButton.className="swiper-button_white-scale swiper-button-next",sliderNextButton.innerHTML='\n              <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"></path>\n              </svg>\n            ',container.appendChild(sliderPrevButton),container.appendChild(sliderNextButton),new adv_slider.a(_this.tgbSlider)}container.tgb="init"}_this.fetchedOnce=!0}).then(function(){modal.a.init({container:_this.tgbSlider,triggersSelector:'[data-toggle="modal-n-2"]'}),phone_number.a.init(_this.tgbSlider),window.lazyloadInstance&&window.lazyloadInstance.update(),_this.callback instanceof Function&&_this.callback()})}}}]),AdvComplexCreate}()},180:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AdvSlider});var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0__);var AdvSlider=function AdvSlider(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AdvSlider),this.element=element,this.swiper=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_0___default.a(element,{slidesPerView:4,spaceBetween:24,initialSlide:0,loop:!0,navigation:{nextEl:element.nextElementSibling.nextElementSibling,prevEl:element.nextElementSibling},breakpoints:{1280:{slidesPerView:4,spaceBetween:24},1170:{centeredSlides:!1,slidesPerView:"auto",spaceBetween:0}}})}},181:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return RangeSelect});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(21),__webpack_require__(59),__webpack_require__(26),__webpack_require__(9),__webpack_require__(47),__webpack_require__(4),__webpack_require__(43),__webpack_require__(12),__webpack_require__(250),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(36),__webpack_require__(48),__webpack_require__(10),__webpack_require__(6);var nouislider__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(200),nouislider__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(nouislider__WEBPACK_IMPORTED_MODULE_19__),_helpers__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(58);function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var RAINBOW_COLORS=["#00D1FF","#1DECFA","#63E742","#BEED3A","#FFCB00","#FF7A00","#FF3D00","#FF003D","#FF00C7","#AD00FF","#4200FF","#2B098D"],RangeSelect=function(){function RangeSelect(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RangeSelect),this.state={reseted:!1},this.element=element,this.rangeSliderElement=element.querySelector(".range-block-n-2__slider"),this.rangeSliderElement&&(this.rangeSliderTheme=this.rangeSliderElement.getAttribute("data-slider-theme")||"gradient"),this.elements={inputBefore:this.element.querySelector(".range-block-n-2__input-before"),inputAfter:this.element.querySelector(".range-block-n-2__input-after")},this.elementsTrueValues={inputBefore:0,inputAfter:0},this.resetButtons={resetAfter:this.element.querySelector(".range-block-n-2__reset_after"),resetBefore:this.element.querySelector(".range-block-n-2__reset_before")},this.limited=this.element.getAttribute("data-limited"),this.numericFormat=this.element.hasAttribute("data-numeric-format"),this.numericThousands=this.element.hasAttribute("data-number-thousands"),this.rangeCheckboxes=_toConsumableArray(element.parentNode.querySelectorAll('[type="radio"]')),this.init(),this.bindEvents()}return _createClass(RangeSelect,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=_toConsumableArray(container.querySelectorAll(".range-block-n-2"));elements.forEach(function(element){element.RangeSelect||(element.RangeSelect=new RangeSelect(element))})}}]),_createClass(RangeSelect,[{key:"init",value:function(){this.rangeSliderElement&&this.initRangeSlider()}},{key:"setResetButtonState",value:function(state,button){button&&(button.style.display=state?"":"none")}},{key:"resetAfterFunc",value:function(){this.elementsTrueValues.inputAfter="",this.elements.inputAfter.value="",this.elements.inputAfter.dispatchEvent(new CustomEvent("input")),this.elements.inputAfter.dispatchEvent(new CustomEvent("change")),this.setResetButtonState(!1,this.resetButtons.resetAfter)}},{key:"resetBeforeFunc",value:function(){this.elementsTrueValues.inputBefore="",this.elements.inputBefore.value="",this.elements.inputBefore.dispatchEvent(new CustomEvent("input")),this.elements.inputBefore.dispatchEvent(new CustomEvent("change")),this.setResetButtonState(!1,this.resetButtons.resetBefore)}},{key:"bindEvents",value:function(){var _this=this,_this$elements=this.elements,inputBefore=_this$elements.inputBefore,inputAfter=_this$elements.inputAfter,_this$resetButtons=this.resetButtons,resetBefore=_this$resetButtons.resetBefore,resetAfter=_this$resetButtons.resetAfter;resetAfter&&resetAfter.addEventListener("click",function(e){return _this.resetAfterFunc()}),resetBefore&&resetBefore.addEventListener("click",function(e){return _this.resetBeforeFunc()}),[inputBefore,inputAfter].forEach(function(input){input&&input.addEventListener("keypress",function(event){if(_this.numericFormat||_this.numericThousands){var isKeyAvailable=parseInt(event.key,10)>=0||[",","."].includes(event.key),isValidNumber=+(input.value+event.key).replace(",",".").split(" ").join("");if(!isKeyAvailable||!isValidNumber)return event.preventDefault(),!1}})}),inputBefore&&(inputBefore.addEventListener("input",function(event){_this.state={reseted:!1};var nextValue=event.target.value;_this.setResetButtonState(nextValue||0===nextValue,resetBefore)}),inputBefore.addEventListener("focus",function(){_this.elementsTrueValues.inputBefore?inputBefore.value=_this.elementsTrueValues.inputBefore:0===_this.elementsTrueValues.inputBefore&&(inputBefore.value="")}),inputBefore.addEventListener("blur",function(){_this.numericThousands?inputBefore.value=Object(_helpers__WEBPACK_IMPORTED_MODULE_20__.b)(inputBefore.value):_this.numericFormat&&(inputBefore.value=Object(_helpers__WEBPACK_IMPORTED_MODULE_20__.a)(inputBefore.value)),_this.rangeSliderElement&&_this.updateRangeSliderValues(_this.elementsTrueValues.inputBefore,0)}),inputBefore.addEventListener("change",function(event){event.detail&&+event.detail.nextValue>-1?_this.elementsTrueValues.inputBefore=+event.detail.nextValue:_this.elementsTrueValues.inputBefore=inputBefore.value})),inputAfter&&(inputAfter.addEventListener("input",function(event){_this.state={reseted:!1};var nextValue=event.target.value;_this.setResetButtonState(nextValue||0===nextValue,resetAfter)}),inputAfter.addEventListener("focus",function(){_this.elementsTrueValues.inputAfter?inputAfter.value=_this.elementsTrueValues.inputAfter:0===_this.elementsTrueValues.inputAfter&&(inputAfter.value="")}),inputAfter.addEventListener("blur",function(){_this.numericThousands?inputAfter.value=Object(_helpers__WEBPACK_IMPORTED_MODULE_20__.b)(inputAfter.value):_this.numericFormat&&(inputAfter.value=Object(_helpers__WEBPACK_IMPORTED_MODULE_20__.a)(inputAfter.value)),_this.rangeSliderElement&&_this.updateRangeSliderValues(_this.elementsTrueValues.inputAfter,1)}),inputAfter.addEventListener("change",function(event){event.detail&&+event.detail.nextValue>-1?_this.elementsTrueValues.inputAfter=+event.detail.nextValue:_this.elementsTrueValues.inputAfter=inputAfter.value})),this.rangeCheckboxes.forEach(function(el){el.addEventListener("change",function(event){_this.state={reseted:!1},_this.updateRangeSliderOptions(event.target.id)})})}},{key:"initRangeSlider",value:function(){var _this2=this;this.pips=this.element.hasAttribute("data-pips"),this.rangeAll=JSON.parse(this.element.getAttribute("data-all")),this.rangeArea=JSON.parse(this.element.getAttribute("data-area")),this.currentRangeData=this.rangeAll,this.rangeSlider=nouislider__WEBPACK_IMPORTED_MODULE_19___default.a.create(this.rangeSliderElement,this.getRangeSliderConfig("all")),this.rangeSliderConnects=this.rangeSliderElement.querySelector(".range-block-n-2__slider-connects");var connectLeft=document.createElement("div"),connectRight=document.createElement("div");connectLeft.classList.add("range-block-n-2__slider-connect-left"),connectRight.classList.add("range-block-n-2__slider-connect-right"),this.rangeSliderConnects.appendChild(connectLeft),this.rangeSliderConnects.appendChild(connectRight),this.setConnectsGradient();var leftHandler=this.rangeSliderElement.querySelector(".range-block-n-2__slider-handle-lower"),rightHandler=this.rangeSliderElement.querySelector(".range-block-n-2__slider-handle-upper");this.rangeSlider.on("update",function(values,handle,unencoded,tap,positions){var _values=_slicedToArray(values,2),leftValue=_values[0],rightValue=_values[1],leftRange=_this2.currentRangeData.find(function(range){return+leftValue<range[1]}),rightRange=_this2.currentRangeData.find(function(range){return+rightValue<=range[1]});leftHandler.style.backgroundColor=RAINBOW_COLORS[_this2.currentRangeData.indexOf(leftRange)-1],rightHandler.style.backgroundColor=RAINBOW_COLORS[_this2.currentRangeData.indexOf(rightRange)-1],connectLeft.style.transform="scale3d(".concat(1-(100-positions[0])/100,", 1, 1)"),connectRight.style.transform="scale3d(".concat(1-positions[1]/100,", 1, 1)"),0===handle?(_this2.elements.inputBefore.value=_this2.numericFormat?Object(_helpers__WEBPACK_IMPORTED_MODULE_20__.a)(values[0]):Math.trunc(values[0]),_this2.elementsTrueValues.inputBefore=Math.trunc(values[0])):(_this2.elements.inputAfter.value=_this2.numericFormat?Object(_helpers__WEBPACK_IMPORTED_MODULE_20__.a)(values[1]):Math.trunc(values[1]),_this2.elementsTrueValues.inputAfter=Math.trunc(values[1]))}),this.rangeSlider.on("change",function(values,handle){var target=handle?"inputAfter":"inputBefore";_this2.elementsTrueValues[target]=Math.trunc(values[handle]),_this2.elements[target].value=_this2.numericFormat?Object(_helpers__WEBPACK_IMPORTED_MODULE_20__.a)(values[handle]):Math.trunc(values[handle]),_this2.elements[target].dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1,detail:{nextValue:Math.trunc(values[handle])}})),_this2.state={reseted:!1}})}},{key:"getRangeSliderConfig",value:function(nextType){var _this3=this,rangeSliderConfig={cssPrefix:"range-block-n-2__slider-",connect:!0,range:{},start:[this.currentRangeData[0][1]||0,this.currentRangeData[this.currentRangeData.length-1][1]||1e8]};return this.currentRangeData.forEach(function(el,index){var key,_el=_slicedToArray(el,2),percent=_el[0],value=_el[1];key=0===index?"min":index===_this3.currentRangeData.length-1?"max":percent,rangeSliderConfig.range[key]=value}),this.pips&&(rangeSliderConfig.pips={mode:"values",values:this.currentRangeData.map(function(el){return el[1]}),stepped:!0,filter:function(value,type){return!type&&0!==value||value===_this3.currentRangeData[_this3.currentRangeData.length-1][1]?-1:1},format:{to:function(value){var v,p;return value===_this3.currentRangeData[_this3.currentRangeData.length-2][1]?(v=_this3.currentRangeData[_this3.currentRangeData.length-2][1]/_this3.currentRangeData[1][1],p=!0):v=value/_this3.currentRangeData[1][1],"toggle-area"===nextType&&(v*=10),v+(p?"+":"")}}}),rangeSliderConfig}},{key:"setConnectsGradient",value:function(){var _this4=this,gradientStops=this.currentRangeData.map(function(el,index){if(!(index>_this4.currentRangeData.length-2)){var percent=_slicedToArray(el,1)[0],nextPercent=_slicedToArray(_this4.currentRangeData[index+1],1)[0];return"".concat(RAINBOW_COLORS[index]," ").concat(percent,"%, ").concat(RAINBOW_COLORS[index]," ").concat(nextPercent,"%")}}).filter(function(el){return el}).join(", ");this.rangeSliderConnects.style.background="\n      linear-gradient(to right, ".concat(gradientStops,")\n    ")}},{key:"updateRangeSliderOptions",value:function(type){if(this.rangeSlider){switch(type){case"toggle-all":this.currentRangeData=this.rangeAll;break;case"toggle-area":this.currentRangeData=this.rangeArea;break;default:this.currentRangeData=this.rangeAll}var nextConfig=this.getRangeSliderConfig(type);this.rangeSlider.updateOptions(nextConfig),this.setConnectsGradient()}}},{key:"updateRangeSliderValues",value:function(value,target){this.rangeSlider.setHandle(target,value,!1)}},{key:"closePopup",value:function(){this.elements.pricePopup.classList.add("filter-popup-hide"),this.elements.output.classList.remove("open-dropdown")}},{key:"clearingInputs",value:function(){this.elementsTrueValues={inputBefore:0,inputAfter:0},this.elements.inputAfter&&(this.elements.inputAfter.value="",this.elements.inputAfter.setAttribute("value","")),this.elements.inputBefore&&(this.elements.inputBefore.value="",this.elements.inputBefore.setAttribute("value","")),this.setResetButtonState(!1,this.resetButtons.resetAfter),this.setResetButtonState(!1,this.resetButtons.resetBefore),this.rangeSlider&&(this.state={reseted:!0},this.rangeSlider.reset())}},{key:"isReseted",get:function(){return this.state.reseted}},{key:"trueValues",get:function(){return this.elementsTrueValues}}]),RangeSelect}()},184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return InputMask});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(75),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var imask__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(89),imask__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(imask__WEBPACK_IMPORTED_MODULE_11__);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var InputMask=function(){var Constructor,protoProps,staticProps;function InputMask(element){switch(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InputMask),this.element=element,this.type=element.getAttribute("data-mask"),this.type){case"number":this.mask=new imask__WEBPACK_IMPORTED_MODULE_11___default.a(this.element,{mask:Number,scale:0,signed:!1,thousandsSeparator:" "});break;case"decimal":var config={mask:Number,scale:2,signed:!1,thousandsSeparator:" "};this.element.hasAttribute("data-mask-limited")&&(config.max=this.element.getAttribute("data-mask-limited")),this.mask=new imask__WEBPACK_IMPORTED_MODULE_11___default.a(this.element,config);break;case"phone":this.mask=new imask__WEBPACK_IMPORTED_MODULE_11___default.a(this.element,{mask:"+7(000)000-00-00",lazy:!1});break;case"ru":this.mask=new imask__WEBPACK_IMPORTED_MODULE_11___default.a(this.element,{mask:/^[А-яЁё ]{0,}$/})}this.mask&&(this.element.mask=this.mask)}return Constructor=InputMask,staticProps=[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,inputs=_toConsumableArray(container.querySelectorAll("input[data-mask]"));return inputs.map(function(input){return new InputMask(input)})}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),InputMask}()},185:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StickyContainer});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var _helpers_throttle__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(103);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var STICKED_TOP_OFFSET=24,StickyContainer=function(){function StickyContainer(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StickyContainer),element.StickyContainer=this,this.element=element,this.parent=element.parentNode,this.topOffset=+element.getAttribute("data-sticky-offset")||STICKED_TOP_OFFSET,this.mobileState=element.hasAttribute("data-sticky-mobile"),this.stickedBottom=element.hasAttribute("data-sticky-bottom"),this.element.classList.contains("sticky-container")||this.element.classList.add("sticky-container"),this.parent.classList.contains("sticky-parent")||this.parent.classList.add("sticky-parent"),this.state={disabled:!1,eventsCount:0,inited:!1,sticked:!1,stickedBottom:!1,lastTransform:0},this.onScroll=this.onScroll.bind(this),this.bindHandlers()}return _createClass(StickyContainer,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,containers=_toConsumableArray(container.querySelectorAll("[data-sticky-container]"));return containers.map(function(el){return new StickyContainer(el)})}}]),_createClass(StickyContainer,[{key:"bindHandlers",value:function(){var _this=this;window.addEventListener("resize",Object(_helpers_throttle__WEBPACK_IMPORTED_MODULE_10__.a)(function(){return _this.init()},25)),this.init()}},{key:"init",value:function(){this.state.disabled||(document.documentElement.clientWidth>=1024||this.mobileState?this.state.inited||(this.onScroll(),document.addEventListener("scroll",this.onScroll),this.state.inited=!0):this.state.inited&&(document.removeEventListener("scroll",this.onScroll),this.unstick(),this.unstickBottom(),this.state.inited=!1),this.state.inited&&this.state.sticked&&this.stickRight())}},{key:"onScroll",value:function(){if(this.state.eventsCount<2)return this.state.eventsCount++,!1;if(document.documentElement.clientWidth<1024&&!this.mobileState)return this.unstick(),this.unstickBottom(),!1;var height=this.height,_this$parent$getBound=this.parent.getBoundingClientRect(),top=_this$parent$getBound.top,bottom=_this$parent$getBound.bottom,heightDifference=this.parent.clientHeight-height;heightDifference>0?top-this.topOffset<0&&bottom-height-this.topOffset>0?this.state.sticked||(this.stick(),this.unstickBottom()):(this.state.sticked&&this.unstick(),bottom-height-this.topOffset<0&&bottom>0?this.state.stickedBottom||this.stickBottom():this.state.stickedBottom&&this.unstickBottom()):top<0&&bottom<=document.documentElement.clientHeight?this.element.style.transform="translateY(".concat(heightDifference,"px)"):this.element.style.transform=""}},{key:"stick",value:function(){var parentPaddings=this.parentPaddings,width=this.parent.clientWidth-parentPaddings.left-parentPaddings.right;this.element.style.width="".concat(width,"px"),this.stickRight(parentPaddings),this.stickedBottom?this.element.classList.add("sticky-container_sticked-screen-bottom"):this.element.classList.add("sticky-container_sticked"),this.state.sticked=!0}},{key:"stickRight",value:function(parentPaddings){parentPaddings||(parentPaddings=this.parentPaddings);var right=this.parentOffsetRight+parentPaddings.right;this.element.style.right="".concat(right,"px")}},{key:"unstick",value:function(){this.stickedBottom?this.element.classList.remove("sticky-container_sticked-screen-bottom"):this.element.classList.remove("sticky-container_sticked"),this.element.style.width="",this.element.style.right="",this.state.sticked=!1}},{key:"stickBottom",value:function(){var parentPaddings=this.parentPaddings,width=this.parent.clientWidth-parentPaddings.left-parentPaddings.right;this.element.style.width="".concat(width,"px"),this.element.style.right="".concat(parentPaddings.right,"px"),this.element.classList.add("sticky-container_sticked-bottom"),this.state.stickedBottom=!0,this.element.style.right=""}},{key:"unstickBottom",value:function(){this.element.classList.remove("sticky-container_sticked-bottom"),this.state.stickedBottom=!1}},{key:"disable",value:function(){this.state.disabled=!0,this.element.classList.add("disabled"),this.unstick(),this.unstickBottom(),document.removeEventListener("scroll",this.onScroll)}},{key:"enable",value:function(){this.state.inited=!1,this.state.disabled=!1,this.element.classList.remove("disabled"),this.init()}},{key:"height",get:function(){return this.element.clientHeight}},{key:"parentOffsetRight",get:function(){var rect=this.parent.getBoundingClientRect();return document.documentElement.clientWidth-(rect.left+this.parent.clientWidth)}},{key:"parentPaddings",get:function(){var style=window.getComputedStyle?window.getComputedStyle(this.parent,null):this.parent.currentStyle;return{left:parseInt(style.paddingLeft,10)||0,right:parseInt(style.paddingRight,10)||0}}}]),StickyContainer}()},187:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Dropdown});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var STATE_CLOSE="STATE_CLOSE",STATE_OPEN="STATE_OPEN",Dropdown=function(){function Dropdown(element){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Dropdown),this.element=element,this.options={closeOnItemClick:options.closeOnItemClick||!0,closeOnOutsideClick:options.closeOnOutsideClick||!0,preventEvents:options.preventEvents||this.element.hasAttribute("data-prevent-events")||!1},this.trigger=this.element.querySelector(".js-dropdown-trigger"),this.placeholder=this.element.querySelector(".js-dropdown-placeholder"),this.list=this.element.querySelector(".js-dropdown-list"),this.listItems=_toConsumableArray(this.list.querySelectorAll(".js-dropdown-list-item")),this.listItems=this.listItems.map(function(item){return{text:item.getAttribute("data-value"),input:item.querySelector("input"),label:item.querySelector("label")}}),this.state=this.element.classList.contains("is-open")?STATE_OPEN:STATE_CLOSE,this.bindEvents()}return _createClass(Dropdown,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=_toConsumableArray(container.querySelectorAll(".js-dropdown:not([data-manual-init])"));elements.forEach(function(element){element.Dropdown=new Dropdown(element)})}}]),_createClass(Dropdown,[{key:"bindEvents",value:function(){var _this=this;this.trigger&&this.trigger.addEventListener("click",function(event){_this.state===STATE_CLOSE?_this.open():_this.close()}),this.listItems.forEach(function(item){var input=item.input,text=item.text;input.addEventListener("change",function(event){_this.options.preventEvents&&event.preventDefault(),_this.element.dispatchEvent(new CustomEvent("dropdown-change",{detail:{item:item}})),text&&(_this.placeholder.innerText=text),_this.options.closeOnItemClick&&_this.close()})}),this.options.closeOnOutsideClick&&document.addEventListener("click",function(event){event.target.closest(".js-dropdown")||_this.close()})}},{key:"open",value:function(){this.element.classList.add("is-open"),this.element.dispatchEvent(new CustomEvent("dropdown-open")),this.state=STATE_OPEN}},{key:"close",value:function(){this.element.classList.remove("is-open"),this.element.dispatchEvent(new CustomEvent("dropdown-close")),this.state=STATE_CLOSE}}]),Dropdown}()},188:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ApartmentPrices});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(26),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(36),__webpack_require__(6);var pubsub_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(15),pubsub_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(pubsub_js__WEBPACK_IMPORTED_MODULE_11__),_tabs_tabs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(51),_ymaps_placement_placement_map__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(189),_helpers_constants__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(11);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ApartmentPrices=function(){function ApartmentPrices(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ApartmentPrices),this.element=element,this.tabs={links:_toConsumableArray(element.querySelectorAll(".apartment-price__tab"))},this.placementMapNode=this.element.querySelector(".js-placement-map"),this.init()}return _createClass(ApartmentPrices,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".apartment-price");if(element)return new ApartmentPrices(element)}}]),_createClass(ApartmentPrices,[{key:"init",value:function(){var _this=this;this.placementMapNode&&window.map_items&&(this.placementMap=new _ymaps_placement_placement_map__WEBPACK_IMPORTED_MODULE_13__.a(this.placementMapNode)),this.tabsController=new _tabs_tabs__WEBPACK_IMPORTED_MODULE_12__.a(this.tabs.links,{line:this.tabs.line,linkClass:"apartment-price__tab",tabsClass:"corps-tabs__tab",beforeChange:function(link){_this.placementMap&&_this.placementMap.setPlacementItemById(link.getAttribute("data-placement-id"))}}),pubsub_js__WEBPACK_IMPORTED_MODULE_11___default.a.subscribe(_helpers_constants__WEBPACK_IMPORTED_MODULE_14__.k,function(message,payload){var id=payload.data,targetLink=_this.tabs.links.find(function(link){return link.getAttribute("data-placement-id")===id.toString()});if(targetLink){var targetTab=_this.tabsController.tabs.find(function(tab){return tab.id===targetLink.getAttribute("href").replace("#","")});targetTab&&(_this.tabsController.activeLink=targetLink,_this.tabsController.activeTab=targetTab)}}),this.tabsController.init()}}]),ApartmentPrices}()},189:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PlacementMap});__webpack_require__(3),__webpack_require__(59),__webpack_require__(27),__webpack_require__(71),__webpack_require__(91),__webpack_require__(63),__webpack_require__(1),__webpack_require__(2),__webpack_require__(10);var pubsub_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(15),pubsub_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(pubsub_js__WEBPACK_IMPORTED_MODULE_9__),_GUI_ymaps_controls_zoom_zoom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(56),_GUI_ymaps_controls_fullscreen_fullscreen__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(67),_helpers_device__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(62),_helpers_constants__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(11),_helpers_lazyload_script__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(46);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var PlacementMap=function(){function PlacementMap(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PlacementMap),this.element=element,this.objectsMapItems=window.map_items,this.placementName=this.objectsMapItems.name,this.placementImage=this.objectsMapItems.image,this.placementItems=this.objectsMapItems.items,Object(_helpers_lazyload_script__WEBPACK_IMPORTED_MODULE_14__.a)({elements:[this.element],observerMargin:100,onLoad:function(){return _this.bindMapEvents()},scriptSrc:"https://api-maps.yandex.ru/2.1/?lang=ru_RU&onload=ymapsBroadcast&apikey=81fd4d74-8f99-4223-b3a9-ced2137399e7",scriptUniqueSelector:"api-maps.yandex"})}return _createClass(PlacementMap,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(window.mapItems&&window.mapItems.length){var element=container.querySelector(".js-placement-map:not([data-manual-init])");if(element)return new PlacementMap(element)}}}]),_createClass(PlacementMap,[{key:"bindMapEvents",value:function(){var _this2=this,initMap=function(){_this2.ymaps=window.ymaps,_this2.initMap()};window.ymaps?initMap():window.ymapsObserver.subscribe(function(){initMap()})}},{key:"initMap",value:function(){var _this3=this,fullscreenControl=Object(_GUI_ymaps_controls_fullscreen_fullscreen__WEBPACK_IMPORTED_MODULE_11__.a)({ymaps:this.ymaps,position:{top:"112px",right:"20px"}}),zoomControl=Object(_GUI_ymaps_controls_zoom_zoom__WEBPACK_IMPORTED_MODULE_10__.a)(this.ymaps,{top:"20px",right:"20px"});this.objectsMap=new this.ymaps.Map(this.element,{center:[55.75,37.7],zoom:15,controls:[]},{suppressMapOpenBlock:!0,minZoom:12,maxZoom:16}),fullscreenControl.events.add("fullscreenexit",function(){_this3.objectsMap.container.fitToViewport()}),this.objectsMap.controls.add(fullscreenControl),this.objectsMap.controls.add(zoomControl),this.objectsMap.behaviors.disable("scrollZoom"),document.body.clientWidth<1024&&this.objectsMap.behaviors.disable("drag"),this.objectsManager=new this.ymaps.ObjectManager({clusterize:!1});var features=[],generalPlacementGeometry=[];this.placementItems.forEach(function(item){if(item.polygon){var polygon=JSON.parse(item.polygon);generalPlacementGeometry.push(polygon),features.push({type:"Feature",id:item.id,geometry:{type:"Polygon",coordinates:polygon},properties:{data:_objectSpread({},item,{image:_this3.placementImage})}})}if(item.point){var point=JSON.parse(item.point);generalPlacementGeometry.push(point),features.push({type:"Feature",id:item.id,geometry:{type:"Point",coordinates:JSON.parse(item.point)},properties:{data:_objectSpread({},item,{image:_this3.placementImage})}})}}),features.length&&this.objectsManager.add({type:"FeatureCollection",features:features}),this.objectsManager.objects.options.set({balloonLayout:this.getBalloonLayout(this.ymaps),balloonPanelMaxMapArea:0,balloonShadow:!1,hideIconOnBalloonOpen:!1,iconLayout:"default#image",iconImageHref:"".concat(window.VECTOR_IMAGES_LINK,"ico-complex-on-map.svg"),iconImageSize:[50,50],iconImageOffset:[-15,-45]}),Object(_helpers_device__WEBPACK_IMPORTED_MODULE_12__.a)()||(this.objectsManager.objects.events.add("click",function(event){var id=event.get("objectId");pubsub_js__WEBPACK_IMPORTED_MODULE_9___default.a.publish(_helpers_constants__WEBPACK_IMPORTED_MODULE_13__.k,{data:id})}),this.objectsManager.objects.events.add("mouseenter",function(event){var id=event.get("objectId");_this3.mouseInsidePlacemark=!0,_this3.openBalloon(id)}),this.objectsManager.objects.events.add("mouseleave",function(event){_this3.mouseInsidePlacemark=!1,setTimeout(function(){_this3.closeBalloonIfNeeded()},100)}),this.objectsManager.objects.balloon.events.add("mouseenter",function(event){_this3.mouseInsideBalloon=!0}),this.objectsManager.objects.balloon.events.add("mouseleave",function(event){_this3.mouseInsideBalloon=!1,setTimeout(function(){_this3.closeBalloonIfNeeded()},100)}),this.objectsMap.events.add("balloonopen",function(){_this3.isBalloonIsOpen=!0}),this.objectsMap.events.add("balloonclose",function(){_this3.isBalloonIsOpen=!1})),this.objectsMap.geoObjects.add(this.objectsManager),this.initPlacement("general")}},{key:"openBalloon",value:function(id){this.objectsManager.objects.getById(id)&&!this.isBalloonIsOpen&&this.objectsManager.objects.balloon.open(id)}},{key:"closeBalloonIfNeeded",value:function(){this.mouseInsideBalloon||this.mouseInsidePlacemark||this.objectsManager.objects.balloon.close()}},{key:"initPlacement",value:function(id){var currentObject,_this4=this;this.objectsManager.objects.balloon.close(),"general"===id?this.objectsManager.setFilter(function(){return!0}):this.objectsManager.setFilter(function(object){return object.id.toString()===id&&(currentObject=object,!0)}),(currentObject||"general"===id)&&setTimeout(function(){_this4.objectsMap.setBounds(_this4.objectsManager.getBounds());var mapCenter=_this4.objectsMap.getCenter(),placeMark=new _this4.ymaps.Placemark(mapCenter,{},{iconLayout:"default#image",iconImageHref:"/local/templates/main/assets/images/maps-baloon.png",iconImageSize:[32,43],iconImageOffset:[-10,-45],zIndex:9e3,id:"zoomMark",visible:!1});_this4.objectsMap.geoObjects.add(placeMark)},100)}},{key:"setPlacementItemById",value:function(id){this.objectsMap&&this.initPlacement(id)}},{key:"getBalloonLayout",value:function(ymaps){return ymaps.templateLayoutFactory.createClass('\n      <div class="search-map-balloon no-arrow shadow-md rounded-xl">\n        <div class="search-map-balloon__preview overflow-hidden rounded-xl">\n          <img src="{{ properties.data.image }}" alt="Фото {{ properties.data.name }}">\n        </div>\n        <div class="search-map-balloon__body">\n          <a href="{{ properties.data.link }}" class="search-map-balloon__title link-n-2 text-w-medium text-nowrap">{{ properties.data.name }}</a>\n          <div class="search-map-balloon__info text-sm text-nowrap">{{ properties.data.info }}</div>\n          <div class="search-map-balloon__price-square text-sm text-nowrap">{{ properties.data.priceM|raw }}</div>\n          <div class="search-map-balloon__price-total text-sm text-nowrap">{{ properties.data.price }}</div>\n        </div>\n      </div>',{getShape:function(){var result,el=this.getElement();if(el){var firstChild=el.firstElementChild;result=new self.ymaps.shape.Rectangle(new self.ymaps.geometry.pixel.Rectangle([[0,-firstChild.offsetHeight/2],[firstChild.offsetWidth+30,firstChild.offsetHeight/2]]))}return result}})}}]),PlacementMap}()},190:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getPolygonCenter});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var getPolygonCenter=function(coords){for(var mult,xCoord=0,yCoord=0,space=0,i=0;i<coords.length-1;i++)mult=coords[i][0]*coords[i+1][1]-coords[i+1][0]*coords[i][1],xCoord+=(coords[i][0]+coords[i+1][0])*mult,yCoord+=(coords[i][1]+coords[i+1][1])*mult,space+=mult;return[xCoord/=3*space,yCoord/=3*space]};window.getpolygon=function(coords){var x=coords.map(function(v){return v[0]}),y=coords.map(function(v){return v[1]});return[(Math.min.apply(Math,_toConsumableArray(x))+Math.max.apply(Math,_toConsumableArray(x)))/2,(Math.min.apply(Math,_toConsumableArray(y))+Math.max.apply(Math,_toConsumableArray(y)))/2]}},191:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return InfrastructureModule});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(26),__webpack_require__(9),__webpack_require__(4),__webpack_require__(43),__webpack_require__(12),__webpack_require__(101),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var axios__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13),axios__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_14__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var InfrastructureModule=function(){function InfrastructureModule(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InfrastructureModule),this.container=options.container,this.map=options.map,this.polygon=options.polygon,this.infrastructureCheckboxes=_toConsumableArray(this.container.querySelectorAll('#infrastructure input[type="checkbox"]')),this.ecologyCheckboxes=_toConsumableArray(this.container.querySelectorAll('#ecology input[type="checkbox"]')),this.urls={ecology:this.container.getAttribute("data-eco-url"),infrastructure:this.container.getAttribute("data-infrastructure-url")},this.infrastructureIcon={banks:"".concat(window.VECTOR_IMAGES_LINK,"map-icon_banks-n-2.svg"),school:"".concat(window.VECTOR_IMAGES_LINK,"map-icon_edu-n-2.svg"),kindergarten:"".concat(window.VECTOR_IMAGES_LINK,"map-icon_garden-n-2.svg"),shopping:"".concat(window.VECTOR_IMAGES_LINK,"map-icon_shop-n-2.svg"),pharmacy:"".concat(window.VECTOR_IMAGES_LINK,"map-icon_pharmacy-n-2.svg"),park:"".concat(window.VECTOR_IMAGES_LINK,"map-icon_park-n-2.svg"),medicine:"".concat(window.VECTOR_IMAGES_LINK,"map-icon_medicine-n-2.svg")},this.cache={ecology:{},infrastructure:{school:[],kindergarten:[],medicine:[],shopping:[],pharmacy:[],park:[],banks:[],industzones:[],thermalstations:[],industenterprises:[],incinerations:[],treatmentfacil:[],dump:[]}},this.initHandlers()}var Constructor,protoProps,staticProps;return Constructor=InfrastructureModule,(protoProps=[{key:"initHandlers",value:function(){var _this=this;this.infrastructureCheckboxes.forEach(function(input){input.addEventListener("change",function(event){return _this.handleInfrastructureChange(event)})}),this.ecologyCheckboxes.forEach(function(input){input.addEventListener("change",function(event){return _this.handleEcologyChange(event)})})}},{key:"infrastructureRequest",value:function(type){if(this.polygon){var myCoords=this.polygon[0]&&this.polygon[0][0]?this.polygon[0][0]:[];return axios__WEBPACK_IMPORTED_MODULE_14___default.a.get(this.urls.infrastructure,{params:{apikey:this.yandexFirmsKey,lang:"ru_RU",ll:myCoords.reverse().join(","),results:2,rspn:1,text:this.translateInfrastructureValue(type),type:"biz"},headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){return response.data})}}},{key:"ecologyRequest",value:function(){return axios__WEBPACK_IMPORTED_MODULE_14___default.a.get(this.urls.ecology,{params:{coords:this.getMapBounds()},headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){return response.data})}},{key:"onEcologyRequest",value:function(data){var features=data.features;for(var key in features)if(features.hasOwnProperty(key)){var feature=features[key];this.cache.ecology[key]||(this.cache.ecology[key]=[]),this.appendArray(this.cache.ecology[key],feature)}}},{key:"updateEcologyPolygons",value:function(){var _this2=this;this.removeEcologyPolygons(),this.ecologyCheckboxes.forEach(function(input){input.checked&&_this2.addEcologyPolygon(input.value)})}},{key:"appendArray",value:function(base,appender){appender.length&&"object"===_typeof(appender)&&appender.map(function(item){base.find(function(el){return item.id===el.id})||(item.options&&item.options.hintLayout&&delete item.options.hintLayout,base.push(item))})}},{key:"removeArray",value:function(base,remover){remover.map(function(item){var index=base.indexOf(item);-1!==index&&base.splice(index,1)})}},{key:"translateInfrastructureValue",value:function(type){switch(type){case"kindergarten":return"Детский сад";case"school":return"Школа";case"medicine":return"Больница";case"shopping":return"Магазин";case"banks":return"Банк";case"pharmacy":return"Аптека";case"park":return"Сквер"}}},{key:"handleInfrastructureChange",value:function(event){throw new Error("Must be implemented in an inherited class")}},{key:"handleEcologyChange",value:function(event){throw new Error("Must be implemented in an inherited class")}},{key:"addEcologyPolygon",value:function(type){throw new Error("Must be implemented in an inherited class")}},{key:"removeEcologyPolygons",value:function(){throw new Error("Must be implemented in an inherited class")}},{key:"getMapBounds",value:function(){throw new Error("Must be implemented in an inherited class")}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),InfrastructureModule}()},192:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ApartmentLayouts});var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ApartmentLayouts=function(){function ApartmentLayouts(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ApartmentLayouts),this.element=element,this.layoutsList=this.element.querySelector(".js-apartment-layouts-list"),this.url=this.layoutsList.getAttribute("data-url"),this.moreLayoutsButton=this.element.querySelector(".js-apartment-layouts-more"),this.init(),this.bindEvents()}return _createClass(ApartmentLayouts,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".js-apartment-layouts");if(element)return new ApartmentLayouts(element)}}]),_createClass(ApartmentLayouts,[{key:"init",value:function(){this.lg=lightGallery(this.layoutsList,{thumbnail:!0,hash:!1,download:!1,loop:!0,exThumbImage:"data-src",selector:".layout__preview"})}},{key:"bindEvents",value:function(){var _this=this;this.moreLayoutsButton&&this.moreLayoutsButton.addEventListener("click",function(e){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.get(_this.url).then(function(response){var data=response.data;data&&_this.onRequest(data)})})}},{key:"onRequest",value:function(data){var html=data.html;this.moreLayoutsButton.parentNode.removeChild(this.moreLayoutsButton),this.layoutsList.insertAdjacentHTML("beforeend",html),window.lazyloadInstance&&window.lazyloadInstance.update();var galleryId=this.layoutsList.getAttribute("lg-uid");window.lgData&&window.lgData[galleryId]&&window.lgData[galleryId].destroy(!0),this.init()}}]),ApartmentLayouts}()},193:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ObjectDescription});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(75),__webpack_require__(213),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var ARTICLE_HEIGHT_TABLET,ARTICLE_HEIGHT_MOBILE,ARTICLE_HEIGHT_DESKTOP,moveto__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(34),moveto__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(moveto__WEBPACK_IMPORTED_MODULE_12__),gsap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(20);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ObjectDescription=function(){function ObjectDescription(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectDescription),this.element=element,this.moveTo=new moveto__WEBPACK_IMPORTED_MODULE_12___default.a,this.articleAnchors=_toConsumableArray(element.querySelectorAll('a[href*="#"]'));var xs=this.element.getAttribute("data-article-height-xs"),sm=this.element.getAttribute("data-article-height-sm"),md=this.element.getAttribute("data-article-height-md");ARTICLE_HEIGHT_MOBILE=+xs||1500,ARTICLE_HEIGHT_TABLET=+sm||2e3,ARTICLE_HEIGHT_DESKTOP="none"===md?Number.MAX_SAFE_INTEGER:+md||4e3,this.containers={article:element.querySelector(".js-object-article-content"),author:element.querySelector(".object-article__author")},this.articleButton=element.querySelector("[data-accordion-article]"),this.articleButton&&(this.state={minimized:!1},this.textElement=this.articleButton.querySelector("[data-accordion-text]"),this.textElement&&(this.text={default:this.textElement.innerText,alt:"Свернуть"}),this.init())}return _createClass(ObjectDescription,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".js-object-article");if(element)return new ObjectDescription(element)}}]),_createClass(ObjectDescription,[{key:"init",value:function(){if(this.containers.article)if(this.articleHeight<=this.heightLimit)this.articleButton&&(this.articleButton.style.display="none");else{if(this.containers.article&&this.articleButton)this.articleButton.style.display="",window.innerWidth<1024||ARTICLE_HEIGHT_DESKTOP<this.authorHeight+this.articleHeight?this.minimize():this.toggleButton(),this.bindHandlers();this.bindAnchorEvents()}}},{key:"bindAnchorEvents",value:function(){var _this=this;this.articleAnchors.forEach(function(anchor){anchor.addEventListener("click",function(){_this.expand(!0),_this.toggleButton()})})}},{key:"expand",value:function(){var instant=arguments.length>0&&void 0!==arguments[0]&&arguments[0],height=this.containers.article.clientHeight;this.containers.article.style.height="auto",gsap__WEBPACK_IMPORTED_MODULE_13__.a.from(this.containers.article,instant?0:.5,{height:height}),this.state.minimized=!1}},{key:"minimize",value:function(){var isClicked=arguments.length>0&&void 0!==arguments[0]&&arguments[0],height=this.maxHeight;gsap__WEBPACK_IMPORTED_MODULE_13__.a.to(this.containers.article,.5,{height:height}),this.state.minimized=!0,isClicked&&this.moveTo.move(this.element,{tolerance:62,duration:500})}},{key:"bindHandlers",value:function(){var _this2=this;this.articleButton.addEventListener("click",function(event){event.preventDefault(),_this2.state.minimized?_this2.expand():_this2.minimize(!0),_this2.toggleButton()})}},{key:"setHeight",value:function(){this.state.minimized&&(this.containers.article.style.height=this.maxHeight+"px")}},{key:"toggleButton",value:function(){this.state.minimized?(this.articleButton.removeAttribute("data-accordion-shown"),this.textElement.innerText=this.text.default):(this.articleButton.setAttribute("data-accordion-shown",""),this.textElement.innerText=this.text.alt)}},{key:"articleHeight",get:function(){return this.containers.article.clientHeight}},{key:"authorHeight",get:function(){return this.containers.author?this.containers.author.clientHeight+40:0}},{key:"heightLimit",get:function(){var windowWidth=window.innerWidth;return windowWidth<1024&&windowWidth>=768?ARTICLE_HEIGHT_TABLET:windowWidth<768?ARTICLE_HEIGHT_MOBILE:ARTICLE_HEIGHT_DESKTOP}},{key:"maxHeight",get:function(){for(var articleItems=_toConsumableArray(this.element.querySelectorAll(".article > *")),maxHeight=this.heightLimit,height=0,i=0,margin=0;height<maxHeight&&i<=articleItems.length-1;){var item=articleItems[i],style=item.currentStyle||window.getComputedStyle(item);margin=item.clientHeight>0?parseInt(style.marginBottom,10):0,height+=item.clientHeight+margin,i++}return height-=margin}}]),ObjectDescription}()},194:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ObjectDevelopTimeline});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var axios__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(13),axios__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_10__),query_string__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(49),query_string__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_11__),_content_search_content_search_helpers__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(25),_helpers_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(52);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ObjectDevelopTimeline=function(){function ObjectDevelopTimeline(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectDevelopTimeline),this.element=element,this.form=this.element.querySelector(".js-develop-timeline-form"),this.url=this.form.getAttribute("action"),this.monthSelect=this.form.querySelector("#timeline-month"),this.yearSelect=this.form.querySelector("#timeline-year"),this.yearSelect&&(this.monthData=JSON.parse(this.yearSelect.getAttribute("data-month"))),this.contentTarget=this.element.querySelector(".js-develop-timeline-target"),this.initialLightGalleryData=this.contentTarget.getAttribute("data-lg"),this.initialLightGalleryData&&(this.initialLightGalleryData=JSON.parse(this.initialLightGalleryData)),this.initLightGallery(this.initialLightGalleryData),this.bindEvents()}return _createClass(ObjectDevelopTimeline,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".js-develop-timeline");if(element)return new ObjectDevelopTimeline(element)}}]),_createClass(ObjectDevelopTimeline,[{key:"initLightGallery",value:function(data){var _this=this;_toConsumableArray(this.contentTarget.querySelectorAll(".develop-timeline__item")).forEach(function(el){return el.addEventListener("click",function(e){lightGallery(_this.contentTarget,{thumbnail:!0,hash:!1,download:!1,loop:!0,dynamic:!0,dynamicEl:data})})})}},{key:"bindEvents",value:function(){var _this2=this;this.form.addEventListener("change",function(e){e.preventDefault(),_this2.request()}),this.yearSelect&&this.monthSelect&&this.monthData&&this.yearSelect.addEventListener("change",function(e){var value=_this2.yearSelect.Select.selected();if(value){var data=_this2.monthData[value];if(data){var nextOptions=[];data.forEach(function(item,index){nextOptions.push({text:item.text||_helpers_utils__WEBPACK_IMPORTED_MODULE_13__.f[item],value:item.value||item,selected:0===index})}),_this2.monthSelect.Select.setData(nextOptions)}}})}},{key:"request",value:function(){var _this3=this;return axios__WEBPACK_IMPORTED_MODULE_10___default.a.get(this.url,{params:Object(_content_search_content_search_helpers__WEBPACK_IMPORTED_MODULE_12__.b)(this.form,{hash:!0}),paramsSerializer:function(params){return query_string__WEBPACK_IMPORTED_MODULE_11___default.a.stringify(params)}}).then(function(response){var data=response.data;data&&_this3.onRequest(data)})}},{key:"onRequest",value:function(data){var lgData=data.lgData,html=data.html;this.contentTarget.innerHTML=html;var galleryId=this.contentTarget.getAttribute("lg-uid");window.lgData&&window.lgData[galleryId]&&window.lgData[galleryId].destroy(!0),window.lazyloadInstance&&window.lazyloadInstance.update(),this.initLightGallery(lgData)}}]),ObjectDevelopTimeline}()},195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ObjectRating});var _circle_chart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(104);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ObjectRating=function(){var Constructor,protoProps,staticProps;function ObjectRating(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectRating),this.element=element,this.ratingAnimation=new _circle_chart__WEBPACK_IMPORTED_MODULE_0__.a({wrapper:".rating-badge__background",data:"ranking",colorRange:["#d32a01","#ffcb00","#43b05c"],maxValue:5,circle:{background:"#e8e8e8",thickness:6,backwards:!0,ease:"Bounce.easeOut",speed:2}}),this.ratingAnimation.init()}return Constructor=ObjectRating,staticProps=[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".ratings-container");if(element)return new ObjectRating(element)}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ObjectRating}()},196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ObjectSimilar});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(21),__webpack_require__(26),__webpack_require__(9),__webpack_require__(47),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(90),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var axios__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13),axios__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_14__),_accordion_accordion__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(57),_compare_compare_storage__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(54),_sliders_complex_item_slider_complex_item_slider__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(55),_favorite_favorite__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(53),_phone_number_phone_number__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(28),_object_similars_slider__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(115),_tabs_tabs__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(51),_tooltip_tooltip__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(45),_helpers_createFlatItem__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(149),_helpers_formatTextEndings__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(64),_helpers_utils__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(52),_search_filter_partials_search_filter_map_search_filter_map_modal__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(142);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var OBJECT_TYPES={cottages:{root:"коттедж",endings:["ей","а",""],similarWordEndings:["их","их","ий"],placeholder:"коттеджей"},buildings:{root:"новостро",endings:["ек","йки","йку"],similarWordEndings:["их","иe","ую"],placeholder:"новостроек"},flats:{root:"квартир",endings:["","ы","у"],renderFunc:_helpers_createFlatItem__WEBPACK_IMPORTED_MODULE_23__.a},default:{root:"объект",endings:["ов","а",""],similarWordEndings:["их","их","ий"],placeholder:"объектов"}},ObjectSimilar=function(){function ObjectSimilar(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectSimilar),this.element=element,this.searchForm=this.element,this.isSectionLoaded=this.element.hasAttribute("data-loaded"),this.type=this.element.getAttribute("data-type")||"tabs",this.itemType=OBJECT_TYPES[this.element.getAttribute("data-item-type")||"default"],"list"===this.type?(this.listTarget=this.element.querySelector(".js-similars-target"),this.hiddenListTarget=this.element.querySelector("#similar-objects-list"),this.isSectionLoaded||this.initList()):"tabs"===this.type&&this.initTabs(),_search_filter_partials_search_filter_map_search_filter_map_modal__WEBPACK_IMPORTED_MODULE_26__.a.init(this)}return _createClass(ObjectSimilar,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_25__.g)(function(){var element=container.querySelector(".object-similar");if(element)return new ObjectSimilar(element)})}}]),_createClass(ObjectSimilar,[{key:"initList",value:function(){this.listUrl=this.element.getAttribute("data-url"),this.renderFunc=function(){},this.listUrl&&this.listTarget&&this.requestList()}},{key:"requestList",value:function(){var _this=this;return axios__WEBPACK_IMPORTED_MODULE_14___default.a.get(this.listUrl).then(function(response){var data=response.data;if(data){var items=data.items;_this.createListItems(items,4)}})}},{key:"createListItems",value:function(items,itemsToShow){var _this2=this,itemsToAppend=[];this.listRestItemsCount=0,items.forEach(function(item){itemsToAppend.push(_this2.itemType.renderFunc(item))}),itemsToAppend.forEach(function(item,index){index>itemsToShow-1?(_this2.hiddenListTarget.appendChild(item),_this2.listRestItemsCount++):_this2.hiddenListTarget.insertAdjacentElement("beforebegin",item)}),this.listRestItemsCount&&this.createListAccordion(),_accordion_accordion__WEBPACK_IMPORTED_MODULE_15__.a.init(this.element),_compare_compare_storage__WEBPACK_IMPORTED_MODULE_16__.a.init(this.element),_sliders_complex_item_slider_complex_item_slider__WEBPACK_IMPORTED_MODULE_17__.a.init(this.element),_favorite_favorite__WEBPACK_IMPORTED_MODULE_18__.a.init(this.element),_phone_number_phone_number__WEBPACK_IMPORTED_MODULE_19__.a.init(this.element),_tooltip_tooltip__WEBPACK_IMPORTED_MODULE_22__.a.init(this.element)}},{key:"createListAccordion",value:function(){var button=document.createElement("button");button.className="button-n-2 button-n-2_theme_yellow button-n-2_type_full-width button-n-2_text_sm text-w-medium js-similars-more",button.setAttribute("data-accordion","similar-objects-list"),button.setAttribute("data-accordion-text",""),button.innerText="Показать еще ".concat(this.listRestItemsCount," ").concat(Object(_helpers_formatTextEndings__WEBPACK_IMPORTED_MODULE_24__.a)(this.listRestItemsCount,this.itemType.root,this.itemType.endings)),this.listTarget.appendChild(button)}},{key:"initTabs",value:function(){var _this3=this;this.header=this.element.querySelector("[data-similar-header]"),this.headerDefaultText=this.header.innerText,this.headerType=this.header.getAttribute("data-similar-header")||"default",this.objectType=OBJECT_TYPES[this.headerType],this.initedTabs=[],this.initedTabTotals=[],this.tabLinksSelector=this.element.getAttribute("data-tab-link")||"tabs-links__link",this.tabs={links:_toConsumableArray(this.element.querySelectorAll("."+this.tabLinksSelector)),line:this.element.querySelector(".tabs-links__line")},this.tabsController=new _tabs_tabs__WEBPACK_IMPORTED_MODULE_21__.a(this.tabs.links,{line:this.tabs.line,linkClass:this.tabLinksSelector,tabsClass:"object-similar__tab",beforeChange:function(el,tab){return _this3.requestTabData(el,tab)},afterChange:function(tab){return _this3.initTabContent(tab)}}),this.tabsController.init(),this.requestTabData(this.tabsController.activeLink,this.tabsController.activeTab).then(function(){return _this3.initTabContent(_this3.tabsController.activeTab)})}},{key:"requestTabData",value:function(el,tab){var _this4=this;if(this.initedTabs.includes(tab)){var initedTabTotal=this.initedTabTotals.find(function(t){return t.key===tab});this.updateHeader(initedTabTotal.total)}else{var dataUrl=el.getAttribute("data-url");if(dataUrl)return axios__WEBPACK_IMPORTED_MODULE_14___default.a.get(dataUrl).then(function(response){var data=response.data;return data&&(data.html?_this4.renderTabContent(tab,data.html):_this4.renderTabContent(tab,'\n                <div class="object-similar__no-similars">К сожалению, нам не удалось найти похожих '.concat(_this4.objectType.placeholder,"</div>\n              ")),data.total&&(_this4.initedTabTotals.push({key:tab,total:data.total}),_this4.updateHeader(data.total))),window.lazyloadInstance&&window.lazyloadInstance.update(),data.total||0})}}},{key:"initTabContent",value:function(tab,total){_object_similars_slider__WEBPACK_IMPORTED_MODULE_20__.a.init(tab),_phone_number_phone_number__WEBPACK_IMPORTED_MODULE_19__.a.init(tab),this.initedTabs.push(tab),this.initedTabTotals.push({key:tab,total:total})}},{key:"updateHeader",value:function(totalItems){this.header.innerText=totalItems>0?'Мы нашли еще "'.concat(totalItems,'" ').concat(Object(_helpers_formatTextEndings__WEBPACK_IMPORTED_MODULE_24__.a)(totalItems,"похож",this.objectType.similarWordEndings))+" ".concat(Object(_helpers_formatTextEndings__WEBPACK_IMPORTED_MODULE_24__.a)(totalItems,this.objectType.root,this.objectType.endings)):this.headerDefaultText}},{key:"renderTabContent",value:function(container,data){container.innerHTML=data}}]),ObjectSimilar}()},198:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return prepareItemsForObjectManager});__webpack_require__(21),__webpack_require__(10);var prepareItemsForObjectManager=function(items){var placemarks=[];return items.forEach(function(item){var id=item.id,location=item.location,priceCategory=item.priceCategory;location instanceof Array||(location=JSON.parse(location)),id||(id=Math.floor(1e5*Math.random()));var icon="".concat(window.VECTOR_IMAGES_LINK,"maps-baloon-").concat(priceCategory||"green",".svg"),selectedIcon="".concat(window.VECTOR_IMAGES_LINK,"maps-baloon-adv-legend.svg");placemarks.push({type:"Feature",id:id,options:{iconImageHref:icon,iconLayout:"default#image",iconImageSize:[18,18],iconImageOffset:[-9,-9],openEmptyBalloon:!1},properties:{id:id,selectedIcon:selectedIcon,originalIcon:icon,data:item},geometry:{type:"Point",coordinates:location}})}),placemarks}},199:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FlatsPrices});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(27),__webpack_require__(1),__webpack_require__(42),__webpack_require__(93),__webpack_require__(2),__webpack_require__(5),__webpack_require__(76),__webpack_require__(117),__webpack_require__(10),__webpack_require__(6);var axios__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(13),axios__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_16__),_modal_modal__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(35),_light_gallery_light_gallery__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(66),_phone_number_phone_number__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(28);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var FlatsPrices=function(){function FlatsPrices(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FlatsPrices),this.element=element,this.showFormButton=this.element.querySelector(".js-flats-prices-form-trigger"),this.form=element.querySelector(".js-flats-prices-form"),this.listContainer=element.querySelector(".flats-prices__list"),this.selects=_toConsumableArray(element.querySelectorAll("select")),this.inputs=_toConsumableArray(element.querySelectorAll('input[type="text"]')),this.links=_toConsumableArray(document.querySelectorAll(".object-price-n-2 [data-rooms]")),this.roomInputs=_toConsumableArray(element.querySelectorAll('[name="rooms[]"]')),this.classes={item:"flat-item",itemActive:"flat-item_is_active",content:"flat-item__content",detailed:"flat-item__detailed",listLoading:"flats-prices__list_loading"},this.state={activeItem:null,scrollInited:!1,fixed:!1,boundBottom:!1},this.url=this.form.getAttribute("action"),this.timeout=null,this.items=[],this.getList=this.getList.bind(this),this.onInputChange=this.onInputChange.bind(this),this.init(),this.bindHandlers()}return _createClass(FlatsPrices,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".flats-prices");if(element)return new FlatsPrices(element)}}]),_createClass(FlatsPrices,[{key:"init",value:function(){this.initInteractives(),this.initItems(),this.initButton(),_modal_modal__WEBPACK_IMPORTED_MODULE_17__.a.init({container:this.element,triggersSelector:'[data-toggle="modal-n-2"]'})}},{key:"getList",value:function(){var _this=this,body=this.formData;return this.setMinHeight(this.listContainer.clientHeight),this.listContainer.classList.add(this.classes.listLoading),axios__WEBPACK_IMPORTED_MODULE_16___default.a.post(this.url,body).then(function(response){var data=response.data;if(data){for(;_this.listContainer.firstChild;)_this.listContainer.firstChild.remove();_this.items=[],_this.listContainer.innerHTML=data,_this.setMinHeight(),_this.initInteractives(),_this.initItems(),_this.initButton()}else _this.showPlaceholder("Нет результатов");_modal_modal__WEBPACK_IMPORTED_MODULE_17__.a.init({container:_this.listContainer,triggersSelector:'[data-toggle="modal-n-2"]'})}).catch(function(error){_this.showPlaceholder("Произошла ошибка")}).finally(function(){_this.listContainer.classList.remove(_this.classes.listLoading)})}},{key:"getMoreItems",value:function(url){var _this2=this,body=this.formData,listContent=this.element.querySelector(".flats-list__content");return this.listContainer.classList.add(this.classes.listLoading),axios__WEBPACK_IMPORTED_MODULE_16___default.a.post(url,body).then(function(response){var data=response.data;if(data){var list=_this2.compileHTML(data),wrap=_this2.element.querySelector(".flats-list__control");wrap&&wrap.remove(),list.map(function(itemWrapper){var item=itemWrapper.querySelector(".flat-item");listContent.appendChild(itemWrapper),item&&_this2.initItem(item)}),_this2.initInteractives(),_this2.initButton()}}).finally(function(){_this2.listContainer.classList.remove(_this2.classes.listLoading),_modal_modal__WEBPACK_IMPORTED_MODULE_17__.a.init({container:listContent,triggersSelector:'[data-toggle="modal-n-2"]'})})}},{key:"initItems",value:function(){var _this3=this;if(this.state.activeItem=document.querySelector(".".concat(this.classes.itemActive)),_toConsumableArray(this.element.querySelectorAll(".".concat(this.classes.item,":not([data-item-inited])"))).map(function(item){return _this3.initItem(item)}),this.state.activeItem){var detailed=this.state.activeItem.querySelector(".".concat(this.classes.detailed));this.setMinHeight(detailed.clientHeight)}}},{key:"initItem",value:function(item){var _this4=this,content=item.querySelector(".".concat(this.classes.content)),detailed=item.querySelector(".".concat(this.classes.detailed));content&&(content.addEventListener("click",function(){_this4.state.activeItem===item?(_this4.state.activeItem.classList.remove(_this4.classes.itemActive),_this4.setMinHeight(null),_this4.state.activeItem=null):(_this4.state.activeItem&&_this4.state.activeItem.classList.remove(_this4.classes.itemActive),item.classList.add(_this4.classes.itemActive),_this4.state.activeItem=item,_this4.setMinHeight(detailed.clientHeight))}),item.setAttribute("data-item-inited",""),this.items.push(item))}},{key:"setMinHeight",value:function(height){this.listContainer.style.minHeight=height?"".concat(height,"px"):""}},{key:"initInteractives",value:function(){_light_gallery_light_gallery__WEBPACK_IMPORTED_MODULE_18__.a.init(this.listContainer),_phone_number_phone_number__WEBPACK_IMPORTED_MODULE_19__.a.init(this.listContainer)}},{key:"onInputChange",value:function(event){var _this5=this;event.key.match(/\d/)&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){_this5.getList()},750))}},{key:"showPlaceholder",value:function(text){for(;this.listContainer.firstChild;)this.listContainer.firstChild.remove();this.listContainer.innerHTML='<div class="flats-prices__placeholder">'.concat(text,"</div >")}},{key:"bindHandlers",value:function(){var _this6=this;this.selects.map(function(select){select.addEventListener("change",_this6.getList)}),this.inputs.map(function(input){input.addEventListener("keydown",_this6.onInputChange)}),this.links.map(function(link){link.addEventListener("click",function(event){event.preventDefault();var rooms=link.getAttribute("data-rooms");rooms&&(_this6.roomInputs.forEach(function(input){input.checked=input.value===rooms}),_this6.form.dispatchEvent(new CustomEvent("change")))})}),this.form.addEventListener("change",function(e){e.preventDefault(),_this6.getList()}),this.form.addEventListener("submit",function(e){e.preventDefault(),_this6.getList()}),this.showFormButton.addEventListener("click",function(e){_this6.form.classList.toggle("is-active")})}},{key:"initButton",value:function(){var _this7=this,showMoreButton=this.element.querySelector(".flats-list__control .button-n-2");showMoreButton&&showMoreButton.addEventListener("click",function(e){e.preventDefault();var url=showMoreButton.getAttribute("data-request");_this7.getMoreItems(url)})}},{key:"compileHTML",value:function(template){var div=document.createElement("div");return div.innerHTML=template.trim(),_toConsumableArray(div.children)}},{key:"formData",get:function(){var data=new FormData,hiddenInputs=_toConsumableArray(this.form.querySelectorAll('input[type="hidden"], [name="order"]')),inputs=_toConsumableArray(this.form.querySelectorAll('input[type="checkbox"]'));return this.selects.map(function(select){return data.append(select.name,select.value)}),this.inputs.map(function(input){var value=input.mask?input.mask.unmaskedValue:input.value;data.append(input.name,value)}),hiddenInputs.map(function(input){return data.append(input.name,input.value)}),inputs.map(function(input){return input.checked&&data.append(input.name,input.value)||null}),data}}]),FlatsPrices}()},204:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(59),__webpack_require__(9),__webpack_require__(4),__webpack_require__(71),__webpack_require__(91),__webpack_require__(63),__webpack_require__(1),__webpack_require__(42),__webpack_require__(93),__webpack_require__(2),__webpack_require__(5),__webpack_require__(94),__webpack_require__(10),__webpack_require__(6);var axios=__webpack_require__(13),axios_default=__webpack_require__.n(axios),moveTo=__webpack_require__(34),moveTo_default=__webpack_require__.n(moveTo),query_string=__webpack_require__(49),query_string_default=__webpack_require__.n(query_string),accordion=__webpack_require__(57);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var AvatarForm=function(){function AvatarForm(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarForm),this.element=element,this.hasAvatarPreview=!1,this.input=this.element.querySelector('input[name="my-image"]'),this.hiddenInput=this.element.querySelector('input[name="avatar"]'),this.text=this.element.querySelector(".js-feedback-avatar-text"),this.textSpan=this.text.querySelector("span"),this.textSvg=this.text.querySelector("svg"),this.preview=this.element.querySelector(".js-feedback-avatar-preview"),this.defaultPreview=this.preview.innerHTML,this.bindEvents()}return _createClass(AvatarForm,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=_toConsumableArray(container.querySelectorAll(".js-feedback-avatar"));return elements.forEach(function(element){new AvatarForm(element)})}}]),_createClass(AvatarForm,[{key:"bindEvents",value:function(){var _this=this;this.text.addEventListener("click",function(e){_this.hasAvatarPreview&&(e.preventDefault(),_this.input.value="",_this.hiddenInput.value="",_this.preview.innerHTML=_this.defaultPreview,_this.textSpan.innerText="Загрузить фото",_this.textSvg.style.display="none",_this.element.classList.remove("is-active"),_this.hasAvatarPreview=!1)}),this.input.addEventListener("change",function(event){var files=_toConsumableArray(event.target.files);if(files&&files[0]){var reader=new FileReader;reader.onload=function(){var image=document.createElement("img");image.src=reader.result,_this.hiddenInput.value=reader.result,_this.preview.innerHTML="",_this.preview.appendChild(image),_this.textSpan.innerText="Сбросить фото",_this.textSvg.style.display="",_this.element.classList.add("is-active"),_this.hasAvatarPreview=!0},reader.readAsDataURL(files[0])}})}}]),AvatarForm}(),perfect_scrollbar_esm=(__webpack_require__(47),__webpack_require__(27),__webpack_require__(44));__webpack_require__(21),__webpack_require__(12),__webpack_require__(116),__webpack_require__(48);function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function feedback_form_upload_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function feedback_form_upload_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var FeedbackFormUpload=function(){function FeedbackFormUpload(formController){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FeedbackFormUpload),this.controller=formController,this.uploadInput=this.controller.form.querySelector(".js-upload-input"),this.uploadPreviewsContainer=this.controller.form.querySelector(".js-upload-previews"),this.uploadErrorsContainer=this.controller.form.querySelector(".js-upload-errors"),this.uploads={},this.uploadsCount=0,this.bindEvents()}var Constructor,protoProps,staticProps;return Constructor=FeedbackFormUpload,(protoProps=[{key:"bindEvents",value:function(){var _this=this;this.uploadInput&&this.uploadInput.addEventListener("change",function(e){feedback_form_upload_toConsumableArray(e.target.files).forEach(function(file){var extension=file.name.split(".").pop().toLowerCase(),reader=new FileReader;reader.onload=function(){_this.uploadsCount++;var image="";["jpg","png","gif"].includes(extension)&&(image='<img class="thumb" src="'.concat(reader.result,'" />'));var preview=_this.createItemPreview(extension,image);_this.uploads[_this.uploadsCount]={preview:preview,file:file},_this.uploadPreviewsContainer.appendChild(preview),_this.bindPreviewEvents(preview,_this.uploadsCount),_this.validateUploadsSize()},reader.readAsDataURL(file)}),_this.uploadInput.value=""})}},{key:"bindPreviewEvents",value:function(element,uploadIndex){var _this2=this;element.querySelector(".attached-file__close").addEventListener("click",function(e){[_this2.uploads[uploadIndex].preview].forEach(function(el){el.parentNode.removeChild(el)}),delete _this2.uploads[uploadIndex],_this2.uploadsCount--,_this2.validateUploadsSize()})}},{key:"createItemPreview",value:function(fileExtension,image){var previewContainer=document.createElement("div");return previewContainer.className="attached-file",previewContainer.setAttribute("data-file-index",this.uploadsCount),previewContainer.innerHTML='\n      <div class="attached-file__close">\n        <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">\n          <path stroke="#071321" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1l8 8M9 1L1 9"/>\n        </svg>\n      </div>\n      <div class="attached-file__img">\n        '.concat(image||"",'\n        <div class="attached-file__tag">').concat(fileExtension,'</div>\n      </div>\n      <div class="attached-file__title">').concat(this.getTitle(fileExtension),"</div>\n    "),previewContainer}},{key:"getTitle",value:function(fileExtension){return["jpg","png","webp","gif"].includes(fileExtension)?"Изображение":["txt","docx","doc","pdf"].includes(fileExtension)?"Документ":["xlsx","xls"].includes(fileExtension)?"Таблица":["ppt","pps","pptx"].includes(fileExtension)?"Презентация":"Файл"}},{key:"validateUploadsSize",value:function(){var fileSize=0;Object.entries(this.uploads).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),value=(_ref2[0],_ref2[1]);fileSize+=value.file.size}),fileSize/1024/1024>3?(this.uploadErrorsContainer.innerHTML="Размер прикрепленных файлов не должен превышать 3мб",this.uploadErrorsContainer.style.display="",this.controller.formSubmit.disabled=!0):(this.uploadErrorsContainer.innerHTML="",this.uploadErrorsContainer.style.display="none",this.controller.validateForm())}},{key:"clear",value:function(){this.uploadsCount=0,this.uploads=[],this.uploadPreviewsContainer.innerHTML="",this.uploadErrorsContainer.innerHTML=""}},{key:"uploadedFiles",get:function(){return Object.entries(this.uploads).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2);_ref4[0];return _ref4[1].file})}}])&&feedback_form_upload_defineProperties(Constructor.prototype,protoProps),staticProps&&feedback_form_upload_defineProperties(Constructor,staticProps),FeedbackFormUpload}(),tabs=__webpack_require__(51),content_search_helpers=__webpack_require__(25);__webpack_require__(26);function validation_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var requiredValidation=function(form){return!validation_toConsumableArray(form.elements).find(function(element){if(element.hasAttribute("required")){if(["input","textarea"].includes(element.type))return!(element.value||"0"===element.value);if(["radio","checkbox"].includes(element.type))return!element.checked}})},setFormState=__webpack_require__(70),helpers_request=__webpack_require__(60);function feedback_form_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function feedback_form_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var feedback_form_FeedbackForm=function(){function FeedbackForm(element,controller){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FeedbackForm),this.form=element,this.controller=controller,this.url=this.form.getAttribute("action"),this.formSetAuthType=feedback_form_toConsumableArray(this.controller.feedbackModal.querySelectorAll(".js-auth-type")),this.logout=this.controller.feedbackModal.querySelector(".js-logout"),this.formInputs=feedback_form_toConsumableArray(this.form.elements),this.formSubmit=this.form.querySelector('[type="submit"]'),this.formAuthType=this.form.querySelector('[name="auth-type"]'),this.socialsAuth=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-social-auth")),this.formMessages=this.form.querySelector(".js-feedback-messages"),this.loggedSections=feedback_form_toConsumableArray(this.controller.feedbackModal.querySelectorAll(".js-comments-logged")),this.notLoggedSections=feedback_form_toConsumableArray(this.controller.feedbackModal.querySelectorAll(".js-comments-not-logged")),this.hideForGuestSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-guest")),this.hideForCommentSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-comment")),this.hideForNewsSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-news")),this.hideForArticleSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-articles")),this.hideForInterviewSections=feedback_form_toConsumableArray(this.form.querySelectorAll(".js-hide-for-interview")),this.uploadController=new FeedbackFormUpload(this),this.ps=new perfect_scrollbar_esm.a(this.form,{suppressScrollX:!0}),this.initTabs(),this.bindEvents(),this.bindModalTriggersEvents()}var Constructor,protoProps,staticProps;return Constructor=FeedbackForm,(protoProps=[{key:"bindEvents",value:function(){var _this=this;this.controller.feedbackModal.addEventListener("hidden.bs.modal-n-2",function(){feedback_form_toConsumableArray(_this.form.querySelectorAll(".input-container-n-2__error")).forEach(function(el){el.innerText=""})}),this.formInputs.forEach(function(el){el.addEventListener("blur",function(){_this.validateField(el,el.name)})}),this.formSetAuthType.forEach(function(el){el.addEventListener("click",function(){var authType=el.getAttribute("data-auth-type");_this.formAuthType.value=authType,_this.hideForGuestSections.forEach(function(element){"guest"===authType?element.classList.add("hidden"):element.classList.remove("hidden")})})}),this.socialsAuth.forEach(function(el){el.addEventListener("click",function(event){return event.preventDefault(),_this.handleSocialAuth(el.getAttribute("data-provider"))})}),this.logout&&this.logout.addEventListener("click",function(event){return event.preventDefault(),axios_default.a.get("/ajax/comments_logout.php").then(function(response){response.data.success&&(_this.loggedSections.forEach(function(el){el.classList.add("hidden")}),_this.notLoggedSections.forEach(function(el){el.classList.remove("hidden")}),_this.uploadController.clear())})}),this.form.addEventListener("change",function(e){_this.validateForm()}),this.form.addEventListener("submit",function(event){return event.preventDefault(),_this.handleSubmit()})}},{key:"bindModalTriggersEvents",value:function(){var _this2=this;this.controller.feedbackModalTriggers.forEach(function(el){el.addEventListener("click",function(){var formState={type:el.getAttribute("data-type"),"element-id":el.getAttribute("data-element-id"),review:el.getAttribute("data-review"),"review-top":el.getAttribute("data-review-top")};switch(Object(setFormState.a)(_this2.form,formState),_this2.hideForCommentSections.forEach(function(element){el.hasAttribute("review")?element.classList.add("hidden"):element.classList.remove("hidden")}),el.getAttribute("data-type")){case"news":_this2.hideForNewsSections.forEach(function(element){return element.classList.add("hidden")});break;case"articles":_this2.hideForArticleSections.forEach(function(element){return element.classList.add("hidden")});break;case"interview":_this2.hideForInterviewSections.forEach(function(element){return element.classList.add("hidden")})}})})}},{key:"handleSubmit",value:function(){var _this3=this;if(this.formMessages.innerHTML="",this.formInputs.forEach(function(el){_this3.validateField(el,el.name)}),this.error)return!1;this.formSubmit.disabled=!0;var formData=Object(helpers_request.b)(Object(content_search_helpers.b)(this.form,{hash:!0}));return this.uploadController.uploadedFiles.forEach(function(file){formData.append("files_array[]",file)}),axios_default.a.post(this.url,formData).then(function(response){var data=response.data,error=data.error,success=data.success,action=data.action;error?_this3.formMessages.innerHTML=error.reduce(function(acc,value){return acc+value}):success&&(_this3.form.reset(),_this3.controller.onSuccess()),action&&["afterRegister","afterAuth"].includes(action)&&(_this3.loggedSections.forEach(function(el){el.classList.remove("hidden")}),_this3.notLoggedSections.forEach(function(el){el.classList.add("hidden")}))}).finally(function(){_this3.formSubmit.disabled=!1})}},{key:"handleSocialAuth",value:function(provider){var _this4=this,dualScreenLeft=window.screenLeft?window.screenLeft:screen.left,dualScreenTop=window.screenTop?window.screenTop:screen.top,left=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-300+dualScreenLeft,top=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-200+dualScreenTop,newWindow=window.open("/ajax/social_auth.php?auth_via="+provider+"&social=entry","Авторизация","scrollbars=yes, width=600, height=400, top="+top+", left="+left);window.focus&&newWindow.focus();var timer=setInterval(function(){newWindow.document.getElementsByClassName("game-account-user__name").length>0&&(newWindow.close(),_this4.loggedSections.forEach(function(element){element.classList.remove("hidden")}),_this4.notLoggedSections.forEach(function(element){element.classList.add("hidden")}),_this4.formAuthType.value="social",setTimeout(function(){clearInterval(timer)},100))},200)}},{key:"validateField",value:function(input,name){var _this5=this,inputValue=input.value,validate=function(predicate,onErrorText){predicate?(input.nextElementSibling.innerHTML="",input.closest(".input-container-n-2").classList.remove("with-error"),_this5.error=!1):(input.nextElementSibling.innerHTML=onErrorText,input.closest(".input-container-n-2").classList.add("with-error"),_this5.error=!0)};switch(name){case"name":validate(inputValue,"Обязательное поле");break;case"register-email":case"auth-email":validate(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(inputValue),"Введите корректный e-mail");break;case"auth-password":case"register-password":validate(inputValue&&inputValue.length>=8,"Введите минимум 8 символов");break;case"text":validate(inputValue.length>=10,"Введите минимум 10 символов")}}},{key:"initTabs",value:function(){var tabsContainer=document.querySelector(".feedback-modal__tabs");if(tabsContainer){var tabLine=tabsContainer.querySelector(".tabs-links__line"),tabLinks=feedback_form_toConsumableArray(tabsContainer.querySelectorAll(".feedback-modal .tabs-links__link[href]"));this.tabsController=new tabs.a(tabLinks,{line:tabLine,linkClass:"tabs-links__link",tabsClass:"feedback-modal__tab"}),this.tabsController.init()}}},{key:"updateTabs",value:function(){this.tabsController.line.update()}},{key:"validateForm",value:function(){this.formSubmit.disabled=!requiredValidation(this.form)}}])&&feedback_form_defineProperties(Constructor.prototype,protoProps),staticProps&&feedback_form_defineProperties(Constructor,staticProps),FeedbackForm}();function stars_form_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function stars_form_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function stars_form_createClass(Constructor,protoProps,staticProps){return protoProps&&stars_form_defineProperties(Constructor.prototype,protoProps),staticProps&&stars_form_defineProperties(Constructor,staticProps),Constructor}var StarsForm=function(){function StarsForm(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StarsForm),this.element=element,this.input=this.element.querySelector('[name="star"]'),this.resetButton=this.element.querySelector(".js-stars-reset"),this.emptyStars=stars_form_toConsumableArray(this.element.querySelectorAll(".js-stars-empty i")),this.fullStars=this.element.querySelector(".js-stars-full"),this.fullStarsWidth=0,this.bindEvents()}return stars_form_createClass(StarsForm,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=stars_form_toConsumableArray(container.querySelectorAll(".js-stars-form"));return elements.forEach(function(element){new StarsForm(element)})}}]),stars_form_createClass(StarsForm,[{key:"bindEvents",value:function(){var _this=this;this.emptyStars.forEach(function(el,index){el.addEventListener("mouseenter",function(){_this.fullStars.style.width=20*index+20+"%"}),el.addEventListener("click",function(){_this.fullStarsWidth=20*index+20+"%",_this.input.value=index+1,_this.resetButton.style.display=""})}),this.element.addEventListener("mouseout",function(){_this.fullStars.style.width=_this.fullStarsWidth}),this.resetButton.addEventListener("click",function(e){e.preventDefault(),_this.resetButton.style.display="none",_this.fullStars.style.width="0%",_this.input.value=0,_this.fullStarsWidth=0})}}]),StarsForm}(),modal=__webpack_require__(35),utils=__webpack_require__(52),review_vote=__webpack_require__(69);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function reviews_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function reviews_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function reviews_createClass(Constructor,protoProps,staticProps){return protoProps&&reviews_defineProperties(Constructor.prototype,protoProps),staticProps&&reviews_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"default",function(){return reviews_Reviews});var reviews_Reviews=function(){function Reviews(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Reviews),this.element=element,this.element.inited=!0,modal.a.init(),this.url=this.element.getAttribute("data-url"),this.reviewsTarget=this.element.querySelector(".js-reviews-target"),this.sortForm=this.element.querySelector(".js-reviews-sort-form"),this.sideForm=this.element.querySelector(".js-reviews-rate-form"),this.sideStickyContainer=this.element.querySelector("[data-sticky-container]"),this.feedbackRulesLinks=reviews_toConsumableArray(document.querySelectorAll("[data-review-rules]")),this.statusModal=document.querySelector("#modal-status"),this.feedbackModal=document.querySelector("#modal-feedback"),this.feedbackModal&&(this.feedbackModalTriggers=reviews_toConsumableArray(document.querySelectorAll('[data-target="#modal-feedback"]')),this.feedbackFormNode=this.feedbackModal.querySelector(".js-feedback-form"),this.feedbackFormNode&&(this.feedbackForm=new feedback_form_FeedbackForm(this.feedbackFormNode,this),this.feedbackModal.addEventListener("shown.bs.modal-n-2",function(e){_this.feedbackForm.updateTabs()})),AvatarForm.init(this.feedbackModal),StarsForm.init(this.feedbackModal)),this.moveTo=new moveTo_default.a,this.hasFixableHeader=!!document.querySelector(".js-fixable-header"),this.initAnswerForm(),this.initLightGallery(),this.bindEvents(),this.bindPaginationEvents()}return reviews_createClass(Reviews,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".reviews");if(element&&!element.inited)return new Reviews(element)}}]),reviews_createClass(Reviews,[{key:"bindEvents",value:function(){var _this2=this;this.sideForm&&this.sideForm.addEventListener("change",function(e){_this2.request()}),this.sortForm&&this.sortForm.addEventListener("change",function(e){_this2.request()}),this.statusModal&&this.feedbackRulesLinks.forEach(function(link){link.addEventListener("click",function(event){event.preventDefault();var rules=_this2.statusModal.querySelector(".feedback-rules"),successMessage=_this2.statusModal.querySelector(".feedback-success");successMessage&&(successMessage.style.display="none"),rules&&(rules.style.display=""),_this2.statusModal.Modal.show()})})}},{key:"bindPaginationEvents",value:function(){var _this3=this;(this.reviewsPagination=this.element.querySelector(".js-reviews-pagination"),this.reviewsPagination)&&reviews_toConsumableArray(this.reviewsPagination.querySelectorAll("a")).forEach(function(link){link.addEventListener("click",function(e){e.preventDefault();var href=link.getAttribute("href"),search=Object(utils.h)(href).search;if(search){var dataObject=query_string_default.a.parse(search),page=dataObject.page||dataObject.PAGEN_1||dataObject.PAGEN_2;return page?_this3.request(page):void 0}})})}},{key:"request",value:function(page){var _this4=this,requestData=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({page:page},this.sideForm?Object(content_search_helpers.b)(this.sideForm,{hash:!0}):{},{},this.sortForm?Object(content_search_helpers.b)(this.sortForm,{hash:!0}):{});return axios_default.a.get(this.url,{params:requestData,paramsSerializer:function(params){return query_string_default.a.stringify(params)}}).then(function(response){var data=response.data;data&&_this4.onRequest(data)})}},{key:"onRequest",value:function(data){var html=data.html;this.reviewsTarget.innerHTML=html,accordion.a.init(this.reviewsTarget),review_vote.a.init(this.reviewsTarget),this.initLightGallery(),this.initAnswerForm(),this.bindPaginationEvents(),this.moveTo.move(this.element,{tolerance:60*this.hasFixableHeader+24}),window.lazyloadInstance&&window.lazyloadInstance.update(),this.sideStickyContainer&&this.sideStickyContainer.StickyContainer&&(this.reviewsTarget.parentNode.clientHeight<=this.sideStickyContainer.clientHeight?this.sideStickyContainer.StickyContainer.disable():this.sideStickyContainer.StickyContainer.enable())}},{key:"initLightGallery",value:function(){reviews_toConsumableArray(this.element.querySelectorAll(".js-review-images")).forEach(function(el){lightGallery(el,{selector:".lg",thumbnail:!0,hash:!1,download:!1})})}},{key:"initAnswerForm",value:function(){var _this5=this;this.forms=reviews_toConsumableArray(this.element.querySelectorAll(".answer-form"));this.forms.forEach(function(form){var submit=form.querySelector('[type="submit"]');submit&&(reviews_toConsumableArray(form.elements).forEach(function(element){element.addEventListener("input",function(event){submit.disabled=!requiredValidation(form)})}),form.addEventListener("change",function(event){submit.disabled=!requiredValidation(form)})),form.addEventListener("submit",function(event){if(event.preventDefault(),requiredValidation(form)){submit&&(submit.disabled=!0);var requestData=Object(content_search_helpers.b)(form);return axios_default.a.post("/ajax/comments_send.php",requestData).then(function(response){var data=response.data,error=data.error,success=data.success;"no"===data.user_auth||Array.isArray(error)&&error.length?function(form){var serializedForm=Object(content_search_helpers.b)(form,{hash:!0});_this5.feedbackFormNode&&Object(setFormState.a)(_this5.feedbackForm.form,serializedForm),_this5.feedbackModal.Modal&&_this5.feedbackModal.Modal.show(),form.reset()}(form):success&&_this5.onSuccess(form)}).finally(function(){submit.disabled=!1})}})})}},{key:"onSuccess",value:function(form){if(form&&form.reset(),this.statusModal){var rules=this.statusModal.querySelector(".feedback-rules"),successMessage=this.statusModal.querySelector(".feedback-success");successMessage&&(successMessage.style.display=""),rules&&(rules.style.display="none"),this.statusModal.Modal.show()}try{ym(39897405,"reachGoal","Button_Submit_Feedback")}catch(e){}}}]),Reviews}()},205:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(26),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var pubsub=__webpack_require__(15),pubsub_default=__webpack_require__.n(pubsub),zoom=(__webpack_require__(21),__webpack_require__(56)),fullscreen=__webpack_require__(67),lazyload_script=__webpack_require__(46),getPolygonCenter=(__webpack_require__(27),__webpack_require__(208),__webpack_require__(190)),infrastructure_module=__webpack_require__(191);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Points=[],yandex_YandexInfrastructureModule=function(_InfrastructureModule){function YandexInfrastructureModule(options){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,YandexInfrastructureModule),(_this=_possibleConstructorReturn(this,_getPrototypeOf(YandexInfrastructureModule).call(this,options))).yandexFirmsKey="81fd4d74-8f99-4223-b3a9-ced2137399e7",_this.init(),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(YandexInfrastructureModule,infrastructure_module["a"]),Constructor=YandexInfrastructureModule,(protoProps=[{key:"init",value:function(){var _this2=this;this.createHintLayout(),this.infrastructureManager=new window.ymaps.ObjectManager({clusterize:!1,gridSize:32,viewportMargin:0}),this.infrastructureManager.objects.options.set({hintLayout:this.hintLayout,hintZIndex:9999}),this.ecoPointsManager=new window.ymaps.ObjectManager({clusterize:!1,gridSize:32,viewportMargin:0}),this.ecoPointsManager.objects.options.set({hintLayout:this.hintLayout,hintHideDelay:0,hintShowTimeout:0,hintZIndex:9999}),this.map.events.add("boundschange",function(event){event.get("newZoom")!==event.get("oldZoom")&&_this2.ecoPointsManager.objects.options.set("iconLayout",event.get("newZoom")>=13?"default#image":"")}),this.ecoManager=new window.ymaps.ObjectManager,this.ecoManager.objects.options.set({hintLayout:this.hintLayout,hintHideDelay:0,hintShowTimeout:0,hintZIndex:9999})}},{key:"handleInfrastructureChange",value:function(event){var _this3=this,target=event.currentTarget,type=target.value;0===this.cache.infrastructure[type].length?this.infrastructureRequest(type).then(function(data){return _this3.onInfrastructureRequest(data,type)}).then(function(){return _this3.togglePoints(type,target.checked)}):this.togglePoints(type,target.checked)}},{key:"onInfrastructureRequest",value:function(data,type){if(data&&data.properties&&data.properties.ResponseMetaData&&data.properties.ResponseMetaData.SearchResponse&&data.properties.ResponseMetaData.SearchResponse.found){var features=data.features;for(var key in features)if(features.hasOwnProperty(key)){var feature=features[key];this.cache.infrastructure[type].push({type:"Feature",id:feature.properties.CompanyMetaData.id,geometry:{type:"Point",coordinates:[feature.geometry.coordinates[1],feature.geometry.coordinates[0]]},options:{iconLayout:"default#image",iconImageSize:[38,38],iconImageHref:this.infrastructureIcon[type]},properties:{name:feature.properties.name},fillColor:"#1B6BC6",strokeColor:"#fff",opacity:.5})}}}},{key:"togglePoints",value:function(type,checked){checked?this.appendArray(Points,this.cache.infrastructure[type]):(this.removeArray(Points,this.cache.infrastructure[type]),this.infrastructureManager.remove(this.cache.infrastructure[type])),this.infrastructureManager.add(Points),this.map.geoObjects.add(this.infrastructureManager)}},{key:"handleEcologyChange",value:function(){var _this4=this;this.ecologyRequest().then(function(data){return _this4.onEcologyRequest(data)}).then(function(){return _this4.updateEcologyPolygons()})}},{key:"addEcologyPolygon",value:function(type){var _this5=this,objects=this.cache.ecology[type];objects&&objects.length&&(objects.map(function(item){"Polygon"===item.geometry.type&&_this5.ecoPointsManager.add({type:"Feature",id:item.id,options:{iconImageSize:[30,40],iconImageOffset:[-12,-25],iconImageHref:item.options.iconImageHref},geometry:{type:"Point",coordinates:Object(getPolygonCenter.a)(item.geometry.coordinates[0])},properties:{name:item.properties.name,description:item.properties.description}})}),this.ecoManager.add(this.cache.ecology[type]),this.ecoPointsManager.objects.options.set("iconLayout",this.map.getZoom()>=13?"default#image":""),this.map.geoObjects.add(this.ecoManager),this.map.geoObjects.add(this.ecoPointsManager))}},{key:"removeEcologyPolygons",value:function(){this.ecoPointsManager.removeAll(),this.ecoManager.removeAll(),this.infrastructureManager&&this.map.geoObjects.add(this.infrastructureManager)}},{key:"createHintLayout",value:function(){this.hintLayout=window.ymaps.templateLayoutFactory.createClass('\n      <div class="placement-map-hint rounded-md">\n        <span class="text-sm text-w-medium text-nowrap">{{ properties.name }}</span>\n      </div>',{getShape:function(){var result,el=this.getElement();if(result=null,el){var firstChild=el.firstChild;result=new window.ymaps.shape.Rectangle(new window.ymaps.geometry.pixel.Rectangle([[0,0],[firstChild.offsetWidth,firstChild.offsetHeight]]))}return result}})}},{key:"getMapBounds",value:function(){var bounds=this.map.getBounds();return bounds[1][1]-bounds[0][1]<.15&&(bounds[1][1]+=.075,bounds[0][1]-=.075,bounds[1][0]+=.02,bounds[0][0]-=.02),bounds.reduce(function(prev,current,i){return"".concat(prev).concat(i>0?",":"").concat(current[0],",").concat(current[1])},"")}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),YandexInfrastructureModule}();function infrastructure_map_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var infrastructure_map_InfrastructureMap=function(){function InfrastructureMap(element){var _this=this;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InfrastructureMap),element){this.imageLink="localhost"===window.location.hostname?"/static/img/minified-svg/":"/build-redesign/static/img/minified-svg/",this.element=element,this.mapContainer=element.querySelector(".infrastructure-map__map");var mediaQuery=matchMedia("(max-width: ".concat(this.mobileVieportWidth,"px)"));mediaQuery.addListener(function(matches){return _this.handleMediaChange(matches)}),this.handleMediaChange(mediaQuery);var polygon=this.element.getAttribute("data-map-polygon");this.polygon=polygon?JSON.parse(polygon):[],this.yandexFirmsKey="81fd4d74-8f99-4223-b3a9-ced2137399e7",Object(lazyload_script.a)({elements:[this.element],observerMargin:100,onLoad:function(){return _this.bindMapEvents()},scriptSrc:"https://api-maps.yandex.ru/2.1/?lang=ru_RU&onload=ymapsBroadcast&apikey=81fd4d74-8f99-4223-b3a9-ced2137399e7",scriptUniqueSelector:"api-maps.yandex"})}}var Constructor,protoProps,staticProps;return Constructor=InfrastructureMap,(protoProps=[{key:"bindMapEvents",value:function(){var _this2=this;window.ymaps?(this.ymaps=window.ymaps,this.initMap()):window.ymapsObserver.subscribe(function(){_this2.ymaps=window.ymaps,_this2.initMap()})}},{key:"initMap",value:function(){this.fullscreenControl=Object(fullscreen.a)({ymaps:this.ymaps,position:{top:"112px",right:"20px"}}),this.zoomControl=Object(zoom.a)(this.ymaps,{top:"20px",right:"20px"}),this.setMapControls(),this.map=new this.ymaps.Map(this.mapContainer,{center:[55.7156053517751,37.4754233558197],zoom:16,controls:[]},{suppressMapOpenBlock:!0,maxZoom:16,minZoom:10}),this.map.controls.add(this.fullscreenControl),this.map.controls.add(this.zoomControl),this.map.behaviors.disable("scrollZoom"),this.isMobile&&this.map.behaviors.disable("drag"),this.createHintLayout(),this.initialData(),this.infrastructureModule=new yandex_YandexInfrastructureModule({container:this.element,map:this.map,polygon:this.polygon})}},{key:"handleMediaChange",value:function(mediaQuery){var nextDeviceType=mediaQuery.matches?"mobile":"desktop";nextDeviceType!==this.deviceType&&(this.deviceType=nextDeviceType,this.setMapControls())}},{key:"setMapControls",value:function(){this.fullscreenControl&&("desktop"===this.deviceType?(this.fullscreenControl.options.set("position",{top:"112px",right:"20px"}),this.zoomControl.options.set("position",{top:"20px",right:"20px"})):(this.fullscreenControl.options.set("position",{top:"100px",right:"12px"}),this.zoomControl.options.set("position",{top:"18px",right:"12px"})))}},{key:"createHintLayout",value:function(){this.hintLayout=this.ymaps.templateLayoutFactory.createClass('\n      <div class="placement-map-hint text-md rounded-md"><span class="text-w-medium text-nowrap">{{ properties.name }}</span></div>\n    ')}},{key:"initialData",value:function(){var _this3=this;this.complexCollection=new this.ymaps.GeoObjectCollection;var name=this.element.getAttribute("data-complex-name");if(this.polygon.length){var myPolygon=new this.ymaps.GeoObject({geometry:{type:"Polygon",coordinates:this.polygon},properties:{name:name}},{fillColor:"#1B6BC6",strokeColor:"#fff",opacity:.5,hintLayout:this.hintLayout});this.complexCollection.add(myPolygon),this.map.geoObjects.add(this.complexCollection),this.map.setBounds(this.complexCollection.getBounds(),{checkZoomRange:!0,zoomMargin:10,zoom:16})}setTimeout(function(){var mapCenter=_this3.map.getCenter(),placeMark=new _this3.ymaps.Placemark(mapCenter,{name:name},{iconLayout:"default#image",iconImageHref:"".concat(_this3.imageLink,"ico-complex-on-map.svg"),iconImageSize:[32,43],iconImageOffset:[-15,-45],zIndex:9e3,id:"zoomMark",visible:!1,hintLayout:_this3.hintLayout});_this3.map.geoObjects.add(placeMark),_this3.map.events.add("boundschange",function(event){var newZoom=event.get("newZoom");placeMark.options.set("visible",newZoom<15)})},5e3)}},{key:"coords",get:function(){var myCoords=this.polygon[0]&&this.polygon[0][0]?this.polygon[0][0]:[],bounds=this.map.getBounds();return bounds[1][1]-bounds[0][1]<.15&&(bounds[1][1]=myCoords[1]+.075,bounds[0][1]=myCoords[1]-.075,bounds[1][0]=myCoords[0]+.02,bounds[0][0]=myCoords[0]-.02),bounds.reduce(function(prev,current,i){return"".concat(prev).concat(i>0?",":"").concat(current[0],",").concat(current[1])},"")}},{key:"mobileVieportWidth",get:function(){return 768}},{key:"isMobile",get:function(){return"mobile"===this.deviceType}}])&&infrastructure_map_defineProperties(Constructor.prototype,protoProps),staticProps&&infrastructure_map_defineProperties(Constructor,staticProps),InfrastructureMap}(),tabs=__webpack_require__(51),perfect_scrollbar_esm=__webpack_require__(44);function draggable_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Draggable=function(){function Draggable(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Draggable),this.element=element,element.hasAttribute("data-draggable")||element.setAttribute("data-draggable",""),this.state={clicked:!1,clickX:0,startX:element.scrollLeft},this.bindHandlers()}var Constructor,protoProps,staticProps;return Constructor=Draggable,(protoProps=[{key:"bindHandlers",value:function(){var _this=this;this.element.addEventListener("mousemove",function(event){if(_this.state.clicked){var diff=_this.state.clickX-event.pageX;_this.scroll(diff)}}),this.element.addEventListener("mousedown",function(event){_this.state.clicked=!0,_this.state.clickX=event.pageX,_this.state.startX=_this.element.scrollLeft,_this.element.setAttribute("data-draggable","active")}),document.addEventListener("mouseup",function(){_this.state.clicked=!1,_this.element.setAttribute("data-draggable","")})}},{key:"scroll",value:function(diff){this.element.scrollLeft=this.state.startX+diff}}])&&draggable_defineProperties(Constructor.prototype,protoProps),staticProps&&draggable_defineProperties(Constructor,staticProps),Draggable}(),constants=__webpack_require__(11);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function infrastructure_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function infrastructure_createClass(Constructor,protoProps,staticProps){return protoProps&&infrastructure_defineProperties(Constructor.prototype,protoProps),staticProps&&infrastructure_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.d(__webpack_exports__,"default",function(){return infrastructure_Infrastructure});var infrastructure_Infrastructure=function(){function Infrastructure(element){var _this=this;(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Infrastructure),this.element=element,this.tabsContainer=element.querySelector(".tabs-links"),this.tabsContainer)?(this.tabsWrapper=element.querySelector(".tabs-links__wrapper"),this.tabs={links:_toConsumableArray(element.querySelectorAll(".tabs-links__link")),line:element.querySelector(".tabs-links__line")},this.tabsController=new tabs.a(this.tabs.links,{line:this.tabs.line,linkClass:"tabs-links__link",tabsClass:"infrastructure-n-2-tabs__tab",callback:this.handleTabChange.bind(this)}),this.tabsController.init(),this.ps=new perfect_scrollbar_esm.a(this.tabsWrapper,{useBothWheelAxes:!0}),this.tabsContainer.classList.add("tabs-links_scrollable"),this.draggable=new Draggable(this.tabsWrapper)):document.querySelector(".infrastructure-n-2__tabs")&&(this.tabsController=new tabs.a(_toConsumableArray(element.querySelectorAll(".button-item")),{linkClass:"button-item",tabsClass:"infrastructure-n-2-tabs__tab",callback:this.handleTabChange.bind(this)}),this.tabsController.init());pubsub_default.a.subscribe(constants.j,function(){_this.tabsController.state.prevLink.dispatchEvent(new CustomEvent("click"))}),this.map=element.querySelector(".infrastructure-map"),this.streetView=element.querySelector(".street-view"),this.infrastructureMap=new infrastructure_map_InfrastructureMap(this.map),this.switches={infrastructure:element.querySelector("#infrastructure"),ecology:element.querySelector("#ecology")},this.views=[{key:"streetview",node:element.querySelector("#streetview")},{key:"panorama",node:element.querySelector("#panorama")}],this.state={containerActive:this.map,activeWrap:this.tabsController.activeTab}}return infrastructure_createClass(Infrastructure,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".infrastructure-n-2");if(element)return new Infrastructure(element)}}]),infrastructure_createClass(Infrastructure,[{key:"handleTabChange",value:function(tab){if(tab){var type=tab.getAttribute("data-type");type&&this.beforeWrapperToggle(type)}}},{key:"beforeWrapperToggle",value:function(type){switch(type){case"infrastructure":case"ecology":this.toggleActiveWrapper("switches",type);break;case"streetview":case"panorama":this.toggleActiveWrapper("views",type)}}},{key:"toggleActiveWrapper",value:function(category,type){if(this.state.activeWrap.classList.remove("is-active"),"views"===category){this.map&&this.map.classList.add("is-hidden");var nextTab=this.views.find(function(view){return view.key===type}).node;nextTab&&this.streetView&&(nextTab.classList.add("is-active"),this.state.activeWrap=nextTab)}else"switches"===category&&this.map&&this.map.classList.remove("is-hidden");this.fireResizeEvent()}},{key:"fireResizeEvent",value:function(){var event=new CustomEvent("resize");window.dispatchEvent(event)}}]),Infrastructure}()},229:function(module,exports){var ElementProto;"function"!=typeof(ElementProto=window.Element.prototype).matches&&(ElementProto.matches=ElementProto.msMatchesSelector||ElementProto.mozMatchesSelector||ElementProto.webkitMatchesSelector||function(selector){for(var elements=(this.document||this.ownerDocument).querySelectorAll(selector),index=0;elements[index]&&elements[index]!==this;)++index;return Boolean(elements[index])}),"function"!=typeof ElementProto.closest&&(ElementProto.closest=function(selector){for(var element=this;element&&1===element.nodeType;){if(element.matches(selector))return element;element=element.parentNode}return null})},230:function(module,exports){!function(){if("function"==typeof window.CustomEvent)return!1;function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}()},25:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return queryStringify}),__webpack_require__.d(__webpack_exports__,"b",function(){return serialize});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(4),__webpack_require__(43),__webpack_require__(102),__webpack_require__(27),__webpack_require__(1),__webpack_require__(77),__webpack_require__(2),__webpack_require__(5),__webpack_require__(76),__webpack_require__(36),__webpack_require__(6);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var has=Object.prototype.hasOwnProperty,queryStringify=function(obj,prefix){prefix=prefix||"";var value,key,pairs=[];for(key in"string"!=typeof prefix&&(prefix="?"),obj)has.call(obj,key)&&((value=obj[key])||null!=value&&!isNaN(value)||(value=""),pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(value)));return pairs.length?prefix+pairs.join("&"):""},submitters=/^(?:submit|button|image|reset|file)$/i,controls=/^(?:input|select|textarea|keygen)/i,serialize=function(form,options){"object"!=_typeof(options)?options={hash:!!options}:options.hash||(options.hash=!0);for(var result=options.hash?{}:"",serializer=options.serializer||(options.hash?hashSerialized:stringSerializer),elements=form&&form.elements?form.elements:[],radioStore=Object.create(null),i=0;i<elements.length;++i){var element=elements[i];if((options.disabled||!element.disabled)&&element.name&&(controls.test(element.nodeName)&&!submitters.test(element.type))){var key=element.name,val=void 0;if(element.classList.contains("range-block-n-2__input-before")||element.classList.contains("range-block-n-2__input-after")){var parent=element.closest(".range-block-n-2");parent&&parent.RangeSelect&&parent.RangeSelect.trueValues?element.classList.contains("range-block-n-2__input-before")?val=element.hasAttribute("data-number-thousands")?element.value:parent.RangeSelect.trueValues.inputBefore:element.classList.contains("range-block-n-2__input-after")&&(val=element.hasAttribute("data-number-thousands")?element.value:parent.RangeSelect.trueValues.inputAfter):val=element.mask?element.mask.unmaskedValue:element.value}else val=element.mask?element.mask.unmaskedValue:element.value;if("checkbox"!==element.type&&"radio"!==element.type||element.checked||(val=void 0),options.empty){if("checkbox"!==element.type||element.checked||(val=""),"radio"===element.type&&(radioStore[element.name]||element.checked?element.checked&&(radioStore[element.name]=!0):radioStore[element.name]=!1),!val&&"radio"===element.type)continue}else if(!val)continue;if("select-multiple"!==element.type)result=serializer(result,key,val);else{val=[];for(var selectOptions=element.options,isSelectedOptions=!1,j=0;j<selectOptions.length;++j){var option=selectOptions[j],allowedEmpty=options.empty&&!option.value,hasValue=option.value||allowedEmpty;option.selected&&hasValue&&(isSelectedOptions=!0,result=options.hash&&"[]"!==key.slice(key.length-2)?serializer(result,key+"[]",option.value):serializer(result,key,option.value))}!isSelectedOptions&&options.empty&&(result=serializer(result,key,""))}}}if(options.empty)for(var _key in radioStore)radioStore[_key]||(result=serializer(result,_key,""));return result};function hashSerialized(result,key,value){var existing=result[key];return existing?(Array.isArray(existing)||(result[key]=[existing]),result[key].push(value)):result[key]=value,result}function stringSerializer(result,key,value){return value=value.replace(/(\r)?\n/g,"\r\n"),value=(value=encodeURIComponent(value)).replace(/%20/g,"+"),result+(result?"&":"")+encodeURIComponent(key)+"="+value}},261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(21),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(42),__webpack_require__(2),__webpack_require__(5),__webpack_require__(48),__webpack_require__(10),__webpack_require__(6);var arr,args,pubsub=__webpack_require__(15),pubsub_default=__webpack_require__.n(pubsub);__webpack_require__(227),__webpack_require__(228),__webpack_require__(229),__webpack_require__(230);arr=[window.Element,window.CharacterData,window.DocumentType],args=[],arr.forEach(function(item){item&&args.push(item.prototype)}),args.forEach(function(item){item.hasOwnProperty("remove")||Object.defineProperty(item,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})});__webpack_require__(144),__webpack_require__(71),__webpack_require__(63);Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(target,firstSource){if(null==target)throw new TypeError("Cannot convert first argument to object");for(var to=Object(target),i=1;i<arguments.length;i++){var nextSource=arguments[i];if(null!=nextSource)for(var keysArray=Object.keys(Object(nextSource)),nextIndex=0,len=keysArray.length;nextIndex<len;nextIndex++){var nextKey=keysArray[nextIndex],desc=Object.getOwnPropertyDescriptor(nextSource,nextKey);void 0!==desc&&desc.enumerable&&(to[nextKey]=nextSource[nextKey])}}return to}}),Array.prototype.forEach||(Array.prototype.forEach=function(callback,thisArg){var T,k;if(null==this)throw new TypeError(" this is null or not defined");var O=Object(this),len=O.length>>>0;if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(arguments.length>1&&(T=thisArg),k=0;k<len;){var kValue;k in O&&(kValue=O[k],callback.call(T,kValue,k,O)),k++}});__webpack_require__(101),__webpack_require__(76),__webpack_require__(43),__webpack_require__(12),__webpack_require__(102),__webpack_require__(77),__webpack_require__(36);var utils={getAttribute:function(el,label){return el[label]},setAttribute:function(el,label,value){el[label]=value},wrap:function(el,className){if(el){var wrapper=document.createElement("div");wrapper.className=className,el.parentNode.insertBefore(wrapper,el),el.parentNode.removeChild(el),wrapper.appendChild(el)}},addClass:function(el,className){el&&(el.classList?el.classList.add(className):el.className+=" "+className)},removeClass:function(el,className){el&&(el.classList?el.classList.remove(className):el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(el,className){return el.classList?el.classList.contains(className):new RegExp("(^| )"+className+"( |$)","gi").test(el.className)},setVendor:function(el,property,value){el&&(el.style[property.charAt(0).toLowerCase()+property.slice(1)]=value,el.style["webkit"+property]=value,el.style["moz"+property]=value,el.style["ms"+property]=value,el.style["o"+property]=value)},trigger:function(el,event){var detail=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(el){var customEvent=new CustomEvent(event,{detail:detail});el.dispatchEvent(customEvent)}},Listener:{uid:0},on:function(el,events,fn){var _this=this;el&&events.split(" ").forEach(function(event){var _id=_this.getAttribute(el,"lg-event-uid")||"";utils.Listener.uid++,_id+="&"+utils.Listener.uid,_this.setAttribute(el,"lg-event-uid",_id),utils.Listener[event+utils.Listener.uid]=fn,el.addEventListener(event.split(".")[0],fn,!1)})},off:function(el,event){if(el){var _id=this.getAttribute(el,"lg-event-uid");if(_id){_id=_id.split("&");for(var i=0;i<_id.length;i++)if(_id[i]){var _event=event+_id[i];if("."===_event.substring(0,1))for(var key in utils.Listener)utils.Listener.hasOwnProperty(key)&&key.split(".").indexOf(_event.split(".")[1])>-1&&(el.removeEventListener(key.split(".")[0],utils.Listener[key]),this.setAttribute(el,"lg-event-uid",this.getAttribute(el,"lg-event-uid").replace("&"+_id[i],"")),delete utils.Listener[key]);else el.removeEventListener(_event.split(".")[0],utils.Listener[_event]),this.setAttribute(el,"lg-event-uid",this.getAttribute(el,"lg-event-uid").replace("&"+_id[i],"")),delete utils.Listener[_event]}}}},param:function(obj){return Object.keys(obj).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(obj[k])}).join("&")}},lg_utils=utils;!function(){if("function"==typeof window.CustomEvent)return!1;function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}(),window.utils=lg_utils,window.lgData={uid:0},window.lgModules={};var defaults={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};function Plugin(element,options){if(this.el=element,this.s=Object.assign({},defaults,options),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.items=[],this.s.dynamic?this.items=this.s.dynamicEl:"this"===this.s.selector?this.items.push(this.el):""!==this.s.selector?this.s.selectWithin?this.items=document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector):this.items=this.el.querySelectorAll(this.s.selector):this.items=this.el.children,this.___slide="",this.outer="",this.init(),this}Plugin.prototype.init=function(){var _this=this;_this.s.preload>_this.items.length&&(_this.s.preload=_this.items.length);var _hash=window.location.hash;if(_hash.indexOf("lg="+this.s.galleryId)>0&&(_this.index=parseInt(_hash.split("&slide=")[1],10),lg_utils.addClass(document.body,"lg-from-hash"),lg_utils.hasClass(document.body,"lg-on")||(lg_utils.addClass(document.body,"lg-on"),setTimeout(function(){_this.build(_this.index)}))),_this.s.dynamic)lg_utils.trigger(this.el,"onBeforeOpen"),_this.index=_this.s.index||0,lg_utils.hasClass(document.body,"lg-on")||(lg_utils.addClass(document.body,"lg-on"),setTimeout(function(){_this.build(_this.index)}));else for(var i=0;i<_this.items.length;i++)!function(index){lg_utils.on(_this.items[index],"click.lgcustom",function(e){e.preventDefault(),lg_utils.trigger(_this.el,"onBeforeOpen"),_this.index=_this.s.index||index,lg_utils.hasClass(document.body,"lg-on")||(_this.build(_this.index),lg_utils.addClass(document.body,"lg-on"))})}(i)},Plugin.prototype.build=function(index){var _this=this;for(var key in _this.structure(),window.lgModules)_this.modules[key]=new window.lgModules[key](_this.el);_this.slide(index,!1,!1),_this.s.keyPress&&_this.keyPress(),_this.items.length>1&&(_this.arrow(),setTimeout(function(){_this.enableDrag(),_this.enableSwipe()},50),_this.s.mousewheel&&_this.mousewheel()),_this.counter(),_this.closeGallery(),lg_utils.trigger(_this.el,"onAfterOpen"),lg_utils.on(_this.outer,"mousemove.lg click.lg touchstart.lg",function(){lg_utils.removeClass(_this.outer,"lg-hide-items"),clearTimeout(_this.hideBartimeout),_this.hideBartimeout=setTimeout(function(){lg_utils.addClass(_this.outer,"lg-hide-items")},_this.s.hideBarsDelay)})},Plugin.prototype.structure=function(){var template,list="",controls="",i=0,subHtmlCont="",_this=this;for(document.body.insertAdjacentHTML("beforeend",'<div class="lg-backdrop"></div>'),lg_utils.setVendor(document.querySelector(".lg-backdrop"),"TransitionDuration",this.s.backdropDuration+"ms"),i=0;i<this.items.length;i++)list+='<div class="lg-item"></div>';if(this.s.controls&&this.items.length>1&&(controls='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(subHtmlCont='<div class="lg-sub-html"></div>'),template='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+list+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+controls+subHtmlCont+"</div></div>",document.body.insertAdjacentHTML("beforeend",template),this.outer=document.querySelector(".lg-outer"),this.___slide=this.outer.querySelectorAll(".lg-item"),this.s.useLeft?(lg_utils.addClass(this.outer,"lg-use-left"),this.s.mode="lg-slide"):lg_utils.addClass(this.outer,"lg-use-css3"),_this.setTop(),lg_utils.on(window,"resize.lg orientationchange.lg",function(){setTimeout(function(){_this.setTop()},100)}),lg_utils.addClass(this.___slide[this.index],"lg-current"),this.doCss()?lg_utils.addClass(this.outer,"lg-css3"):(lg_utils.addClass(this.outer,"lg-css"),this.s.speed=0),lg_utils.addClass(this.outer,this.s.mode),this.s.enableDrag&&this.items.length>1&&lg_utils.addClass(this.outer,"lg-grab"),this.s.showAfterLoad&&lg_utils.addClass(this.outer,"lg-show-after-load"),this.doCss()){var inner=this.outer.querySelector(".lg-inner");lg_utils.setVendor(inner,"TransitionTimingFunction",this.s.cssEasing),lg_utils.setVendor(inner,"TransitionDuration",this.s.speed+"ms")}setTimeout(function(){lg_utils.addClass(document.querySelector(".lg-backdrop"),"in")}),setTimeout(function(){lg_utils.addClass(_this.outer,"lg-visible")},this.s.backdropDuration),this.s.download&&this.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",'<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=document.documentElement.scrollTop||document.body.scrollTop},Plugin.prototype.setTop=function(){if("100%"!==this.s.height){var wH=window.innerHeight,top=(wH-parseInt(this.s.height,10))/2,lGallery=this.outer.querySelector(".lg");wH>=parseInt(this.s.height,10)?lGallery.style.top=top+"px":lGallery.style.top="0px"}},Plugin.prototype.doCss=function(){return!!function(){var transition=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],root=document.documentElement,i=0;for(i=0;i<transition.length;i++)if(transition[i]in root.style)return!0}()},Plugin.prototype.isVideo=function(src,index){var html;if(html=this.s.dynamic?this.s.dynamicEl[index].html:this.items[index].getAttribute("data-html"),!src&&html)return{html5:!0};var youtube=src.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),vimeo=src.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),dailymotion=src.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),vk=src.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return youtube?{youtube:youtube}:vimeo?{vimeo:vimeo}:dailymotion?{dailymotion:dailymotion}:vk?{vk:vk}:void 0},Plugin.prototype.counter=function(){this.s.counter&&this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML("beforeend",'<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.items.length+"</span></div>")},Plugin.prototype.addHtml=function(index){var currentEle,subHtml=null;if(this.s.dynamic?subHtml=this.s.dynamicEl[index].subHtml:(subHtml=(currentEle=this.items[index]).getAttribute("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!subHtml&&(subHtml=currentEle.getAttribute("title"))&&currentEle.querySelector("img")&&(subHtml=currentEle.querySelector("img").getAttribute("alt"))),null!=subHtml){var fL=subHtml.substring(0,1);"."!==fL&&"#"!==fL||(subHtml=this.s.subHtmlSelectorRelative&&!this.s.dynamic?currentEle.querySelector(subHtml).innerHTML:document.querySelector(subHtml).innerHTML)}else subHtml="";".lg-sub-html"===this.s.appendSubHtmlTo?this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML=subHtml:this.___slide[index].insertAdjacentHTML("beforeend",subHtml),null!=subHtml&&(""===subHtml?lg_utils.addClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html"):lg_utils.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html")),lg_utils.trigger(this.el,"onAfterAppendSubHtml",{index:index})},Plugin.prototype.preload=function(index){var i=1,j=1;for(i=1;i<=this.s.preload&&!(i>=this.items.length-index);i++)this.loadContent(index+i,!1,0);for(j=1;j<=this.s.preload&&!(index-j<0);j++)this.loadContent(index-j,!1,0)},Plugin.prototype.loadContent=function(index,rec,delay){var _img,_src,_poster,_srcset,_sizes,_html,_this=this,_hasPoster=!1,getResponsiveSrc=function(srcItms){for(var rsWidth=[],rsSrc=[],i=0;i<srcItms.length;i++){var __src=srcItms[i].split(" ");""===__src[0]&&__src.splice(0,1),rsSrc.push(__src[0]),rsWidth.push(__src[1])}for(var wWidth=window.innerWidth,j=0;j<rsWidth.length;j++)if(parseInt(rsWidth[j],10)>wWidth){_src=rsSrc[j];break}};if(_this.s.dynamic){if(_this.s.dynamicEl[index].poster&&(_hasPoster=!0,_poster=_this.s.dynamicEl[index].poster),_html=_this.s.dynamicEl[index].html,_src=_this.s.dynamicEl[index].src,_this.s.dynamicEl[index].responsive)getResponsiveSrc(_this.s.dynamicEl[index].responsive.split(","));_srcset=_this.s.dynamicEl[index].srcset,_sizes=_this.s.dynamicEl[index].sizes}else{if(_this.items[index].getAttribute("data-poster")&&(_hasPoster=!0,_poster=_this.items[index].getAttribute("data-poster")),_html=_this.items[index].getAttribute("data-html"),_src=_this.items[index].getAttribute("href")||_this.items[index].getAttribute("data-src"),_this.items[index].getAttribute("data-responsive"))getResponsiveSrc(_this.items[index].getAttribute("data-responsive").split(","));_srcset=_this.items[index].getAttribute("data-srcset"),_sizes=_this.items[index].getAttribute("data-sizes")}var iframe=!1;_this.s.dynamic?_this.s.dynamicEl[index].iframe&&(iframe=!0):"true"===_this.items[index].getAttribute("data-iframe")&&(iframe=!0);var _isVideo=_this.isVideo(_src,index);if(!lg_utils.hasClass(_this.___slide[index],"lg-loaded")){if(iframe)_this.___slide[index].insertAdjacentHTML("afterbegin",'<div class="lg-video-cont" style="max-width:'+_this.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+_src+'"  allowfullscreen="true"></iframe></div></div>');else if(_hasPoster){var videoClass="";videoClass=_isVideo&&_isVideo.youtube?"lg-has-youtube":_isVideo&&_isVideo.vimeo?"lg-has-vimeo":"lg-has-html5",_this.___slide[index].insertAdjacentHTML("beforeend",'<div class="lg-video-cont '+videoClass+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+_poster+'" /></div></div>')}else _isVideo?(_this.___slide[index].insertAdjacentHTML("beforeend",'<div class="lg-video-cont "><div class="lg-video"></div></div>'),lg_utils.trigger(_this.el,"hasVideo",{index:index,src:_src,html:_html})):_this.___slide[index].insertAdjacentHTML("beforeend",'<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+_src+'" /></div>');if(lg_utils.trigger(_this.el,"onAferAppendSlide",{index:index}),_img=_this.___slide[index].querySelector(".lg-object"),_sizes&&_img.setAttribute("sizes",_sizes),_srcset){_img.setAttribute("srcset",_srcset);try{picturefill({elements:[_img[0]]})}catch(e){}}".lg-sub-html"!==this.s.appendSubHtmlTo&&_this.addHtml(index),lg_utils.addClass(_this.___slide[index],"lg-loaded")}lg_utils.on(_this.___slide[index].querySelector(".lg-object"),"load.lg error.lg",function(){var _speed=0;delay&&!lg_utils.hasClass(document.body,"lg-from-hash")&&(_speed=delay),setTimeout(function(){lg_utils.addClass(_this.___slide[index],"lg-complete"),lg_utils.trigger(_this.el,"onSlideItemLoad",{index:index,delay:delay||0})},_speed)}),_isVideo&&_isVideo.html5&&!_hasPoster&&lg_utils.addClass(_this.___slide[index],"lg-complete"),!0===rec&&(lg_utils.hasClass(_this.___slide[index],"lg-complete")?_this.preload(index):lg_utils.on(_this.___slide[index].querySelector(".lg-object"),"load.lg error.lg",function(){_this.preload(index)}))},Plugin.prototype.slide=function(index,fromTouch,fromThumb){for(var _prevIndex=0,i=0;i<this.___slide.length;i++)if(lg_utils.hasClass(this.___slide[i],"lg-current")){_prevIndex=i;break}var _this=this;if(!_this.lGalleryOn||_prevIndex!==index){var _length=this.___slide.length,_time=_this.lGalleryOn?this.s.speed:0,_next=!1,_prev=!1;if(!_this.lgBusy){var _src;if(this.s.download)(_src=_this.s.dynamic?!1!==_this.s.dynamicEl[index].downloadUrl&&(_this.s.dynamicEl[index].downloadUrl||_this.s.dynamicEl[index].src):"false"!==_this.items[index].getAttribute("data-download-url")&&(_this.items[index].getAttribute("data-download-url")||_this.items[index].getAttribute("href")||_this.items[index].getAttribute("data-src")))?(document.getElementById("lg-download").setAttribute("href",_src),lg_utils.removeClass(_this.outer,"lg-hide-download")):lg_utils.addClass(_this.outer,"lg-hide-download");if(lg_utils.trigger(_this.el,"onBeforeSlide",{prevIndex:_prevIndex,index:index,fromTouch:fromTouch,fromThumb:fromThumb}),_this.lgBusy=!0,clearTimeout(_this.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){_this.addHtml(index)},_time),this.arrowDisable(index),fromTouch){var touchPrev=index-1,touchNext=index+1;0===index&&_prevIndex===_length-1?(touchNext=0,touchPrev=_length-1):index===_length-1&&0===_prevIndex&&(touchNext=0,touchPrev=_length-1),lg_utils.removeClass(_this.outer.querySelector(".lg-prev-slide"),"lg-prev-slide"),lg_utils.removeClass(_this.outer.querySelector(".lg-current"),"lg-current"),lg_utils.removeClass(_this.outer.querySelector(".lg-next-slide"),"lg-next-slide"),lg_utils.addClass(_this.___slide[touchPrev],"lg-prev-slide"),lg_utils.addClass(_this.___slide[touchNext],"lg-next-slide"),lg_utils.addClass(_this.___slide[index],"lg-current")}else{lg_utils.addClass(_this.outer,"lg-no-trans");for(var j=0;j<this.___slide.length;j++)lg_utils.removeClass(this.___slide[j],"lg-prev-slide"),lg_utils.removeClass(this.___slide[j],"lg-next-slide");index<_prevIndex?(_prev=!0,0!==index||_prevIndex!==_length-1||fromThumb||(_prev=!1,_next=!0)):index>_prevIndex&&(_next=!0,index!==_length-1||0!==_prevIndex||fromThumb||(_prev=!0,_next=!1)),_prev?(lg_utils.addClass(this.___slide[index],"lg-prev-slide"),lg_utils.addClass(this.___slide[_prevIndex],"lg-next-slide")):_next&&(lg_utils.addClass(this.___slide[index],"lg-next-slide"),lg_utils.addClass(this.___slide[_prevIndex],"lg-prev-slide")),setTimeout(function(){lg_utils.removeClass(_this.outer.querySelector(".lg-current"),"lg-current"),lg_utils.addClass(_this.___slide[index],"lg-current"),lg_utils.removeClass(_this.outer,"lg-no-trans")},50)}_this.lGalleryOn?(setTimeout(function(){_this.loadContent(index,!0,0)},this.s.speed+50),setTimeout(function(){_this.lgBusy=!1,lg_utils.trigger(_this.el,"onAfterSlide",{prevIndex:_prevIndex,index:index,fromTouch:fromTouch,fromThumb:fromThumb})},this.s.speed)):(_this.loadContent(index,!0,_this.s.backdropDuration),_this.lgBusy=!1,lg_utils.trigger(_this.el,"onAfterSlide",{prevIndex:_prevIndex,index:index,fromTouch:fromTouch,fromThumb:fromThumb})),_this.lGalleryOn=!0,this.s.counter&&document.getElementById("lg-counter-current")&&(document.getElementById("lg-counter-current").innerHTML=index+1)}}},Plugin.prototype.goToNextSlide=function(fromTouch){var _this=this;_this.lgBusy||(_this.index+1<_this.___slide.length?(_this.index++,lg_utils.trigger(_this.el,"onBeforeNextSlide",{index:_this.index}),_this.slide(_this.index,fromTouch,!1)):_this.s.loop?(_this.index=0,lg_utils.trigger(_this.el,"onBeforeNextSlide",{index:_this.index}),_this.slide(_this.index,fromTouch,!1)):_this.s.slideEndAnimatoin&&(lg_utils.addClass(_this.outer,"lg-right-end"),setTimeout(function(){lg_utils.removeClass(_this.outer,"lg-right-end")},400)))},Plugin.prototype.goToPrevSlide=function(fromTouch){var _this=this;_this.lgBusy||(_this.index>0?(_this.index--,lg_utils.trigger(_this.el,"onBeforePrevSlide",{index:_this.index,fromTouch:fromTouch}),_this.slide(_this.index,fromTouch,!1)):_this.s.loop?(_this.index=_this.items.length-1,lg_utils.trigger(_this.el,"onBeforePrevSlide",{index:_this.index,fromTouch:fromTouch}),_this.slide(_this.index,fromTouch,!1)):_this.s.slideEndAnimatoin&&(lg_utils.addClass(_this.outer,"lg-left-end"),setTimeout(function(){lg_utils.removeClass(_this.outer,"lg-left-end")},400)))},Plugin.prototype.keyPress=function(){var _this=this;this.items.length>1&&lg_utils.on(window,"keyup.lg",function(e){_this.items.length>1&&(37===e.keyCode&&(e.preventDefault(),_this.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),_this.goToNextSlide()))}),lg_utils.on(window,"keydown.lg",function(e){!0===_this.s.escKey&&27===e.keyCode&&(e.preventDefault(),lg_utils.hasClass(_this.outer,"lg-thumb-open")?lg_utils.removeClass(_this.outer,"lg-thumb-open"):_this.destroy())})},Plugin.prototype.arrow=function(){var _this=this;lg_utils.on(this.outer.querySelector(".lg-prev"),"click.lg",function(){_this.goToPrevSlide()}),lg_utils.on(this.outer.querySelector(".lg-next"),"click.lg",function(){_this.goToNextSlide()})},Plugin.prototype.arrowDisable=function(index){if(!this.s.loop&&this.s.hideControlOnEnd){var next=this.outer.querySelector(".lg-next"),prev=this.outer.querySelector(".lg-prev");index+1<this.___slide.length?(next.removeAttribute("disabled"),lg_utils.removeClass(next,"disabled")):(next.setAttribute("disabled","disabled"),lg_utils.addClass(next,"disabled")),index>0?(prev.removeAttribute("disabled"),lg_utils.removeClass(prev,"disabled")):(prev.setAttribute("disabled","disabled"),lg_utils.addClass(prev,"disabled"))}},Plugin.prototype.setTranslate=function(el,xValue,yValue){this.s.useLeft?el.style.left=xValue:lg_utils.setVendor(el,"Transform","translate3d("+xValue+"px, "+yValue+"px, 0px)")},Plugin.prototype.touchMove=function(startCoords,endCoords){var distance=endCoords-startCoords;Math.abs(distance)>15&&(lg_utils.addClass(this.outer,"lg-dragging"),this.setTranslate(this.___slide[this.index],distance,0),this.setTranslate(document.querySelector(".lg-prev-slide"),-this.___slide[this.index].clientWidth+distance,0),this.setTranslate(document.querySelector(".lg-next-slide"),this.___slide[this.index].clientWidth+distance,0))},Plugin.prototype.touchEnd=function(distance){var _this=this;"lg-slide"!==_this.s.mode&&lg_utils.addClass(_this.outer,"lg-slide");for(var i=0;i<this.___slide.length;i++)lg_utils.hasClass(this.___slide[i],"lg-current")||lg_utils.hasClass(this.___slide[i],"lg-prev-slide")||lg_utils.hasClass(this.___slide[i],"lg-next-slide")||(this.___slide[i].style.opacity="0");setTimeout(function(){lg_utils.removeClass(_this.outer,"lg-dragging"),distance<0&&Math.abs(distance)>_this.s.swipeThreshold?_this.goToNextSlide(!0):distance>0&&Math.abs(distance)>_this.s.swipeThreshold?_this.goToPrevSlide(!0):Math.abs(distance)<5&&lg_utils.trigger(_this.el,"onSlideClick");for(var i=0;i<_this.___slide.length;i++)_this.___slide[i].removeAttribute("style")}),setTimeout(function(){lg_utils.hasClass(_this.outer,"lg-dragging")||"lg-slide"===_this.s.mode||lg_utils.removeClass(_this.outer,"lg-slide")},_this.s.speed+100)},Plugin.prototype.enableSwipe=function(){var _this=this,startCoords=0,endCoords=0,isMoved=!1;if(_this.s.enableSwipe&&_this.isTouch&&_this.doCss()){for(var i=0;i<_this.___slide.length;i++)lg_utils.on(_this.___slide[i],"touchstart.lg",function(e){lg_utils.hasClass(_this.outer,"lg-zoomed")||_this.lgBusy||(e.preventDefault(),_this.manageSwipeClass(),startCoords=e.targetTouches[0].pageX)});for(var j=0;j<_this.___slide.length;j++)lg_utils.on(_this.___slide[j],"touchmove.lg",function(e){lg_utils.hasClass(_this.outer,"lg-zoomed")||(e.preventDefault(),endCoords=e.targetTouches[0].pageX,_this.touchMove(startCoords,endCoords),isMoved=!0)});for(var k=0;k<_this.___slide.length;k++)lg_utils.on(_this.___slide[k],"touchend.lg",function(){lg_utils.hasClass(_this.outer,"lg-zoomed")||(isMoved?(isMoved=!1,_this.touchEnd(endCoords-startCoords)):lg_utils.trigger(_this.el,"onSlideClick"))})}},Plugin.prototype.enableDrag=function(){var _this=this,startCoords=0,endCoords=0,isDraging=!1,isMoved=!1;if(_this.s.enableDrag&&!_this.isTouch&&_this.doCss()){for(var i=0;i<_this.___slide.length;i++)lg_utils.on(_this.___slide[i],"mousedown.lg",function(e){lg_utils.hasClass(_this.outer,"lg-zoomed")||(lg_utils.hasClass(e.target,"lg-object")||lg_utils.hasClass(e.target,"lg-video-play"))&&(e.preventDefault(),_this.lgBusy||(_this.manageSwipeClass(),startCoords=e.pageX,isDraging=!0,_this.outer.scrollLeft+=1,_this.outer.scrollLeft-=1,lg_utils.removeClass(_this.outer,"lg-grab"),lg_utils.addClass(_this.outer,"lg-grabbing"),lg_utils.trigger(_this.el,"onDragstart")))});lg_utils.on(window,"mousemove.lg",function(e){isDraging&&(isMoved=!0,endCoords=e.pageX,_this.touchMove(startCoords,endCoords),lg_utils.trigger(_this.el,"onDragmove"))}),lg_utils.on(window,"mouseup.lg",function(e){isMoved?(isMoved=!1,_this.touchEnd(endCoords-startCoords),lg_utils.trigger(_this.el,"onDragend")):(lg_utils.hasClass(e.target,"lg-object")||lg_utils.hasClass(e.target,"lg-video-play"))&&lg_utils.trigger(_this.el,"onSlideClick"),isDraging&&(isDraging=!1,lg_utils.removeClass(_this.outer,"lg-grabbing"),lg_utils.addClass(_this.outer,"lg-grab"))})}},Plugin.prototype.manageSwipeClass=function(){var touchNext=this.index+1,touchPrev=this.index-1,length=this.___slide.length;this.s.loop&&(0===this.index?touchPrev=length-1:this.index===length-1&&(touchNext=0));for(var i=0;i<this.___slide.length;i++)lg_utils.removeClass(this.___slide[i],"lg-next-slide"),lg_utils.removeClass(this.___slide[i],"lg-prev-slide");touchPrev>-1&&lg_utils.addClass(this.___slide[touchPrev],"lg-prev-slide"),lg_utils.addClass(this.___slide[touchNext],"lg-next-slide")},Plugin.prototype.mousewheel=function(){var _this=this;lg_utils.on(_this.outer,"mousewheel.lg",function(e){e.deltaY&&(e.deltaY>0?_this.goToPrevSlide():_this.goToNextSlide(),e.preventDefault())})},Plugin.prototype.closeGallery=function(){var _this=this,mousedown=!1;lg_utils.on(this.outer.querySelector(".lg-close"),"click.lg",function(){_this.destroy()}),_this.s.closable&&(lg_utils.on(_this.outer,"mousedown.lg",function(e){mousedown=!!(lg_utils.hasClass(e.target,"lg-outer")||lg_utils.hasClass(e.target,"lg-item")||lg_utils.hasClass(e.target,"lg-img-wrap"))}),lg_utils.on(_this.outer,"mouseup.lg",function(e){(lg_utils.hasClass(e.target,"lg-outer")||lg_utils.hasClass(e.target,"lg-item")||lg_utils.hasClass(e.target,"lg-img-wrap")&&mousedown)&&(lg_utils.hasClass(_this.outer,"lg-dragging")||_this.destroy())}))},Plugin.prototype.destroy=function(d){var _this=this;if(d||lg_utils.trigger(_this.el,"onBeforeClose"),d){if(!_this.s.dynamic)for(var i=0;i<this.items.length;i++)lg_utils.off(this.items[i],".lg"),lg_utils.off(this.items[i],".lgcustom");var lguid=_this.el.getAttribute("lg-uid");delete window.lgData[lguid],_this.el.removeAttribute("lg-uid")}for(var key in lg_utils.off(this.el,".lgtm"),window.lgModules)_this.modules[key]&&_this.modules[key].destroy(d);this.lGalleryOn=!1,clearTimeout(_this.hideBartimeout),this.hideBartimeout=!1,lg_utils.off(window,".lg"),lg_utils.removeClass(document.body,"lg-on"),lg_utils.removeClass(document.body,"lg-from-hash"),_this.outer&&lg_utils.removeClass(_this.outer,"lg-visible"),lg_utils.removeClass(document.querySelector(".lg-backdrop"),"in"),setTimeout(function(){try{_this.outer&&_this.outer.parentNode.removeChild(_this.outer),document.querySelector(".lg-backdrop")&&document.querySelector(".lg-backdrop").parentNode.removeChild(document.querySelector(".lg-backdrop")),d||lg_utils.trigger(_this.el,"onCloseAfter")}catch(err){}},_this.s.backdropDuration+50)},window.lightGallery=function(el,options){if(el)try{if(el.getAttribute("lg-uid"))try{window.lgData[el.getAttribute("lg-uid")].init()}catch(err){}else{var uid="lg"+window.lgData.uid++;window.lgData[uid]=new Plugin(el,options),el.setAttribute("lg-uid",uid)}}catch(err){}};var CSSPlugin=__webpack_require__(88),adv_complex_create=__webpack_require__(150);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var SearchMore=function(){var Constructor,protoProps,staticProps;function SearchMore(button,hidden){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SearchMore),button.addEventListener("click",function(){"block"===hidden.style.display?(hidden.style.display="none",button.classList.remove("list-open")):(hidden.style.display="block",button.classList.add("list-open"))})}return Constructor=SearchMore,staticProps=[{key:"init",value:function(){var moreButtons=_toConsumableArray(document.querySelectorAll(".js-more-button")),hiddenItems=_toConsumableArray(document.querySelectorAll(".js-hidden-items"));moreButtons&&hiddenItems&&moreButtons.forEach(function(button,index){new SearchMore(button,hiddenItems[index])})}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SearchMore}();function preview_cards_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function preview_cards_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function preview_cards_createClass(Constructor,protoProps,staticProps){return protoProps&&preview_cards_defineProperties(Constructor.prototype,protoProps),staticProps&&preview_cards_defineProperties(Constructor,staticProps),Constructor}var PreviewCards=function(){function PreviewCards(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PreviewCards),this.element=element,this.intersectionObserver=new IntersectionObserver(function(entries){return _this.handleIntersection(entries)}),this.intersectionObserver.observe(this.element)}return preview_cards_createClass(PreviewCards,null,[{key:"init",value:function(){preview_cards_toConsumableArray(document.querySelectorAll(".preview-cards-n-2")).forEach(function(element){new PreviewCards(element)})}}]),preview_cards_createClass(PreviewCards,[{key:"handleIntersection",value:function(entries){var _this2=this,elementClass="preview-cards-n-2",tabsClass="tabs-link-n-2",rows=preview_cards_toConsumableArray(this.element.querySelectorAll(".".concat(elementClass,"__cards-group"))),tabButtons=preview_cards_toConsumableArray(this.element.querySelectorAll(".".concat(tabsClass,"__tab"))),allButtons=preview_cards_toConsumableArray(this.element.querySelectorAll(".".concat(elementClass,"__main-button"))),activeTab=this.element.querySelector(".".concat(elementClass," .").concat(tabsClass,"__tab_active")),line=this.element.querySelector(".line-n-2"),positionLine=0,widthLine=0;activeTab&&line&&(positionLine=activeTab.offsetLeft,widthLine=activeTab.offsetWidth,line.style.left=positionLine+"px",line.style.width=widthLine+"px"),this.previousRow=rows[0],this.previousTabButton=tabButtons[0],this.previousAllButton=allButtons[0],tabButtons.forEach(function(tabButton,index){tabButton.addEventListener("click",function(event){event.preventDefault();var self=event.currentTarget,row=rows[index],allButton=allButtons[index];if(!tabButton.classList.contains("".concat(tabsClass,"__tab_active"))){row.classList.remove("".concat(elementClass,"__cards-group_hidden")),_this2.previousRow.classList.add("".concat(elementClass,"__cards-group_hidden")),_this2.previousTabButton.classList.remove("".concat(tabsClass,"__tab_active")),positionLine=_this2.previousTabButton.offsetLeft,widthLine=_this2.previousTabButton.offsetWidth;var positionCurrent=self.offsetLeft,widthCurrent=self.offsetWidth;positionCurrent>=positionLine?(line.style.width="".concat(positionCurrent-positionLine+widthCurrent,"px"),setTimeout(function(){line.style.cssText="left: ".concat(positionCurrent,"px;                 width: ").concat(widthCurrent,"px;               ")},300),tabButton.classList.add("".concat(tabsClass,"__tab_active"))):(line.style.cssText="left: ".concat(positionCurrent,"px;               width: ").concat(positionLine-positionCurrent+widthLine,"px;             "),setTimeout(function(){line.style.width="".concat(widthCurrent,"px")},300),tabButton.classList.add("".concat(tabsClass,"__tab_active"))),_this2.previousAllButton.classList.add("".concat(elementClass,"__main-button_hidden")),allButton.classList.remove("".concat(elementClass,"__main-button_hidden")),_this2.previousRow=row,_this2.previousTabButton=tabButton,_this2.previousAllButton=allButton}})}),this.intersectionObserver.disconnect()}}]),PreviewCards}();function drop_menu_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function drop_menu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DropMenu=function(){var Constructor,protoProps,staticProps;function DropMenu(selector){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DropMenu);var buttons=drop_menu_toConsumableArray(document.querySelectorAll(".".concat(selector," .js-drop-button-n-2"))),menus=drop_menu_toConsumableArray(document.querySelectorAll(".".concat(selector," .js-hidden-menu-n-2")));buttons.forEach(function(button,index){if(!button.DropMenu){button.DropMenu=!0;var menu=menus[index],closePopup=function(){button.classList.remove("".concat(selector,"__link_open")),menu.classList.add("".concat(selector,"__sublinks-wrapper_hidden"))};button.addEventListener("click",function(){var clickOutHandle=function clickOutHandle(e){e.target===button||menu.contains(e.target)||(closePopup(),document.removeEventListener("click",clickOutHandle))};button.classList.contains("".concat(selector,"__link_open"))?(closePopup(),document.removeEventListener("click",clickOutHandle)):(button.classList.add("".concat(selector,"__link_open")),menu.classList.remove("".concat(selector,"__sublinks-wrapper_hidden"))),_this.previousButton&&_this.previousButton!==button&&_this.previousButton.classList.contains("".concat(selector,"__link_open"))&&(_this.previousButton.classList.remove("".concat(selector,"__link_open")),_this.previousMenu.classList.add("".concat(selector,"__sublinks-wrapper_hidden"))),_this.previousButton=button,_this.previousMenu=menu,document.addEventListener("click",clickOutHandle)})}})}return Constructor=DropMenu,staticProps=[{key:"init",value:function(){["main-nav-n-2","tablet-menu-n-2","side-menu-n-2"].forEach(function(selector){new DropMenu(selector)})}}],(protoProps=null)&&drop_menu_defineProperties(Constructor.prototype,protoProps),staticProps&&drop_menu_defineProperties(Constructor,staticProps),DropMenu}();function side_menu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function side_menu_createClass(Constructor,protoProps,staticProps){return protoProps&&side_menu_defineProperties(Constructor.prototype,protoProps),staticProps&&side_menu_defineProperties(Constructor,staticProps),Constructor}var SideMenu=function(){function SideMenu(burger,menu){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SideMenu),burger.SideMenu||(burger.SideMenu=this,this.burger=burger,this.menu=menu,this.state={open:!1},this.calcHeight=this.calcHeight.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.calcHeight(),this.bindHandlers())}return side_menu_createClass(SideMenu,null,[{key:"init",value:function(){var burger=document.querySelector(".js-burger-n-2"),menu=document.querySelector(".js-side-menu-n-2");burger&&menu&&new SideMenu(burger,menu)}}]),side_menu_createClass(SideMenu,[{key:"bindHandlers",value:function(){var _this=this;this.burger.addEventListener("click",function(){_this.state.open?_this.close():_this.open()}),this.menu.classList.add("side-menu-n-2_inited"),document.addEventListener("close-top-banner",this.calcHeight),window.addEventListener("resize",this.onWindowResize)}},{key:"open",value:function(){this.burger.classList.add("active"),this.menu.classList.add("side-menu-n-2_open"),document.body.classList.add("no-scroll"),this.calcHeight(),this.state.open=!0}},{key:"close",value:function(){this.burger.classList.remove("active"),this.menu.classList.remove("side-menu-n-2_open"),document.body.classList.remove("no-scroll"),this.state.open=!1}},{key:"calcHeight",value:function(){var menuHeight=document.documentElement.clientHeight-this.menu.getBoundingClientRect().top;this.menu.style.height=menuHeight+"px"}},{key:"onWindowResize",value:function(){this.calcHeight(),document.body.clientWidth>=1024&&this.state.open&&this.close()}}]),SideMenu}(),favorite_favorite=__webpack_require__(53),compare_storage=__webpack_require__(54),phone_number=__webpack_require__(28),checkbox_block=__webpack_require__(114),range_block=__webpack_require__(181),cookie=(__webpack_require__(117),__webpack_require__(32));function city_pick_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function city_pick_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function city_pick_createClass(Constructor,protoProps,staticProps){return protoProps&&city_pick_defineProperties(Constructor.prototype,protoProps),staticProps&&city_pick_defineProperties(Constructor,staticProps),Constructor}var city_pick_CityPick=function(){function CityPick(element,selector){if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CityPick),!element.CityPick){element.CityPick=this,this.element=element,this.output=element.querySelector(".".concat(selector,"__output")),this.list=element.querySelector(".".concat(selector,"__list")),this.cities=city_pick_toConsumableArray(element.querySelectorAll(".".concat(selector,"__city"))),this.cookie=new cookie.a,this.selector=selector,this.clickOutHandle=this.clickOutHandle.bind(this);var domainName=location.hostname.split(".")[0],prefix="novostroev"===domainName?"":"".concat(domainName,"-");this.cookieNames={city:"".concat(prefix,"geo-city"),cityName:"".concat(prefix,"geo-city-name")},this.previousCity=null,this.cityID=this.cookie.getCookie(this.cookieNames.city),this.cityName=this.cookie.getCookie(this.cookieNames.cityName),this.update(),this.bindHanlers()}}return city_pick_createClass(CityPick,null,[{key:"init",value:function(){["city-pick-n-2","city-pick-mobile-n-2"].forEach(function(selector){var element=document.querySelector(".".concat(selector));element&&new CityPick(element,selector)})}}]),city_pick_createClass(CityPick,[{key:"bindHanlers",value:function(){var _this=this;this.element.addEventListener("first-pick",function(){_this.update()}),this.output.addEventListener("click",function(){_this.list.classList.contains("".concat(_this.selector,"__list_open"))?_this.closePopup():(_this.list.classList.add("".concat(_this.selector,"__list_open")),_this.output.classList.add("".concat(_this.selector,"__output_open")),document.addEventListener("click",_this.clickOutHandle))}),this.list.addEventListener("click",function(e){var target=e.target;if(target.classList.contains("".concat(_this.selector,"__city"))){_this.cityID=target.getAttribute("data-city"),_this.cityName=target.textContent,_this.previousCity&&_this.previousCity.classList.remove("".concat(_this.selector,"__city_selected")),target.classList.add("".concat(_this.selector,"__city_selected")),_this.output.textContent=_this.cityName,_this.addCookie(),_this.previousCity=target,_this.closePopup();var redirect=_this.list.getAttribute("data-redirect");redirect&&redirect.trim().length?window.location.href=redirect:window.location.reload()}})}},{key:"addCookie",value:function(){var date=new Date;date.setFullYear(date.getFullYear()+10);var settings={expires:date.toUTCString(),path:"/",domain:window.location.hostname};this.cookie.setCookie(this.cookieNames.city,this.cityID,settings),this.cookie.setCookie(this.cookieNames.cityName,this.cityName.trim(),settings),localStorage.setItem(this.cookieNames.city,this.cityID),localStorage.setItem(this.cookieNames.cityName,this.cityName.trim())}},{key:"update",value:function(){var _this2=this;this.cityID&&this.cityName&&(this.output.textContent=this.cityName,this.cities.forEach(function(city){city.textContent.trim()===_this2.cityName.trim()&&(city.classList.add("".concat(_this2.selector,"__city_selected")),_this2.previousCity=city)}))}},{key:"clickOutHandle",value:function(e){e.target!==this.output&&e.target!==this.list&&this.closePopup()}},{key:"closePopup",value:function(){this.list.classList.remove("".concat(this.selector,"__list_open")),this.output.classList.remove("".concat(this.selector,"__output_open")),document.removeEventListener("click",this.clickOutHandle)}}]),CityPick}();function first_pick_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function first_pick_createClass(Constructor,protoProps,staticProps){return protoProps&&first_pick_defineProperties(Constructor.prototype,protoProps),staticProps&&first_pick_defineProperties(Constructor,staticProps),Constructor}var first_pick_FirstPick=function(){function FirstPick(normalPick,mobilePick){if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FirstPick),!normalPick.FirstPick){normalPick.FirstPick=this,this.normalPick=normalPick,this.mobilePick=mobilePick,this.cookie=new cookie.a;var domainName=location.hostname.split(".")[0],prefix="novostroev"===domainName?"":"".concat(domainName,"-");this.cookieNames={city:"".concat(prefix,"geo-city"),cityName:"".concat(prefix,"geo-city-name")},this.cityPick=document.querySelector(".city-pick-n-2"),this.cityPickMobile=document.querySelector(".city-pick-mobile-n-2"),this.cityID=this.cookie.getCookie(this.cookieNames.city),this.cityName=this.cookie.getCookie(this.cookieNames.cityName),this.cityID&&this.cityName||this.show()}}return first_pick_createClass(FirstPick,null,[{key:"init",value:function(){var normalPick=document.querySelector(".first-pick-n-2"),mobilePick=document.querySelector(".first-pick-mobile-n-2");(normalPick||mobilePick)&&new FirstPick(normalPick,mobilePick)}}]),first_pick_createClass(FirstPick,[{key:"show",value:function(){this.width=document.body.clientWidth,this.width<768?this.showMobilePick():this.showDesktopPick()}},{key:"showMobilePick",value:function(){var _this=this,supposedCity=document.querySelector(".first-pick-mobile-n-2__supposed-city"),buttonCorrect=this.mobilePick.querySelector(".first-pick-mobile-n-2__correct-region"),buttonChange=this.mobilePick.querySelector(".first-pick-mobile-n-2__change-region"),cityPickList=this.mobilePick.querySelector(".first-pick-mobile-n-2__list");this.cityID=supposedCity.getAttribute("data-city"),this.cityName=supposedCity.textContent,this.mobilePick.style.display="block",this.cityPickMobile.style.display="none",buttonCorrect.addEventListener("click",function(){_this.addCookie(),_this.mobilePick.style.display="none",_this.cityPickMobile.style.display="block"}),buttonChange.addEventListener("click",function(){cityPickList.style.display="block"}),cityPickList.addEventListener("click",function(e){if(e.target.classList.contains("first-pick-mobile-n-2__city")){var target=e.target;_this.cityID=target.getAttribute("data-city"),_this.cityName=target.textContent,_this.addCookie(),_this.mobilePick.style.display="none",_this.cityPickMobile.style.display="block";var redirect=_this.cityPickMobile.getAttribute("data-redirect");redirect&&redirect.trim().length?window.location.href=redirect:window.location.reload()}})}},{key:"showDesktopPick",value:function(){var _this2=this,supposedCity=document.querySelector(".first-pick-n-2__city"),buttonCorrect=this.normalPick.querySelector(".first-pick-n-2__correct-region"),buttonChange=this.normalPick.querySelector(".first-pick-n-2__change-region");this.cityID=supposedCity.getAttribute("data-city"),this.cityName=supposedCity.textContent,this.normalPick.classList.remove("first-pick-n-2_hidden"),buttonCorrect.addEventListener("click",function(){_this2.addCookie(),_this2.normalPick.classList.add("first-pick-n-2_hidden")}),buttonChange.addEventListener("click",function(){_this2.normalPick.classList.add("first-pick-n-2_hidden"),document.querySelector(".city-pick-n-2__list").classList.add("city-pick-n-2__list_open")})}},{key:"addCookie",value:function(){var date=new Date;date.setFullYear(date.getFullYear()+10);var settings={expires:date.toUTCString(),path:"/",domain:window.location.hostname};this.cookie.setCookie(this.cookieNames.city,this.cityID,settings),this.cookie.setCookie(this.cookieNames.cityName,this.cityName.trim(),settings),localStorage.setItem(this.cookieNames.city,this.cityID),localStorage.setItem(this.cookieNames.cityName,this.cityName.trim())}}]),FirstPick}();function switchableButton_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function switchableButton_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function switchableButton_createClass(Constructor,protoProps,staticProps){return protoProps&&switchableButton_defineProperties(Constructor.prototype,protoProps),staticProps&&switchableButton_defineProperties(Constructor,staticProps),Constructor}var SwitchableButton=function(){function SwitchableButton(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SwitchableButton),this.element=element,this.content={initial:this.element.querySelector(".button-n-2__content_initial"),hidden:this.element.querySelector(".button-n-2__content_hidden")},this.onClick=this.onClick.bind(this),this.element.addEventListener("click",this.onClick)}return switchableButton_createClass(SwitchableButton,null,[{key:"init",value:function(){return switchableButton_toConsumableArray(document.querySelectorAll(".button-n-2_switchable")).map(function(button){return new SwitchableButton(button)})}}]),switchableButton_createClass(SwitchableButton,[{key:"onClick",value:function(event){event.preventDefault(),this.content.initial.style.display="none",this.content.hidden.style.display="block",this.element.classList.contains("button-n-2_type_phone")&&window.ym&&window.ym(39897405,"reachGoal","show_telephone"),this.element.removeEventListener("click",this.onClick)}}]),SwitchableButton}();function topBanner_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function topBanner_createClass(Constructor,protoProps,staticProps){return protoProps&&topBanner_defineProperties(Constructor.prototype,protoProps),staticProps&&topBanner_defineProperties(Constructor,staticProps),Constructor}var TopBanner=function(){function TopBanner(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TopBanner),this.element=element,this.closeButton=element.querySelector(".wide-banner-n-2__close-wrapper"),this.onClose=this.onClose.bind(this),this.closeButton.addEventListener("click",this.onClose)}return topBanner_createClass(TopBanner,null,[{key:"init",value:function(){var banner=document.querySelector(".wide-banner-n-2_closing");return banner?new TopBanner(banner):null}}]),topBanner_createClass(TopBanner,[{key:"onClose",value:function(){var event=new CustomEvent("close-top-banner");this.element.style.display="none",document.dispatchEvent(event)}}]),TopBanner}(),slimselect_min=__webpack_require__(201),slimselect_min_default=__webpack_require__.n(slimselect_min);function select_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function select_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var select_SelectContainer=function(){var Constructor,protoProps,staticProps;function SelectContainer(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SelectContainer),this.element=element,this.selectNode=this.element.querySelector("select"),SelectContainer.initSelect(this.selectNode)}return Constructor=SelectContainer,staticProps=[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=select_toConsumableArray(container.querySelectorAll(".js-select-container"));return SelectContainer.initAll(elements)}},{key:"initAll",value:function(elements){var intersectionObserver=new IntersectionObserver(function(entries){return function(entries){entries.forEach(function(_ref){var isIntersecting=_ref.isIntersecting,target=_ref.target;isIntersecting&&(SelectContainer.initSelect(target),intersectionObserver.unobserve(target))})}(entries)},{rootMargin:"50px"});elements.forEach(function(element){return intersectionObserver.observe(element)})}},{key:"initSelect",value:function(element){return element instanceof HTMLSelectElement||(element=element.querySelector("select")),element.Select=new slimselect_min_default.a({select:element,showSearch:!1,allowDeselect:!1}),!0}}],(protoProps=null)&&select_defineProperties(Constructor.prototype,protoProps),staticProps&&select_defineProperties(Constructor,staticProps),SelectContainer}(),tooltip=__webpack_require__(45),swiper_min=__webpack_require__(16),swiper_min_default=__webpack_require__.n(swiper_min);function layouts_slider_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function layouts_slider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function layouts_slider_createClass(Constructor,protoProps,staticProps){return protoProps&&layouts_slider_defineProperties(Constructor.prototype,protoProps),staticProps&&layouts_slider_defineProperties(Constructor,staticProps),Constructor}var layouts_slider_LayoutsSlider=function(){function LayoutsSlider(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LayoutsSlider),this.element=element,this.slider=element.querySelector(".layouts-slider"),this.slider&&(this.arrows={prev:element.querySelector(".swiper-button-prev"),next:element.querySelector(".swiper-button-next")},this.buttonAll=element.querySelector(".apartment-aside__control .button-n-2"),this.initSlider(),this.bindHandlers())}return layouts_slider_createClass(LayoutsSlider,null,[{key:"init",value:function(){var slider=document.querySelector(".apartment-layouts");return slider?new LayoutsSlider(slider):null}}]),layouts_slider_createClass(LayoutsSlider,[{key:"initSlider",value:function(){var _this=this,slidesCount=layouts_slider_toConsumableArray(this.slider.querySelectorAll(".swiper-slide")).length;this.swiper=new swiper_min_default.a(this.slider,{slidesPerView:6,spaceBetween:13,initialSlide:0,loop:slidesCount>3,navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},breakpoints:{1287:{slidesPerView:5,loop:slidesCount>6},900:{slidesPerView:4,loop:slidesCount>5},767:{slidesPerView:3,loop:slidesCount>4},567:{slidesPerView:2,loop:slidesCount>3}}}),lightGallery(this.slider,{thumbnail:!0,hash:!1,download:!1,loop:!0,exThumbImage:"data-src",selector:".swiper-slide:not(.swiper-slide-duplicate) .layout__preview"}),layouts_slider_toConsumableArray(this.slider.querySelectorAll(".swiper-slide-duplicate .layout__preview")).map(function(link){link.addEventListener("click",function(event){event.preventDefault();var index=link.parentNode.parentNode.getAttribute("data-swiper-slide-index");_this.clickOnGalleryLink(index)})})}},{key:"bindHandlers",value:function(){var _this2=this;this.buttonAll&&this.buttonAll.addEventListener("click",function(event){event.preventDefault(),_this2.clickOnGalleryLink(0)})}},{key:"clickOnGalleryLink",value:function(index){var originalLink=this.getOriginalSlide(index).querySelector("a");return originalLink?originalLink.click():null}},{key:"getOriginalSlide",value:function(index){return this.slider.querySelector('[data-swiper-slide-index="'.concat(index,'"]:not(.swiper-slide-duplicate)'))}}]),LayoutsSlider}(),thumb_gallery=__webpack_require__(147),gsap=(__webpack_require__(26),__webpack_require__(20)),perfect_scrollbar_esm=__webpack_require__(44),tab_line=__webpack_require__(68);function timeline_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function timeline_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function timeline_createClass(Constructor,protoProps,staticProps){return protoProps&&timeline_defineProperties(Constructor.prototype,protoProps),staticProps&&timeline_defineProperties(Constructor,staticProps),Constructor}var timeline_TimelineSlider=function(){function TimelineSlider(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TimelineSlider),this.element=element,this.slider=element.querySelector(".timeline-slider__slider .swiper-container"),this.months=timeline_toConsumableArray(element.querySelectorAll(".timeline-month")),this.line=new tab_line.a({line:element.querySelector(".timeline-years__line")}),this.navi={prevEl:element.querySelector(".btn-slider_prev"),nextEl:element.querySelector(".btn-slider_next")},this.yearsWrapper=element.querySelector(".timeline-years__wrapper"),this.classes={activeMonth:"timeline-month_active"},this.state={activeMonth:this.months.find(function(month){return month.classList.contains(_this.classes.activeMonth)})},this.ps=new perfect_scrollbar_esm.a(this.yearsWrapper,{wheelSpeed:.7}),window.addEventListener("resize",this.ps.update),this.initSliders(),this.initHandlers()}return timeline_createClass(TimelineSlider,null,[{key:"init",value:function(){var slider=document.querySelector(".timeline-slider");return slider?new TimelineSlider(slider):null}}]),timeline_createClass(TimelineSlider,[{key:"initSliders",value:function(){var _this2=this;this.swiper=new swiper_min_default.a(this.slider,{slidesPerView:"auto",spaceBetween:10,setWrapperSize:!0,navigation:this.navi,breakpoints:{767:{slidesPerView:1}}}),lightGallery(this.slider,{thumbnail:!0,hash:!1,download:!1,loop:!0,exThumbImage:"data-src",selector:".swiper-slide .timeline-slider__image"}),this.monthIndexes={},this.swiper.slides.each(function(index,el){var id=el.id;id&&(_this2.monthIndexes[id]=index)})}},{key:"initHandlers",value:function(){var _this3=this;this.months.map(function(month){month.addEventListener("click",function(event){event.preventDefault();var href=month.getAttribute("href");_this3.swiper.slideTo(_this3.monthIndexes[href.replace("#","")])})}),this.swiper.on("slideChange",function(){var _this3$swiper=_this3.swiper,curIndex=_this3$swiper.activeIndex,prevIndex=_this3$swiper.previousIndex,currentSlide=_this3.swiper.slides[curIndex];if(_this3.swiper.isEnd){var id=_this3.getLeftDatedSlideId(_this3.swiper.slides.length-1);_this3.line.move(_this3.getMonthLink(id))}else if(_this3.checkIfDated(currentSlide)){var month=_this3.getMonthLink(currentSlide.id);_this3.line.move(month),_this3.toggleActiveMonth(month)}else if(_this3.checkIfDated(_this3.swiper.slides[prevIndex])&&prevIndex>curIndex){var _id=_this3.getLeftDatedSlideId(curIndex),_month=_this3.getMonthLink(_id);_this3.line.move(_month),_this3.toggleActiveMonth(_month)}var el,selector,linkOffset=(el=_this3.state.activeMonth,selector=":first-child",(el.matches||el.matchesSelector||el.msMatchesSelector||el.mozMatchesSelector||el.webkitMatchesSelector||el.oMatchesSelector).call(el,selector)?74:10);gsap.a.to(_this3.yearsWrapper,.3,{scrollLeft:_this3.state.activeMonth.offsetLeft-linkOffset})}),this.line.move(this.months[0])}},{key:"checkIfDated",value:function(slide){return slide.classList.contains("timeline-slider__slide_has-date")}},{key:"getLeftDatedSlideId",value:function(index){var slides=Array.from(this.swiper.slides);for(index--;index>-1;){var slide=slides[index];if(this.checkIfDated(slide))return slide.id;index--}}},{key:"getMonthLink",value:function(id){return document.querySelector('[href="#'.concat(id,'"]'))}},{key:"toggleActiveMonth",value:function(month){this.state.activeMonth.classList.remove(this.classes.activeMonth),this.state.activeMonth=month,this.state.activeMonth.classList.add(this.classes.activeMonth)}}]),TimelineSlider}(),main_slider=__webpack_require__(148);function previews_slider_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function previews_slider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function previews_slider_createClass(Constructor,protoProps,staticProps){return protoProps&&previews_slider_defineProperties(Constructor.prototype,protoProps),staticProps&&previews_slider_defineProperties(Constructor,staticProps),Constructor}var previews_slider_PreviewsSlider=function(){function PreviewsSlider(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PreviewsSlider),this.element=element,this.slider=element.querySelector(".swiper-container"),this.arrows={prev:element.querySelector(".swiper-button-prev"),next:element.querySelector(".swiper-button-next")},this.slidesCount=previews_slider_toConsumableArray(this.element.querySelectorAll(".swiper-slide")).length,this.init()}return previews_slider_createClass(PreviewsSlider,null,[{key:"init",value:function(){return previews_slider_toConsumableArray(document.querySelectorAll(".previews-slider")).map(function(el){return new PreviewsSlider(el)})}}]),previews_slider_createClass(PreviewsSlider,[{key:"init",value:function(){this.toggleSliderOnScreenWidth(),window.addEventListener("resize",this.toggleSliderOnScreenWidth.bind(this))}},{key:"initSlider",value:function(){this.swiper&&this.swiper.initialized||(this.swiper=new swiper_min_default.a(this.slider,{slidesPerView:4,initialSlide:0,spaceBetween:24,loop:!0,navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},breakpoints:{1023:{slidesPerView:2},767:{slidesPerView:1}}}))}},{key:"destroySlider",value:function(){this.swiper&&this.swiper.initialized&&(this.swiper.destroy(),this.swiper=null)}},{key:"toggleSliderOnScreenWidth",value:function(){var docWidth=document.documentElement.clientWidth;docWidth>1023&&this.toggleSliderOnSlidesCount(4),docWidth>767&&docWidth<1024&&this.toggleSliderOnSlidesCount(2),docWidth<768&&this.toggleSliderOnSlidesCount(1)}},{key:"toggleSliderOnSlidesCount",value:function(count){this.slidesCount>count?this.initSlider():this.destroySlider()}}]),PreviewsSlider}(),complex_item_slider=__webpack_require__(55);function photo_gallery_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function photo_gallery_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function photo_gallery_createClass(Constructor,protoProps,staticProps){return protoProps&&photo_gallery_defineProperties(Constructor.prototype,protoProps),staticProps&&photo_gallery_defineProperties(Constructor,staticProps),Constructor}var photo_gallery_PhotoGallery=function(){function PhotoGallery(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PhotoGallery),this.element=element,this.topContainer=element.querySelector(".photo-gallery-single"),this.thumbContainer=element.querySelector(".photo-gallery-previews"),this.topContainer&&(this.intersectionObserver=new IntersectionObserver(function(entries){return _this.handleIntersection(entries)}),this.topContainer&&this.intersectionObserver.observe(this.topContainer),this.thumbContainer&&this.intersectionObserver.observe(this.thumbContainer),this.init())}return photo_gallery_createClass(PhotoGallery,null,[{key:"init",value:function(){return photo_gallery_toConsumableArray(document.querySelectorAll(".photo-gallery")).forEach(function(element){return new PhotoGallery(element)})}}]),photo_gallery_createClass(PhotoGallery,[{key:"handleIntersection",value:function(entries){var _this2=this;entries.forEach(function(_ref){var isIntersecting=_ref.isIntersecting,target=_ref.target;isIntersecting&&(target===_this2.thumbContainer&&_this2.galleryThumbs?_this2.galleryThumbs.update():target===_this2.topContainer&&_this2.galleryTop&&_this2.galleryTop.update())})}},{key:"init",value:function(){this.topContainer.querySelector(".swiper-wrapper")||this.wrapSlides(this.topContainer),this.thumbContainer&&!this.thumbContainer.querySelector(".swiper-wrapper")&&this.wrapSlides(this.thumbContainer),this.thumbContainer?this.appendButtons(this.thumbContainer):this.appendButtons(this.topContainer),this.initSliders()}},{key:"wrapSlides",value:function(container){var swiperWrapper=document.createElement("div");swiperWrapper.className="swiper-wrapper",photo_gallery_toConsumableArray(container.children).forEach(function(node){node.classList.add("swiper-slide"),swiperWrapper.appendChild(node)}),container.innerHTML="",container.appendChild(swiperWrapper)}},{key:"appendButtons",value:function(container){this.swiperPrev=document.createElement("button"),this.swiperPrev.className="photo-gallery__arrow swiper-prev",this.swiperPrev.type="button",this.swiperPrev.innerHTML='\n      <svg width="11" height="19" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg">\n        <path d="M5.9 10.9a.35.35 0 0 0 0-.5L1.47 6 5.9 1.6a.35.35 0 0 0 0-.5.36.36 0 0 0-.5 0L.71 5.75a.34.34 0 0 0-.1.25c0 .08.03.18.1.25l4.67 4.64c.14.15.37.15.5 0z" fill="currentColor" stroke="currentColor"/>\n      </svg>\n    ',this.swiperNext=document.createElement("button"),this.swiperNext.className="photo-gallery__arrow swiper-next",this.swiperNext.type="button",this.swiperNext.innerHTML='\n      <svg width="11" height="19" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg">\n        <path d="M5.9 10.9a.35.35 0 0 0 0-.5L1.47 6 5.9 1.6a.35.35 0 0 0 0-.5.36.36 0 0 0-.5 0L.71 5.75a.34.34 0 0 0-.1.25c0 .08.03.18.1.25l4.67 4.64c.14.15.37.15.5 0z" fill="currentColor" stroke="currentColor"/>\n      </svg>\n    ',container.appendChild(this.swiperPrev),container.appendChild(this.swiperNext)}},{key:"initSliders",value:function(){this.thumbContainer&&(this.galleryThumbs=new swiper_min_default.a(this.thumbContainer,{spaceBetween:10,slidesPerView:3,centeredSlides:!0,loop:!0,speed:600,loopedSlides:3,longSwipes:!1,breakpoints:{768:{slidesPerView:2,centeredSlides:!1}}})),this.galleryTop=new swiper_min_default.a(this.topContainer,{effect:"fade",longSwipes:!1,fadeEffect:{crossFade:!0},navigation:{nextEl:this.swiperNext,prevEl:this.swiperPrev},speed:600,loop:!0,loopedSlides:3}),this.thumbContainer&&(this.galleryTop.controller.control=this.galleryThumbs,this.galleryThumbs.controller.control=this.galleryTop)}}]),PhotoGallery}();function news_slider_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function news_slider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var news_slider_NewsSlider=function(){var Constructor,protoProps,staticProps;function NewsSlider(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NewsSlider),this.element=element,this.swiper=new swiper_min_default.a(this.element,{slidesPerView:4,spaceBetween:24,loop:!0,centeredSlides:!1,navigation:{nextEl:this.element.nextElementSibling.nextElementSibling,prevEl:this.element.nextElementSibling},breakpoints:{1024:{slidesPerView:3},803:{slidesPerView:2},523:{slidesPerView:1}}})}return Constructor=NewsSlider,staticProps=[{key:"init",value:function(){return news_slider_toConsumableArray(document.querySelectorAll(".news-slider")).map(function(el){return new NewsSlider(el)})}}],(protoProps=null)&&news_slider_defineProperties(Constructor.prototype,protoProps),staticProps&&news_slider_defineProperties(Constructor,staticProps),NewsSlider}(),sliders=[main_slider.a,layouts_slider_LayoutsSlider,thumb_gallery.a,timeline_TimelineSlider,previews_slider_PreviewsSlider,complex_item_slider.a,photo_gallery_PhotoGallery,news_slider_NewsSlider],moveTo=__webpack_require__(34),moveTo_default=__webpack_require__.n(moveTo);function button_up_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function button_up_createClass(Constructor,protoProps,staticProps){return protoProps&&button_up_defineProperties(Constructor.prototype,protoProps),staticProps&&button_up_defineProperties(Constructor,staticProps),Constructor}var button_up_ButtonUp=function(){function ButtonUp(button){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ButtonUp),button.ButtonUp||(button.ButtonUp=this,this.moveTo=new moveTo_default.a,this.button=button,this.pageWithMapSearchButton=document.querySelector("[data-filter-map-center]"),this.pageWithMapSearchButton&&this.button.classList.add("button-up-n-2_search-center"),this.bindEvents())}return button_up_createClass(ButtonUp,null,[{key:"init",value:function(){var button=document.querySelector(".button-up-n-2");button&&new ButtonUp(button)}}]),button_up_createClass(ButtonUp,[{key:"backToTop",value:function(){window.pageYOffset>0&&this.moveTo.move(document.body,{duration:500})}},{key:"bindEvents",value:function(){var _this=this;window.addEventListener("scroll",function(){window.pageYOffset>200?(_this.button.classList.add("is-visible"),_this.button.disabled=!1):(_this.button.classList.remove("is-visible"),_this.button.disabled=!0)}),this.button.addEventListener("click",function(){return _this.backToTop()})}}]),ButtonUp}();function button_group_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function button_group_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function button_group_createClass(Constructor,protoProps,staticProps){return protoProps&&button_group_defineProperties(Constructor.prototype,protoProps),staticProps&&button_group_defineProperties(Constructor,staticProps),Constructor}var ButtonGroup=function(){function ButtonGroup(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ButtonGroup),this.element=element,this.element.controller=this,this.classes=ButtonGroup.classes,this.buttons=button_group_toConsumableArray(element.querySelectorAll(".".concat(this.classes.button))),this.state={activeButton:this.buttons.find(function(button){return button.classList.contains(_this.classes.activeButton)})},this.toggleActive=this.toggleActive.bind(this),this.handlers=[],this.bindHandlers()}return button_group_createClass(ButtonGroup,null,[{key:"init",value:function(){return button_group_toConsumableArray(document.querySelectorAll(".button-group")).map(function(group){return new ButtonGroup(group)})}},{key:"classes",get:function(){return{button:"button-item",activeButton:"button-item_is_active"}}}]),button_group_createClass(ButtonGroup,[{key:"bindHandlers",value:function(){var _this2=this;this.buttons.map(function(button){button.addEventListener("click",_this2.toggleActive)})}},{key:"registerHandler",value:function(handler){"function"==typeof handler&&this.handlers.push(handler)}},{key:"toggleActive",value:function(event){event.preventDefault();var button=event.currentTarget;this.state.activeButton.classList.remove(this.classes.activeButton),this.state.activeButton=button,this.state.activeButton.classList.add(this.classes.activeButton),this.handlers.map(function(handler){return handler(button)})}}]),ButtonGroup}(),accordion=__webpack_require__(57),axios=__webpack_require__(13),axios_default=__webpack_require__.n(axios),content_search_helpers=__webpack_require__(25),helpers_request=__webpack_require__(60);function subscribe_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function subscribe_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function subscribe_createClass(Constructor,protoProps,staticProps){return protoProps&&subscribe_defineProperties(Constructor.prototype,protoProps),staticProps&&subscribe_defineProperties(Constructor,staticProps),Constructor}var subscribe_SubscribeController=function(){function SubscribeController(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SubscribeController),this.element=element,this.form=element.querySelector("form"),this.button=element.querySelector("button")||element.querySelector('input[type="submit"]'),this.resultContainer=element.querySelector(".subscribe-n-2__result"),this.inputContainer=this.form.querySelector(".input-container-n-2"),this.emailField=this.inputContainer.querySelector("input"),this.inputError=this.inputContainer.querySelector(".input-container-n-2__error"),this.inputError||(this.inputError=document.createElement("div"),this.inputError.classList.add("input-container-n-2__error"),this.inputContainer.appendChild(this.inputError)),this.url=this.form.getAttribute("action"),this.onInput=this.onInput.bind(this),this.bindHandlers()}return subscribe_createClass(SubscribeController,null,[{key:"init",value:function(){return subscribe_toConsumableArray(document.querySelectorAll(".subscribe-n-2")).map(function(element){return new SubscribeController(element)})}}]),subscribe_createClass(SubscribeController,[{key:"bindHandlers",value:function(){var _this=this;this.form.addEventListener("submit",function(event){event.preventDefault();var email=_this.emailField.value;_this.button.setAttribute("disabled",!0),_this.validateEmail(email)?_this.sendRequest():_this.displayError("Укажите верный email")})}},{key:"sendRequest",value:function(){var _this2=this;return axios_default.a.get(this.url,{params:Object(content_search_helpers.b)(this.form,{hash:!0})}).then(function(){_this2.emailField.value="",_this2.showResult("Вы успешно подписались на новости")}).catch(function(){_this2.displayError("Не удалось подписаться")})}},{key:"displayError",value:function(text){this.inputError.innerText=text,this.inputContainer.classList.add("input-container-n-2_has_error"),this.emailField.addEventListener("keydown",this.onInput)}},{key:"onInput",value:function(){this.inputContainer.classList.remove("input-container-n-2_has_error"),this.button.removeAttribute("disabled"),this.emailField.removeEventListener("keydown",this.onInput)}},{key:"showResult",value:function(text){var _this3=this;gsap.a.to(this.form,.5,{opacity:0,yPercent:10,display:"none",onComplete:function(){_this3.showResultText(text),_this3.resultContainer.style.opacity=0}}),gsap.a.to(this.resultContainer,.7,{opacity:1,display:"flex",delay:.5}),gsap.a.to(this.resultContainer,.7,{delay:2.5,opacity:0,display:"none"}),gsap.a.to(this.form,.7,{opacity:1,yPercent:0,display:"flex",delay:3.2})}},{key:"showResultText",value:function(text){this.resultContainer.innerText=text,this.button.removeAttribute("disabled")}},{key:"validateEmail",value:function(email){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)}}]),SubscribeController}();__webpack_require__(59);function anchor_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function anchor_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function anchor_createClass(Constructor,protoProps,staticProps){return protoProps&&anchor_defineProperties(Constructor.prototype,protoProps),staticProps&&anchor_defineProperties(Constructor,staticProps),Constructor}var anchor_AnchorsController=function(){function AnchorsController(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AnchorsController),this.moveTo=new moveTo_default.a,this.links=anchor_toConsumableArray(document.querySelectorAll("[data-anchor]")),this.hasFixableHeader=!!document.querySelector(".js-fixable-header"),this.bindHandlers()}return anchor_createClass(AnchorsController,null,[{key:"init",value:function(){return new AnchorsController}}]),anchor_createClass(AnchorsController,[{key:"bindHandlers",value:function(){var _this=this;this.links.map(function(link){var additionalTolerance=+link.getAttribute("data-anchor-tolerance")||0,href=link.getAttribute("href"),target=document.querySelector(href);href&&target&&link.addEventListener("click",function(event){event.preventDefault();var move=function(){_this.moveTo.move(target,{duration:750,tolerance:60*_this.hasFixableHeader+additionalTolerance})};if(target.dynamicSection){var dynamicSections=anchor_toConsumableArray(document.querySelectorAll(".js-dynamic-section"));if(dynamicSections.indexOf(target)>-1){var targetSectionOffset=target.offsetTop,candidatesToOpen=dynamicSections.filter(function(section){return section!==target}).filter(function(section){var dynamicSection=section.dynamicSection;return!!dynamicSection&&(dynamicSection&&("intersection"===dynamicSection.openOn||"intersection-desktop"===dynamicSection.openOn&&"desktop"===dynamicSection.deviceType)&&section.offsetTop<targetSectionOffset)});candidatesToOpen.length?Promise.all(candidatesToOpen.map(function(candidate){return candidate.dynamicSection.openSection()})).then(function(){target.dynamicSection.openSection(),setTimeout(function(){return move()},0)}):(target.dynamicSection.openSection(),move())}}else move()})})}}]),AnchorsController}(),constants=__webpack_require__(11);function street_view_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function street_view_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function street_view_createClass(Constructor,protoProps,staticProps){return protoProps&&street_view_defineProperties(Constructor.prototype,protoProps),staticProps&&street_view_defineProperties(Constructor,staticProps),Constructor}var street_view_StreetView=function(){function StreetView(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StreetView);var coords=element.getAttribute("data-coords"),direction=element.getAttribute("data-direction");coords&&(this.controlsContainer=document.querySelector(".infrastructure-n-2__tab-container"),this.element=element,this.type=element.getAttribute("data-street-view"),this.ymaps=window.ymaps,this.coords=JSON.parse(coords),this.direction=direction?JSON.parse(direction):[0,0],this.state="initial",this.intersectionObserver=new IntersectionObserver(function(entries){return _this.handleIntersection(entries)}),this.intersectionObserver.observe(this.element))}return street_view_createClass(StreetView,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,views=street_view_toConsumableArray(container.querySelectorAll("[data-street-view]"));return views.map(function(view){return new StreetView(view)})}}]),street_view_createClass(StreetView,[{key:"handleIntersection",value:function(entries){var _this2=this;entries.forEach(function(entry){entry.isIntersecting&&(_this2.intersectionObserver.unobserve(entry.target),"initial"===_this2.state?_this2.initView():"not found"===_this2.state&&_this2.onNotFound())})}},{key:"initView",value:function(){var _this3=this;switch(this.element.classList.add("spinner"),this.type){case"yandex":window.ymaps?this.initYandex():window.ymapsObserver.subscribe(function(){_this3.initYandex()})}}},{key:"initYandex",value:function(){var _this4=this;window.ymaps.panorama.locate(this.coords).then(function(panoramas){panoramas.length?(_this4.state="found",_this4.player=new window.ymaps.panorama.Player(_this4.element,panoramas[0],{controls:["fullscreenControl","panoramaName","zoomControl"],direction:_this4.direction,suppressMapOpenBlock:!0}),_this4.element.classList.add("is-spinner-hidden"),_this4.controlsContainer.classList.add("inited-panorama")):(_this4.state="not found",_this4.onNotFound())})}},{key:"onNotFound",value:function(){var _this5=this;this.element.classList.add("is-spinner-hidden"),setTimeout(function(){var error=document.createElement("div");error.textContent="Не удалось найти панораму",error.style="height: 100%; display: flex; justify-content: center; align-items: center;",_this5.element.appendChild(error)},200),setTimeout(function(){pubsub_default.a.publish(constants.j)},1700)}}]),StreetView}(),light_gallery=__webpack_require__(66);function main_banner_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function main_banner_createClass(Constructor,protoProps,staticProps){return protoProps&&main_banner_defineProperties(Constructor.prototype,protoProps),staticProps&&main_banner_defineProperties(Constructor,staticProps),Constructor}var main_banner_MainBanner=function(){function MainBanner(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MainBanner),this.element=element,this.toggleButton=element.querySelector(".main-banner-n-2__minimize"),this.footer=document.querySelector(".footer-n-2"),this.element.style.cssText="",this.element.classList.add("_minimized"),this.element.classList.add("_show"),this.MAXIMIZE_OFFSET=100,this.isMinimizedByUser=!1,this.cookie=new cookie.a,this.cookie.getCookie("main-banner-minimized")||this.initHandlers(!0)}return main_banner_createClass(MainBanner,null,[{key:"init",value:function(){var banner=document.querySelector(".main-banner-n-2");return banner?new MainBanner(banner):null}}]),main_banner_createClass(MainBanner,[{key:"initHandlers",value:function(showOnFooter){var _this=this;document.addEventListener("scroll",function(){(document.scrollingElement||document.documentElement).scrollTop>=_this.MAXIMIZE_OFFSET&&(showOnFooter||_this.isFooterNotVisible)&&!_this.isMinimizedByUser&&_this.element.classList.remove("_minimized")}),this.toggleButton&&this.toggleButton.addEventListener("click",function(e){e.preventDefault(),_this.element.classList.contains("_minimized")?(_this.isMinimizedByUser=!1,_this.element.classList.remove("_minimized")):(_this.isMinimizedByUser=!0,_this.element.classList.add("_minimized"),_this.setCookie())})}},{key:"setCookie",value:function(){var cookieSettings={path:"/",domain:location.hostname};this.cookie.setCookie("main-banner-minimized",!0,cookieSettings)}},{key:"isFooterNotVisible",get:function(){var windowHeight=window.innerHeight;return this.footer.getBoundingClientRect().top>windowHeight}}]),MainBanner}(),review_vote=__webpack_require__(69);function breadcrumbs_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var breadcrumbs_Breadcrumbs=function(){var Constructor,protoProps,staticProps;function Breadcrumbs(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Breadcrumbs),this.element=element,this.wrapper=element.querySelector(".breadcrumbs__wrapper"),this.ps=new perfect_scrollbar_esm.a(this.wrapper,{wheelSpeed:.7}),window.addEventListener("resize",this.ps.update)}return Constructor=Breadcrumbs,staticProps=[{key:"init",value:function(){var crumbs=document.querySelector(".breadcrumbs");return crumbs?new Breadcrumbs(crumbs):null}}],(protoProps=null)&&breadcrumbs_defineProperties(Constructor.prototype,protoProps),staticProps&&breadcrumbs_defineProperties(Constructor,staticProps),Breadcrumbs}();__webpack_require__(27),__webpack_require__(74);function dev_complexes_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dev_complexes_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function dev_complexes_createClass(Constructor,protoProps,staticProps){return protoProps&&dev_complexes_defineProperties(Constructor.prototype,protoProps),staticProps&&dev_complexes_defineProperties(Constructor,staticProps),Constructor}var dev_complexes_DevComplexes=function(){function DevComplexes(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DevComplexes),this.element=element,this.tabsContainer=element.querySelector(".tabs-links"),this.tabsWrapper=element.querySelector(".tabs-links__wrapper"),this.ymapsScreen=element.querySelector(".ymap-screen"),this.ymapsScreenController=this.ymapsScreen.$controller,this.loadButton=element.querySelector(".dev-complexes-list__load-more .button-n-2"),this.listRow=element.querySelector(".dev-complexes-list .row"),this.icons={recomended:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="0 0 12 13"><path fill="" d="M.01 3.41c0-.72.26-1.3.78-1.74A3 3 0 0 1 2.82 1c.85 0 1.53.22 2.04.66.52.44.78 1.04.78 1.79v.58c0 .72-.26 1.3-.78 1.73-.51.44-1.19.66-2.02.66-.85 0-1.53-.22-2.05-.66a2.22 2.22 0 0 1-.78-1.78zm1.71.63c0 .32.1.58.3.77.21.2.48.3.82.3.33 0 .6-.1.79-.3.2-.2.3-.47.3-.8v-.6c0-.32-.1-.58-.3-.78-.2-.2-.47-.3-.81-.3-.33 0-.6.1-.8.3-.2.2-.3.47-.3.82zm4.63 6.93c0-.72.26-2.3.79-2.74.52-.44 1.2-.66 2.02-.66.85 0 1.53.21 2.05.65.52.43.78 1.03.78 1.8v.57c0 .72-.26 1.3-.77 1.74a3 3 0 0 1-2.04.66c-.85 0-1.54-.22-2.05-.67-.52-.44-.78-.03-.78-.76zm1.71-.37c0 .3.1.55.32.76.22.21.48.31.8.31.73 0 1.09-.36 1.09-1.08v-.61c0-.33-.1-.59-.3-.78-.2-.2-.47-.3-.8-.3-.34 0-.6.1-.8.3-.2.2-.3.46-.3.8zm2.68-8.76l-1.25-.6-8.33 11.1 1.25.62z"/></svg>',mortgage:'<svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 9.1L8 3.1L2 9.1V15C2 15.6 2.4 16 3 16H8.1C8.5 17.1 10.1 17.9 12 17.9C14.2 17.9 16 16.8 16 15.4C16 15 15.9 14.7 15.7 14.4C15.9 14.1 16 13.8 16 13.4C16 13 15.9 12.7 15.7 12.4C15.9 12.1 16 11.8 16 11.4C16 10.5 15.2 9.7 13.9 9.2V9.1H14ZM12.1 16.9C10.8 16.9 9.8 16.5 9.4 15.9C9.3 15.8 9.2 15.6 9.2 15.4C9.2 15.3 9.2 15.2 9.3 15.1C10 15.6 11.1 15.9 12.2 15.9C12.8 15.9 13.3 15.8 13.8 15.7C14.3 15.6 14.8 15.3 15.1 15.1C15.2 15.2 15.2 15.3 15.2 15.4C15 16.1 13.8 16.9 12.1 16.9ZM15 13.7C14.9 13.9 14.6 14.2 14.2 14.4L14 14.5C13.5 14.7 12.8 14.9 12.1 14.9C11.2 14.9 10.5 14.7 10 14.4C9.6 14.2 9.4 14 9.2 13.7C9.2 13.6 9.1 13.5 9.1 13.4C9.1 13.3 9.1 13.2 9.2 13.1C10.1 13.6 11.1 13.9 12.1 13.9C13.1 13.9 14.1 13.6 15 13.1C15 13.2 15.1 13.3 15.1 13.4C15.1 13.5 15 13.6 15 13.7ZM15 11.8C14.9 12 14.6 12.3 14.2 12.5H14C13.5 12.7 12.8 12.9 12.1 12.9C11.2 12.9 10.5 12.7 10 12.4C9.6 12.2 9.4 12 9.2 11.7C9.2 11.6 9.1 11.5 9.1 11.4C9.1 10.7 10.4 9.9 12.1 9.9C12.8 9.9 13.5 10.1 14 10.3C14.6 10.6 15.1 11 15.1 11.4C15 11.6 15 11.7 15 11.8ZM15.7 7.3L8.7 0.3C8.3 -0.1 7.7 -0.1 7.3 0.3L0.3 7.3C0.1 7.5 0 7.8 0 8L1.1 9L8 2L15 9L16 8C16 7.8 15.9 7.5 15.7 7.3Z" fill="white"></path></svg>',installment:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.99518 1.66672C5.39102 1.66672 1.66602 5.39588 1.66602 10.0001C1.66602 14.6042 5.39102 18.3334 9.99518 18.3334C14.5993 18.3334 18.3327 14.6042 18.3327 10.0001C18.3327 5.39588 14.5993 1.66672 9.99518 1.66672ZM9.99935 16.6667C6.31602 16.6667 3.33268 13.6834 3.33268 10.0001C3.33268 6.31672 6.31602 3.33338 9.99935 3.33338C13.6827 3.33338 16.666 6.31672 16.666 10.0001C16.666 13.6834 13.6827 16.6667 9.99935 16.6667Z" fill="white"></path><path d="M10.416 5.83328H9.16602V10.8333L13.5368 13.4583L14.166 12.4333L10.416 10.2083V5.83328Z" fill="white"></path></svg>',favorite:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 21 19" fill="none"><path d="M9.64174 3.63033C9.8224 3.93176 10.148 4.11624 10.4994 4.11625C10.8509 4.11626 11.1765 3.93181 11.3572 3.63039C12.6037 1.55098 14.2477 0.889229 15.6855 1.01486C17.1737 1.14489 18.6267 2.1317 19.4119 3.71787C20.184 5.27743 20.323 7.46301 19.0482 9.96824C17.8062 12.409 15.2046 15.174 10.4995 17.8537C5.79482 15.1741 3.19353 12.409 1.95168 9.96828C0.67701 7.46304 0.816073 5.27744 1.58806 3.71785C2.37321 2.13166 3.82614 1.14488 5.31414 1.01485C6.7517 0.889237 8.39547 1.55093 9.64174 3.63033Z" stroke="#BFC9D5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',compare:'<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.17358 0C4.06909 0 3.17358 0.895416 3.17358 2V3.78262H2C0.895508 3.78262 0 4.67807 0 5.78262V15C0 16.1046 0.895508 17 2 17H11.2173C12.322 17 13.2173 16.1046 13.2173 15V13.8261H14.9998C16.1042 13.8261 16.9998 12.9307 16.9998 11.8261V2C16.9998 0.895416 16.1042 0 14.9998 0H5.17358ZM13.2173 11.8261H14.9998V2H5.17358V3.78262H11.2173C12.322 3.78262 13.2173 4.67804 13.2173 5.78262V11.8261ZM2 5.78262H11.2173V15H2V5.78262Z" fill="#071321"></path></svg>',phone:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path></svg>'},this.switches=dev_complexes_toConsumableArray(element.querySelectorAll(".tabs-links__link")),this.line=new tab_line.a({buttons:this.switches,line:element.querySelector(".tabs-links__line"),bindClick:!0});var activeSwitch=this.switches.find(function(el){return el.classList.contains("button-item_is_active")});this.state={category:activeSwitch?activeSwitch.getAttribute("data-category"):"all"},this.bindHandlers()}return dev_complexes_createClass(DevComplexes,null,[{key:"init",value:function(){var el=document.querySelector(".developer-complexes");return el?new DevComplexes(el):null}}]),dev_complexes_createClass(DevComplexes,[{key:"bindHandlers",value:function(){var _this=this;this.switches.map(function(el){el.addEventListener("click",function(){var category=el.getAttribute("data-category");_this.state.category=category,_this.refreshList()})}),this.loadButton.addEventListener("click",function(event){event.preventDefault(),_this.loadItems()})}},{key:"loadItems",value:function(){var _this2=this;return fetch(this.loadButton.href).then(function(resp){return resp.json()}).then(function(data){data&&data.items&&data.items.map(function(item){var itemNode=_this2.createItem(item);_this2.listRow.appendChild(itemNode);var favorite=itemNode.querySelector("[data-favorite]"),compare=itemNode.querySelector("[data-compare-n-2]"),phoneNumber=itemNode.querySelector(".phone-number-n-2"),slider=itemNode.querySelector(".complex-item-slider");return tooltip.a.init(),[new favorite_favorite.a(favorite),new compare_storage.a(compare),phoneNumber?new phone_number.a(phoneNumber):null,slider?new complex_item_slider.a(slider):null]}),_this2.loadButton.href=data.url||"",_this2.refreshList()})}},{key:"refreshList",value:function(){var complexItems=dev_complexes_toConsumableArray(document.querySelectorAll(".complex-item-n-2")),coordsList=[],category=this.state.category,counter=0;complexItems.map(function(item){var itemCategory=item.getAttribute("data-state");if("all"===category||category===itemCategory){var coords;try{coords=JSON.parse(item.getAttribute("data-coords"))}catch(error){}coords&&coordsList.push({location:coords,id:item.getAttribute("data-id")}),item.parentNode.style.display="",item.parentNode.style.order=counter,2===++counter&&counter++}else item.parentNode.style.display="none",item.parentNode.style.order=""}),this.ymapsScreen.parentNode.style.order=2,this.refreshMap(coordsList)}},{key:"refreshMap",value:function(coordsList){coordsList.length&&(this.ymapsScreenController.setCoords(coordsList),this.ymapsScreenController.getScreen(),this.ymapsScreenController.addMultipleMarks())}},{key:"createItem",value:function(itemData){var _this3=this,itemWrapper=document.createElement("div");itemWrapper.className="col col_xs-4 col_sm-6 col_lg-3";var complex=document.createElement("div");complex.className="complex-item-n-2",complex.setAttribute("data-id",itemData.id),itemData.location&&itemData.location[0]&&complex.setAttribute("data-coords","[[[".concat(itemData.location[0][0].join(","),"]]]")),complex.setAttribute("data-state","Дом сдан"===itemData.dedline?"ready":"building");var media=document.createElement("a");if(media.className="complex-item-n-2__image",media.setAttribute("target","_blank"),media.setAttribute("href",itemData.link),media.style.backgroundImage="url('".concat(itemData.image,"')"),itemData.recommended||itemData.mortgage||itemData.installment||itemData.action){var labelsWrapper=document.createElement("div");labelsWrapper.className="complex-item-n-2__info-labels";var labelNames=[];itemData.recommended&&labelNames.push("recommended"),itemData.mortgage&&labelNames.push("mortgage"),itemData.action&&labelNames.push("action"),itemData.installment&&labelNames.push("installment"),[].concat(labelNames).forEach(function(label){var labelItem=document.createElement("div");labelItem.className="info-label-n-2 info-label-n-2_".concat(label,"  "),labelItem.setAttribute("data-tip",itemData[label]),labelItem.setAttribute("data-style",label),labelItem.innerHTML=_this3.icons[label],labelsWrapper.appendChild(labelItem)}),media.appendChild(labelsWrapper)}complex.appendChild(media);var controlsBlock=document.createElement("div");controlsBlock.className="complex-item-n-2__controls",controlsBlock.innerHTML='\n      <div class="complex-item-n-2__control">\n        <div class="manage-complex-btn-n-2"\n          data-tip="Добавить в избранное"\n          data-id="'.concat(itemData.id,'"\n          data-type="').concat(itemData.type,'"\n          data-favorite="">\n          ').concat(this.icons.favorite,'\n        </div>\n      </div>\n      <div class="complex-item-n-2__control">\n        <div class="manage-complex-btn-n-2"\n          data-tip="Добавить в сравнение"\n          data-id="').concat(itemData.id,'"\n          data-type="').concat(itemData.type,'"\n          data-compare-n-2="">\n          ').concat(this.icons.compare,"\n        </div>\n      </div>\n    "),complex.appendChild(controlsBlock);var bodyBlock=document.createElement("div"),bodyTemplate="";return bodyBlock.className="complex-item-n-2__body",bodyTemplate+='\n      <a class="complex-item-n-2__name" href="'.concat(itemData.link,'" target="_blank">').concat(itemData.name,'</a>\n      <div class="complex-item-n-2__price-block').concat("cottages"===itemData.type?" complex-item-n-2__price-block__cottages":"",'">\n        <div class="complex-item-n-2__total-price">').concat(itemData.price,'</div>\n        <div class="complex-item-n-2__price-per-square">').concat(itemData.priceM?itemData.priceM:"",'</div>\n      </div>\n      <div class="complex-item-n-2__data">\n        <div class="complex-item-n-2__location">').concat(itemData.locationCity?itemData.locationCity:"","</div>\n        ").concat(itemData.metroString?itemData.metroString:"",'\n        <div class="complex-item-n-2__time">Срок ввода:<span>  ').concat(itemData.dedline,"</span></div>\n      </div>"),itemData.telNumber&&(bodyTemplate+='<div class="complex-item-n-2__phone">\n        <a class="phone-number-n-2 phone-number-n-2_theme_yellow" href="tel: '.concat(itemData.telNumber,'" data-tel="').concat(itemData.telNumber,'" \n          onclick="ym(39897405, \'reachGoal\', Click_phone\');">\n          <div class="phone-number-n-2__icon">\n            ').concat(this.icons.phone,'\n          </div>\n          <div class="phone-number-n-2__number">\n            +7 <span>Показать телефон</span>\n          </div>\n        </a>\n      </div>\n    ')),bodyBlock.innerHTML=bodyTemplate,complex.appendChild(bodyBlock),itemWrapper.appendChild(complex),itemWrapper}}]),DevComplexes}(),circle_chart=__webpack_require__(104);function dev_ratings_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var dev_landing=[dev_complexes_DevComplexes,function(){var Constructor,protoProps,staticProps;function DevRatings(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DevRatings),this.element=element,this.ratingAnimation=new circle_chart.a({wrapper:".rating-badge__background",data:"ranking",colorRange:["#fa0000","#ff7200","#ffa800","#ffc63e"],maxValue:5,circle:{background:"#e8e8e8",thickness:6,backwards:!0,ease:"Bounce.easeOut",speed:2}}),this.ratingAnimation.init()}return Constructor=DevRatings,staticProps=[{key:"init",value:function(){var el=document.querySelector(".developer-rating .ratings-list");return el?new DevRatings(el):null}}],(protoProps=null)&&dev_ratings_defineProperties(Constructor.prototype,protoProps),staticProps&&dev_ratings_defineProperties(Constructor,staticProps),DevRatings}()];__webpack_require__(258);function fixable_header_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function fixable_header_createClass(Constructor,protoProps,staticProps){return protoProps&&fixable_header_defineProperties(Constructor.prototype,protoProps),staticProps&&fixable_header_defineProperties(Constructor,staticProps),Constructor}var FixableHeader=function(){function FixableHeader(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FixableHeader),this.element=element,this.wrapper=document.querySelector(".js-fixable-header-wrapper"),this.pageWrapper=document.querySelector(".container.page-wrapper"),this.mobileState=this.element.hasAttribute("data-fixable-mobile"),this.customBodyClass=this.element.getAttribute("data-custom-class"),this.state={fixed:!1,inited:!1},this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),window.addEventListener("resize",this.onResize),this.onResize(),(document.documentElement.clientWidth>=768||this.mobileState)&&this.onScroll()}return fixable_header_createClass(FixableHeader,null,[{key:"init",value:function(){var el=document.querySelector(".js-fixable-header");return el?new FixableHeader(el):null}}]),fixable_header_createClass(FixableHeader,[{key:"init",value:function(){document.addEventListener("scroll",this.onScroll),this.state.inited=!0}},{key:"disable",value:function(){document.removeEventListener("scroll",this.onScroll),document.body.classList.remove(this.customBodyClass||"with-sticky-header"),this.wrapper.classList.remove("is-fixed"),this.element.classList.remove("js-fixable-header_fixed"),this.state.inited=!1}},{key:"onScroll",value:function(){this.wrapper.getBoundingClientRect().top<0?this.state.fixed||(this.setWidth(),document.body.classList.add(this.customBodyClass||"with-sticky-header"),this.wrapper.classList.add("is-fixed"),this.element.classList.add("js-fixable-header_fixed"),this.state.fixed=!0):this.state.fixed&&(document.body.classList.remove(this.customBodyClass||"with-sticky-header"),this.wrapper.classList.remove("is-fixed"),this.element.classList.remove("js-fixable-header_fixed"),this.resetWidth(),this.state.fixed=!1)}},{key:"onResize",value:function(){this.state.inited&&this.state.fixed&&this.setWidth(),document.documentElement.clientWidth<768&&!this.mobileState?this.state.inited&&this.disable():this.state.inited||this.init()}},{key:"setWidth",value:function(){this.element.style.width="".concat(this.pageWrapper.clientWidth,"px")}},{key:"resetWidth",value:function(){this.element.style.width=""}}]),FixableHeader}();function parallax_banner_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function parallax_banner_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function parallax_banner_createClass(Constructor,protoProps,staticProps){return protoProps&&parallax_banner_defineProperties(Constructor.prototype,protoProps),staticProps&&parallax_banner_defineProperties(Constructor,staticProps),Constructor}var ParallaxBanner=function(){function ParallaxBanner(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ParallaxBanner),this.element=element,this.background=element.querySelector(".parallax-banner__background"),this.background&&this.init()}return parallax_banner_createClass(ParallaxBanner,null,[{key:"init",value:function(){return parallax_banner_toConsumableArray(document.querySelectorAll(".parallax-banner")).map(function(el){return new ParallaxBanner(el)})}}]),parallax_banner_createClass(ParallaxBanner,[{key:"init",value:function(){var _this=this;window.lazyloadInstance&&window.lazyloadInstance.update(),this.background.style.position="absolute",this.background.style.top="0",this.background.style.left="0",this.background.style.width="100%",this.background.style.height="auto";var scrollingElement=document.scrollingElement||document.documentElement;document.addEventListener("scroll",function(){if(_this.isVisible(_this.element)){var scrollTop=window.pageYOffset||document.documentElement.scrollTop,diff=_this.element.getBoundingClientRect().top-scrollingElement.scrollTop+scrollTop,offset=_this.background.clientHeight-_this.element.clientHeight,move=diff*(_this.element.getAttribute("data-speed")||.5);_this.background.style.top="".concat(-(move>offset?offset:move),"px")}})}},{key:"isVisible",value:function(el){var coords=el.getBoundingClientRect(),windowHeight=window.innerHeight,top=coords.top+el.clientHeight;return coords.top<windowHeight&&top>0}}]),ParallaxBanner}(),inputmask=__webpack_require__(184),sticky_container=__webpack_require__(185);function infrastructure_select_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function infrastructure_select_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function infrastructure_select_createClass(Constructor,protoProps,staticProps){return protoProps&&infrastructure_select_defineProperties(Constructor.prototype,protoProps),staticProps&&infrastructure_select_defineProperties(Constructor,staticProps),Constructor}var InfrastructureSelect=function(){function InfrastructureSelect(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InfrastructureSelect),this.element=element,this.elementHeader=element.querySelector(".infrastructure-n-2-select__header"),this.isOpened=!1,this.bindEvents()}return infrastructure_select_createClass(InfrastructureSelect,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=infrastructure_select_toConsumableArray(container.querySelectorAll(".infrastructure-n-2-select"));elements.forEach(function(element){new InfrastructureSelect(element)})}}]),infrastructure_select_createClass(InfrastructureSelect,[{key:"bindEvents",value:function(){var _this=this;this.elementHeader&&this.elementHeader.addEventListener("click",function(){return _this.handleHeaderClick()})}},{key:"handleHeaderClick",value:function(){this.element.classList.toggle("is-open"),this.isOpened=!this.isOpened,this.element.dispatchEvent(new CustomEvent(this.isOpened?"opened":"closed"))}}]),InfrastructureSelect}(),search_input=__webpack_require__(143),fullscreen=__webpack_require__(67),zoom=__webpack_require__(56);function contact_map_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function contact_map_createClass(Constructor,protoProps,staticProps){return protoProps&&contact_map_defineProperties(Constructor.prototype,protoProps),staticProps&&contact_map_defineProperties(Constructor,staticProps),Constructor}var contact_map_ContactMap=function(){function ContactMap(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ContactMap),this.element=element;var centerFromAttribute=element.getAttribute("data-center");this.mapCenter=centerFromAttribute?JSON.parse(centerFromAttribute):[2,1],this.imageLink="localhost"===window.location.hostname?"/static/img/minified-svg/":"/build-redesign/static/img/minified-svg/",this.init()}return contact_map_createClass(ContactMap,null,[{key:"init",value:function(){var element=document.querySelector(".contact-page__map");if(element)return new ContactMap(element)}}]),contact_map_createClass(ContactMap,[{key:"init",value:function(){var _this=this;window.ymaps?this.bindMapEvents():window.ymapsObserver.subscribe(function(){_this.bindMapEvents()})}},{key:"initMap",value:function(){var _this2=this,zoomControl=Object(zoom.a)(this.ymaps,{top:"14px",left:"17px"}),fullscreenControl=Object(fullscreen.a)({ymaps:this.ymaps,position:{top:"106px",left:"17px"}});this.mapHintLayout=this.ymaps.templateLayoutFactory.createClass('\n      <div class="contact-hint">\n        <div class="contact-hint__name">{{ properties.name }}</div>\n        <div class="contact-hint__time">{{ properties.time }}</div>\n      </div>\n    '),this.map=new this.ymaps.Map(this.element,{center:this.mapCenter,zoom:16,controls:[]},{maxZoom:18,minZoom:8,suppressMapOpenBlock:!0}),this.map.controls.add(zoomControl),this.map.controls.add(fullscreenControl),this.mapPlacemark=new this.ymaps.Placemark(this.mapCenter,{name:"Новостроев",time:"До 19:00"},{hintOpenHintOnHover:!1,hintOffset:[55,-30],hintCloseTimeout:133713371337,hintLayout:this.mapHintLayout,iconLayout:"default#image",iconImageHref:"".concat(this.imageLink,"maps-baloon-logo.svg"),iconImageSize:[60,65],iconImageOffset:[-5,-38]}),this.mapPlacemark.events.add("mouseleave",function(){_this2.mapPlacemark.hint.open()}),this.map.events.add("hintclose",function(){_this2.mapPlacemark.hint.open()}),fullscreenControl.events.add("fullscreenenter",function(){_this2.mapPlacemark.hint.open()}),fullscreenControl.events.add("fullscreenexit",function(){_this2.mapPlacemark.hint.open()}),this.map.geoObjects.add(this.mapPlacemark),this.mapPlacemark.hint.open(),this.map.events.add("actiontick",function(){_this2.mapPlacemark.hint.open()})}},{key:"bindMapEvents",value:function(){var _this3=this;this.ymaps=window.ymaps,this.ymaps.ready(function(){_this3.element.innerHTML="",_this3.initMap()})}}]),ContactMap}();function useful_videos_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function useful_videos_createClass(Constructor,protoProps,staticProps){return protoProps&&useful_videos_defineProperties(Constructor.prototype,protoProps),staticProps&&useful_videos_defineProperties(Constructor,staticProps),Constructor}var useful_videos_UsefulVideos=function(){function UsefulVideos(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UsefulVideos),this.element=element,this.intersectionObserver=new IntersectionObserver(function(entries){return _this.handleIntersection(entries)}),this.intersectionObserver.observe(this.element)}return useful_videos_createClass(UsefulVideos,null,[{key:"init",value:function(){var element=document.querySelector(".useful-videos__slider");if(element)return new UsefulVideos(element)}}]),useful_videos_createClass(UsefulVideos,[{key:"init",value:function(){this.swiper=new swiper_min_default.a(this.element,{slidesPerView:"auto",navigation:{nextEl:this.element.nextElementSibling.nextElementSibling,prevEl:this.element.nextElementSibling},lazy:{loadPrevNext:!0}})}},{key:"handleIntersection",value:function(entries){entries[0].isIntersecting&&(this.init(),this.intersectionObserver.disconnect())}}]),UsefulVideos}(),setFormState=(__webpack_require__(93),__webpack_require__(70));function callback_modal_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function callback_modal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function callback_modal_createClass(Constructor,protoProps,staticProps){return protoProps&&callback_modal_defineProperties(Constructor.prototype,protoProps),staticProps&&callback_modal_defineProperties(Constructor,staticProps),Constructor}var callback_modal_CallbackModal=function(){function CallbackModal(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CallbackModal),this.form=element,this.modalNode=document.querySelector("#modal-callback-right"),this.statusModalNode=document.querySelector("#modal-callback-status-right"),this.statusModalText=this.statusModalNode.querySelector(".js-modal-form-status"),this.formAdvInput=document.querySelector(".js-modal-callback-trigger-adv")||document.querySelector('input[name="adv"]'),this.formHeader=document.querySelector(".modal-callback__title"),this.daySelect=this.form.querySelector("#modal-date"),this.timeSelect=this.form.querySelector("#modal-time"),this.phone=this.form.querySelector('[name="phone"]'),this.submitButton=this.form.querySelector('[type="submit"]'),this.daySelect&&this.timeSelect&&(this.errorsContainer=document.createElement("div"),this.errorsContainer.className="modal-callback__errors",this.bindEvents())}return callback_modal_createClass(CallbackModal,null,[{key:"init",value:function(){var element=document.querySelector(".js-modal-callback");if(element)return new CallbackModal(element)}}]),callback_modal_createClass(CallbackModal,[{key:"bindEvents",value:function(){var _this=this;"undefined"!=typeof callback_days&&callback_days.length&&this.daySelect.addEventListener("change",function(){return _this.initCallback()}),this.form.addEventListener("submit",function(event){event.preventDefault();var url=_this.form.getAttribute("action"),serializedFormData=Object(content_search_helpers.b)(_this.form,{hash:!0}),formData=Object(helpers_request.b)(serializedFormData);return axios_default.a.post(url,formData).then(function(response){var data=response.data;if(data&&!1===data.success)(errors=data.errors)&&Array.isArray(errors)&&(_this.errorsContainer.parentNode&&_this.errorsContainer.parentNode.removeChild(_this.errorsContainer),_this.errorsContainer.innerHTML="",errors.forEach(function(error){var errorContainer=document.createElement("div");errorContainer.className="modal-callback_error",errorContainer.innerText=error,_this.errorsContainer.appendChild(errorContainer)}),_this.submitButton.parentNode.insertBefore(_this.errorsContainer,_this.submitButton));else{var errors;_this.errorsContainer.parentNode&&_this.errorsContainer.parentNode.removeChild(_this.errorsContainer);var currentTimestamp=Math.floor(Date.now()/1e3),callbackTimestamp=+_this.timeSelect.value,date=_this.daySelect.querySelector('option[value="'.concat(serializedFormData.date,'"]')),time=_this.timeSelect.querySelector('option[value="'.concat(serializedFormData.time,'"]'));_this.statusModalText.innerHTML=currentTimestamp>callbackTimestamp?'\n              <div class="h3">\n                Спасибо за вашу заявку!\n              </div>\n              <div>\n                Менеджер свяжется с вами в течение 30 секунд, по номеру \n                <nobr>'.concat(_this.phone.mask.value,"</nobr>\n              </div>"):'\n            <div class="h3">Спасибо за вашу заявку!</div>\n            <div>Менеджер свяжется с вами '.concat(date.innerText.toLowerCase(),"<br/> в ").concat(time.innerText.toLowerCase()," по номеру <nobr>").concat(_this.phone.mask.value,"</nobr></div>")}}).catch(function(){_this.statusModalText.innerText="Ошибка при отправке, свяжитесь с нами по телефону +7 (495) 662-97-55"}).finally(function(){_this.form.reset(),callback_modal_toConsumableArray(_this.form.elements).forEach(function(element){element.mask&&(element.mask.updateValue(""),element.mask.updateControl())})})}),this.modalNode.addEventListener("show.bs.modal-n-2",function(){_this.formAdvInput.value=_this.modalNode.modalTrigger.getAttribute("data-form-adv"),_this.formHeader.innerText=_this.modalNode.modalTrigger.getAttribute("data-form-title");var data=_this.modalNode.modalTrigger.getAttribute("data-form-state");if(data)try{var json=JSON.parse(data);json&&Object(setFormState.a)(_this.form,json)}catch(e){}_this.initCallback()})}},{key:"initCallback",value:function(){var data=callback_days[this.daySelect.value];if(data){var nextOptions=[];data.hours.forEach(function(item,index){nextOptions.push({value:item.timestamp.toString(),text:item.title,selected:0===index})}),this.timeSelect.Select&&this.timeSelect.Select.setData(nextOptions)}}}]),CallbackModal}();function controllable_modal_slider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function controllable_modal_slider_createClass(Constructor,protoProps,staticProps){return protoProps&&controllable_modal_slider_defineProperties(Constructor.prototype,protoProps),staticProps&&controllable_modal_slider_defineProperties(Constructor,staticProps),Constructor}var controllable_modal_slider_ControllableModalSlider=function(){function ControllableModalSlider(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ControllableModalSlider),this.element=element}return controllable_modal_slider_createClass(ControllableModalSlider,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".js-article-modal-slider");if(element)return new ControllableModalSlider(element)}}]),controllable_modal_slider_createClass(ControllableModalSlider,[{key:"init",value:function(){this.swiper=new swiper_min_default.a(this.element,{loop:!0,sliderPerView:1,navigation:{nextEl:this.element.nextElementSibling.nextElementSibling,prevEl:this.element.nextElementSibling}}),this.element.swiper=this.swiper}}]),ControllableModalSlider}();function controllable_modal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function controllable_modal_createClass(Constructor,protoProps,staticProps){return protoProps&&controllable_modal_defineProperties(Constructor.prototype,protoProps),staticProps&&controllable_modal_defineProperties(Constructor,staticProps),Constructor}var controllable_modal_ControllableModal=function(){function ControllableModal(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ControllableModal),this.element=element,this.element.Modal&&(this.state={show:!1},this.modalShowDelay=+this.element.getAttribute("data-modal-time"),this.modalShowOnArticleEnd=this.element.hasAttribute("data-show-on-end"),this.modalSlider=controllable_modal_slider_ControllableModalSlider.init(this.element),this.onScroll=this.onScroll.bind(this),this.init())}return controllable_modal_createClass(ControllableModal,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,element=container.querySelector(".js-controllable-modal");if(element)return new ControllableModal(element)}}]),controllable_modal_createClass(ControllableModal,[{key:"init",value:function(){var _this=this;this.modalShowOnArticleEnd&&(this.article=document.querySelector(".article"),this.article&&this.bindScrollEvent()),this.modalShowDelay>0&&setTimeout(function(){_this.openModal()},1e3*this.modalShowDelay)}},{key:"bindScrollEvent",value:function(){document.addEventListener("scroll",this.onScroll)}},{key:"unbindScrollEvent",value:function(){document.removeEventListener("scroll",this.onScroll)}},{key:"onScroll",value:function(){this.article.getBoundingClientRect().bottom-document.documentElement.clientHeight<-document.documentElement.clientHeight/10&&this.openModal()}},{key:"openModal",value:function(){this.state.show?this.unbindScrollEvent():(this.state.show=!0,this.element.Modal.show(),this.modalSlider&&this.modalSlider.init())}}]),ControllableModal}(),lazyload_script=__webpack_require__(46);function yandex_share_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function yandex_share_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var yandex_share_YandexShare=function(){function YandexShare(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,YandexShare)}var Constructor,protoProps,staticProps;return Constructor=YandexShare,staticProps=[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=yandex_share_toConsumableArray(container.querySelectorAll(".js-yandex-share"));if(elements.length&&Object(lazyload_script.a)({elements:elements,scriptSrc:"//yastatic.net/share2/share.js"}),window.MutationObserver){var mutationObserver=new MutationObserver(function(mutations,observer){mutations.forEach(function(mutation){var telegramLink=mutation.target.querySelector(".ya-share2__item_service_telegram a");telegramLink&&(telegramLink.href=telegramLink.href.replace("telegram.me","ttttt.me"))})});elements.forEach(function(element){return mutationObserver.observe(element,{childList:!0})})}}}],(protoProps=null)&&yandex_share_defineProperties(Constructor.prototype,protoProps),staticProps&&yandex_share_defineProperties(Constructor,staticProps),YandexShare}(),tingle_min=__webpack_require__(113),tingle_min_default=__webpack_require__.n(tingle_min);function ymap_screen_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ymap_screen_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ymap_screen_createClass(Constructor,protoProps,staticProps){return protoProps&&ymap_screen_defineProperties(Constructor.prototype,protoProps),staticProps&&ymap_screen_defineProperties(Constructor,staticProps),Constructor}var ymap_screen_YmapScreen=function(){function YmapScreen(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,YmapScreen);var coords=element.getAttribute("data-coords"),parsedCoords=coords?JSON.parse(coords):null;Array.isArray(parsedCoords)&&(this.element=element,this.coords=parsedCoords,this.coordsRev=this.coords.slice().reverse(),this.modalOverlayButton=element.querySelector(".ymap-screen__overlay-link"),this.modalButton=element.querySelector(".ymap-screen__control a"),this.width=438,this.height=450,this.multiple=element.hasAttribute("data-multiple"),this.element.$controller=this,this.searchAjaxUrlItem=this.element.getAttribute("data-request-url"),this.getScreen(),Object(lazyload_script.a)({elements:[this.element],observerMargin:100,onLoad:function(){return _this.bindMapEvents()},scriptSrc:"https://api-maps.yandex.ru/2.1/?lang=ru_RU&onload=ymapsBroadcast&apikey=81fd4d74-8f99-4223-b3a9-ced2137399e7",scriptUniqueSelector:"api-maps.yandex"}))}return ymap_screen_createClass(YmapScreen,null,[{key:"init",value:function(){return ymap_screen_toConsumableArray(document.querySelectorAll(".ymap-screen")).map(function(screen){return new YmapScreen(screen)})}}]),ymap_screen_createClass(YmapScreen,[{key:"bindMapEvents",value:function(){var _this2=this;window.ymaps?(this.ymaps=window.ymaps,this.initHandlers()):window.ymapsObserver.subscribe(function(){_this2.ymaps=window.ymaps,_this2.initHandlers()})}},{key:"getScreen",value:function(){var _this3=this,url="https://static-maps.yandex.ru/1.x/?size=".concat(this.width,",").concat(this.height,"&l=map");this.multiple?(url+="&pt=",url+=this.coords.map(function(item){return"".concat(item.location[0][0].reverse().join(","),",home")}).join("~")):url+="&ll=".concat(this.coordsRev.join(","),"&z=16");var screenMap=document.createElement("img");screenMap.src=url,screenMap.addEventListener("load",function(){var map=document.createElement("div");map.classList.add("ymap-screen__image"),map.style.backgroundImage='url("'.concat(url,'")'),_this3.element.appendChild(map),_this3.element.classList.add("ymap-screen_loaded")})}},{key:"setCoords",value:function(coords){this.coords=coords}},{key:"initHandlers",value:function(){var _this4=this;this.modalButton&&this.ymaps.ready(function(){_this4.initModalMap(),_this4.modalButton.style.display="",_this4.modalButton.addEventListener("click",function(event){event.preventDefault(),_this4.modal.open()}),_this4.modalOverlayButton.addEventListener("click",function(event){event.preventDefault(),_this4.modal.open()}),ymap_screen_toConsumableArray(document.querySelectorAll("[data-screen-map-modal]")).map(function(button){button.addEventListener("click",function(event){event.preventDefault(),_this4.modal.open()})}),_this4.createBallonContent()})}},{key:"initModalMap",value:function(){var controller=this;this.modal=new tingle_min_default.a.modal({footer:!1,closeMethods:["overlay","button","escape"],cssClass:["ymaps-modal"],onOpen:function(){controller.map&&(controller.multiple?controller.map.setBounds(controller.map.geoObjects.getBounds(),{checkZoomRange:!0}):controller.map.setCenter(controller.coords),controller.map.container.fitToViewport())}}),this.map=new this.ymaps.Map(this.modal.modalBoxContent,{center:this.multiple?[55.741075,37.624988]:this.coords,zoom:16,controls:["zoomControl"]},{searchControlProvider:"yandex#search",maxZoom:16}),this.multiple?this.addMultipleMarks():this.map.geoObjects.add(this.createPlaceMark(this.coords))}},{key:"addMultipleMarks",value:function(){var _this5=this;this.map.geoObjects.removeAll(),this.coords.map(function(item){_this5.map.geoObjects.add(_this5.createPlaceMark(item.location[0][0].reverse(),item.id))}),this.map.setBounds(this.map.geoObjects.getBounds(),{checkZoomRange:!0})}},{key:"createPlaceMark",value:function(coords,id){var _this6=this,imgBase="localhost"===location.hostname?"":"/build-redesign/",placemark=new this.ymaps.Placemark(coords,{objId:id||"123",ballonGetted:!1},{iconLayout:"default#image",iconImageHref:"".concat(imgBase,"static/img/minified-svg/ico-complex-on-map.svg"),iconImageSize:[50,50],iconImageOffset:[-15,-45],zIndex:9e3,id:"zoomMark"});return id&&placemark.events.add("click",function(e){_this6.getLotInfo(e.originalEvent.target)}),placemark}},{key:"getLotInfo",value:function(item){if(!item.properties.get("ballonGetted"))item.properties.get("objId")}},{key:"createBallonContent",value:function(){}}]),YmapScreen}();function custom_scrollbar_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function custom_scrollbar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var custom_scrollbar_CustomScrollbar=function(){var Constructor,protoProps,staticProps;function CustomScrollbar(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CustomScrollbar);var scrollbarConfig={};element.hasAttribute("data-scroll-disable-y")&&(scrollbarConfig.suppressScrollY=!0),element.hasAttribute("data-scroll-disable-x")&&(scrollbarConfig.suppressScrollX=!0),element.ps=new perfect_scrollbar_esm.a(element,scrollbarConfig)}return Constructor=CustomScrollbar,staticProps=[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,init=function(){custom_scrollbar_toConsumableArray(container.querySelectorAll(".js-custom-scrollbar")).forEach(function(element){return new CustomScrollbar(element)})};"complete"===document.readyState?init():window.addEventListener("load",function(){return init()})}}],(protoProps=null)&&custom_scrollbar_defineProperties(Constructor.prototype,protoProps),staticProps&&custom_scrollbar_defineProperties(Constructor,staticProps),CustomScrollbar}(),scrollbooster_min=__webpack_require__(186),scrollbooster_min_default=__webpack_require__.n(scrollbooster_min);function swipable_section_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function swipable_section_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var swipable_section_SwipableSection=function(){var Constructor,protoProps,staticProps;function SwipableSection(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SwipableSection);var content=element.children[0];element.Scrollbooster=new scrollbooster_min_default.a({viewport:element,content:content,mode:"x",bounce:!1,onUpdate:function(data){content.style.transform="translateX(".concat(-data.position.x,"px)")}})}return Constructor=SwipableSection,staticProps=[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=swipable_section_toConsumableArray(container.querySelectorAll(".js-swipable-section"));elements.forEach(function(element){return new SwipableSection(element)})}}],(protoProps=null)&&swipable_section_defineProperties(Constructor.prototype,protoProps),staticProps&&swipable_section_defineProperties(Constructor,staticProps),SwipableSection}(),query_string=(__webpack_require__(94),__webpack_require__(49)),query_string_default=__webpack_require__.n(query_string);function video_container_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function video_container_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function video_container_createClass(Constructor,protoProps,staticProps){return protoProps&&video_container_defineProperties(Constructor.prototype,protoProps),staticProps&&video_container_defineProperties(Constructor,staticProps),Constructor}var video_container_VideoController=function(){function VideoController(element){var _this=this;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VideoController),this.element=element,this.frame=element.querySelector("iframe"),this.frame&&(this.src=this.frame.getAttribute("data-src"),this.src)){if(this.isInit=!1,window.location.search){var searchParams=query_string_default.a.parse(window.location.search);searchParams.autoPlay&&this.frame.id===searchParams.autoPlay&&this.playVideo(),searchParams.scrollTo&&this.frame.id===searchParams.scrollTo&&window.addEventListener("load",function(e){(new moveTo_default.a).move(_this.element,{tolerance:30})})}this.isInit||this.initHandlers()}}return video_container_createClass(VideoController,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=video_container_toConsumableArray(container.querySelectorAll(".js-video-wrapper"));return elements.map(function(element){return new VideoController(element)})}}]),video_container_createClass(VideoController,[{key:"initHandlers",value:function(){var _this2=this;this.element.addEventListener("click",function(event){event.preventDefault(),_this2.playVideo()})}},{key:"playVideo",value:function(){this.element.classList.add("is-active"),this.frame.setAttribute("src",this.src),this.isInit=!0}}]),VideoController}(),dropdown=__webpack_require__(187),apartment_prices=__webpack_require__(188),infrastructure=__webpack_require__(205),apartment_layouts=__webpack_require__(192),object_description=__webpack_require__(193),reviews=__webpack_require__(204),object_develop_timeline=__webpack_require__(194),object_rating=__webpack_require__(195),object_similar=__webpack_require__(196),object_similars_slider=__webpack_require__(115),flats_prices_list=__webpack_require__(199),modal=__webpack_require__(35);function dynamic_section_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var dynamic_section_DynamicSection=function(){function DynamicSection(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DynamicSection);var mediaQuery=matchMedia("(max-width: 1024px)");mediaQuery.addListener(function(matches){return _this.handleMediaChange(matches)}),this.handleMediaChange(mediaQuery),this.element=element,this.element.dynamicSection=this,this.sectionTrigger=this.element.classList.contains("js-dynamic-section-trigger")?this.element:this.element.querySelector(".js-dynamic-section-trigger"),this.isSectionLoaded=this.element.hasAttribute("data-loaded"),this.isSectionOpened=this.element.classList.contains("is-active"),this.openOn=this.element.getAttribute("data-open")||"click",this.url=this.element.getAttribute("data-url"),this.features=this.element.getAttribute("data-features"),this.element.classList.contains("js-dynamic-section-target")?this.renderTarget=this.element:this.renderTarget=this.element.hasAttribute("data-section-target")?document.querySelector(this.element.getAttribute("data-section-target")):this.element.querySelector(".js-dynamic-section-target"),this.bindEvents()}var Constructor,protoProps,staticProps;return Constructor=DynamicSection,(protoProps=[{key:"bindEvents",value:function(){var _this2=this,bindClick=function(){_this2.sectionTrigger&&_this2.sectionTrigger.addEventListener("click",function(){return _this2.toggleSection()})},bindIntersection=function(){new IntersectionObserver(function(entries,observer){entries.some(function(entry){return entry.isIntersecting})&&(_this2.openSection(),observer.disconnect())}).observe(_this2.element)};switch(this.openOn){case"intersection-desktop":"desktop"===this.deviceType?bindIntersection():(this.isSectionOpened&&bindIntersection(),bindClick());break;case"intersection":bindIntersection();break;case"click":bindClick()}}},{key:"request",value:function(){var _this3=this;return axios_default.a.get(this.url).then(function(response){var data=response.data;data&&_this3.onRequest(data)})}},{key:"onRequest",value:function(data){var html=data.html;this.renderTarget.innerHTML=html,this.element.setAttribute("data-loaded",""),this.isSectionLoaded=!0,this.initSection(),this.openSection()}},{key:"initSection",value:function(){var _this4=this;this.features&&this.features.split(" ").forEach(function(feature){switch(feature){case"accordion":accordion.a.init(_this4.renderTarget);break;case"apartment-layouts":apartment_layouts.a.init(_this4.renderTarget);break;case"apartment-prices":apartment_prices.a.init(_this4.renderTarget);break;case"around-cards":pubsub_default.a.publish(constants.b,{data:_this4.renderTarget});break;case"flats-prices":flats_prices_list.a.init(_this4.renderTarget),checkbox_block.a.init(_this4.renderTarget);break;case"infrastructure":infrastructure.default.init(_this4.renderTarget),InfrastructureSelect.init(_this4.renderTarget),street_view_StreetView.init(_this4.renderTarget);break;case"lazyload":window.lazyloadInstance&&window.lazyloadInstance.update();break;case"lg":light_gallery.a.init(_this4.renderTarget);break;case"object-description":object_description.a.init(_this4.renderTarget);break;case"photogallery":photo_gallery_PhotoGallery.init(_this4.renderTarget);break;case"rating":object_rating.a.init(_this4.renderTarget);break;case"reviews":modal.a.init({container:_this4.renderTarget,triggersSelector:"[data-target]"}),reviews.default.init(_this4.renderTarget),review_vote.a.init(_this4.renderTarget);break;case"search-cards":pubsub_default.a.publish(constants.b),pubsub_default.a.publish(constants.u),pubsub_default.a.publish(constants.t),pubsub_default.a.publish(constants.m);break;case"select":select_SelectContainer.init(_this4.renderTarget);break;case"similar-objects":object_similar.a.init(_this4.renderTarget),object_similars_slider.a.init(_this4.renderTarget);break;case"timeline":object_develop_timeline.a.init(_this4.renderTarget);break;case"tooltip":tooltip.a.init(_this4.renderTarget);break;case"video":video_container_VideoController.init(_this4.renderTarget)}})}},{key:"openSection",value:function(){if(!this.isSectionLoaded)return this.request();this.isSectionOpened||(this.renderTarget.style.height="auto",this.renderTarget.classList.add("is-open"),this.element.classList.add("is-active"),this.isSectionOpened=!0)}},{key:"closeSection",value:function(){this.isSectionOpened&&(this.renderTarget.classList.remove("is-open"),this.element.classList.remove("is-active"),this.isSectionOpened=!1)}},{key:"toggleSection",value:function(){this.isSectionOpened?this.closeSection():this.openSection()}},{key:"handleMediaChange",value:function(mediaQuery){this.deviceType=mediaQuery.matches?"mobile":"desktop"}}])&&dynamic_section_defineProperties(Constructor.prototype,protoProps),staticProps&&dynamic_section_defineProperties(Constructor,staticProps),DynamicSection}();function dynamic_search_filter_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var dynamic_search_filter_DynamicSearchFilter=function(){function DynamicSearchFilter(element){var obj,key,value,_this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DynamicSearchFilter),value=function(){return _this.element.classList.add("spinner"),_this.element.classList.add("white"),_this.element.classList.add("visually-hidden-childs"),_this.request()},(key="openSection")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,this.element=element,this.url=this.element.getAttribute("data-url"),this.renderTarget=document.querySelector(this.element.getAttribute("data-section-target")),this.bindEvents()}var Constructor,protoProps,staticProps;return Constructor=DynamicSearchFilter,(protoProps=[{key:"bindEvents",value:function(){this.element.addEventListener("click",this.openSection)}},{key:"request",value:function(){var _this2=this;return axios_default.a.get(this.url).then(function(response){var data=response.data;data&&_this2.onRequest(data)})}},{key:"onRequest",value:function(data){var _this3=this,html=data.html;this.renderTarget.innerHTML=html;var searchFilterElement=document.querySelector(".js-search-filter");searchFilterElement&&Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(11)]).then(__webpack_require__.bind(null,301)).then(function(module){module&&(new(0,module.default)(searchFilterElement).openFilter(),_this3.element.classList.remove("spinner"),_this3.element.classList.remove("white"),_this3.element.classList.remove("visually-hidden-childs"))}),this.element.removeEventListener("click",this.openSection)}}])&&dynamic_search_filter_defineProperties(Constructor.prototype,protoProps),staticProps&&dynamic_search_filter_defineProperties(Constructor,staticProps),DynamicSearchFilter}();function dynamic_section_entry_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dynamic_section_entry_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var dynamic_section_entry_DynamicSectionEntry=function(){function DynamicSectionEntry(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DynamicSectionEntry)}var Constructor,protoProps,staticProps;return Constructor=DynamicSectionEntry,staticProps=[{key:"init",value:function(){dynamic_section_entry_toConsumableArray(document.querySelectorAll(".js-dynamic-section")).forEach(function(element){switch(element.getAttribute("data-type")){case"search-filter":return new dynamic_search_filter_DynamicSearchFilter(element);default:return new dynamic_section_DynamicSection(element)}})}}],(protoProps=null)&&dynamic_section_entry_defineProperties(Constructor.prototype,protoProps),staticProps&&dynamic_section_entry_defineProperties(Constructor,staticProps),DynamicSectionEntry}();function metro_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function metro_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function metro_createClass(Constructor,protoProps,staticProps){return protoProps&&metro_defineProperties(Constructor.prototype,protoProps),staticProps&&metro_defineProperties(Constructor,staticProps),Constructor}var Metro=function(){function Metro(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Metro),this.element=element,this.metroTabLinks=metro_toConsumableArray(element.querySelectorAll(".metro_tab__link")),this.metroLinks=metro_toConsumableArray(element.querySelectorAll(".metro_list__item")),this.bindEvents()}return metro_createClass(Metro,null,[{key:"init",value:function(){var element=document.querySelector(".section__metro");return element?new Metro(element):null}}]),metro_createClass(Metro,[{key:"bindEvents",value:function(){var _this=this;this.metroTabLinks.forEach(function(tab){tab.addEventListener("click",function(event){event.preventDefault(),tab.classList.toggle("active");var metro=tab.getAttribute("data-metro");_this.metroLinks.forEach(function(link){link.getAttribute("data-metro")===metro&&link.classList.toggle("active")})})})}}]),Metro}(),Observer=__webpack_require__(105);function main_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}CSSPlugin.b;window.ymapsObserver=new Observer.a;var main_domainName=location.hostname.split(".")[0];window.COOKIE_PREFIX="novostroev"===main_domainName?"":"".concat(main_domainName,"-"),window.VECTOR_IMAGES_LINK="localhost"===window.location.hostname?"/static/img/minified-svg/":"/build-redesign/static/img/minified-svg/";var main_initStaticModules=function(){(new cookie.a).setCookie("current-page",window.location.pathname,{path:"/",domain:window.location.hostname}),[button_up_ButtonUp,adv_complex_create.a,SearchMore,PreviewCards,select_SelectContainer,DropMenu,SideMenu,favorite_favorite.a,compare_storage.a,checkbox_block.a,phone_number.a,city_pick_CityPick,first_pick_FirstPick,range_block.a,SwitchableButton,TopBanner,tooltip.a,ymap_screen_YmapScreen].concat(main_toConsumableArray(sliders),[ButtonGroup,accordion.a,subscribe_SubscribeController,anchor_AnchorsController,street_view_StreetView,light_gallery.a,main_banner_MainBanner,review_vote.a,breadcrumbs_Breadcrumbs],main_toConsumableArray(dev_landing),[FixableHeader,ParallaxBanner,inputmask.a,sticky_container.a,InfrastructureSelect,useful_videos_UsefulVideos,search_input.a,callback_modal_CallbackModal,contact_map_ContactMap,controllable_modal_ControllableModal,yandex_share_YandexShare,swipable_section_SwipableSection,custom_scrollbar_CustomScrollbar,video_container_VideoController,dropdown.a,dynamic_section_entry_DynamicSectionEntry,Metro]).forEach(function(appModule){return appModule.init()})},initModule=function(module,element){if(module)return new(0,module.default)(element)},loadModules=function(){var filterElement=document.querySelector(".main-filter-n-2");filterElement&&Promise.all([__webpack_require__.e(12),__webpack_require__.e(0),__webpack_require__.e(5)]).then(__webpack_require__.bind(null,295)).then(function(module){return initModule(module,filterElement)});var searchFilterElement=document.querySelector(".js-search-filter:not([data-dynamic])");searchFilterElement&&Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(11)]).then(__webpack_require__.bind(null,301)).then(function(module){return initModule(module,searchFilterElement)});var mapSearchElement=document.querySelector(".map-filter-n-2[data-filter-map]");mapSearchElement&&Promise.all([__webpack_require__.e(14),__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(9)]).then(__webpack_require__.bind(null,300)).then(function(module){return initModule(module,mapSearchElement)});var itemCardElement=document.querySelector(".js-item-card");itemCardElement&&__webpack_require__.e(6).then(__webpack_require__.bind(null,299)).then(function(module){return initModule(module,itemCardElement)});var landingElement=document.querySelector(".landing-new-building");landingElement&&__webpack_require__.e(7).then(__webpack_require__.bind(null,302)).then(function(module){return initModule(module,landingElement)});var reviewElement=document.querySelector(".reviews");reviewElement&&Promise.resolve().then(__webpack_require__.bind(null,204)).then(function(module){return initModule(module,reviewElement)});var advertiseElement=document.querySelector(".js-advertise");advertiseElement&&__webpack_require__.e(2).then(__webpack_require__.bind(null,303)).then(function(module){return initModule(module,advertiseElement)});var infrastructureElement=document.querySelector(".infrastructure-n-2");infrastructureElement&&Promise.resolve().then(__webpack_require__.bind(null,205)).then(function(module){return initModule(module,infrastructureElement)});var contentSearchElement=document.querySelector("[data-content-search]");contentSearchElement&&__webpack_require__.e(4).then(__webpack_require__.bind(null,298)).then(function(module){return initModule(module,contentSearchElement)});var booksElement=document.querySelector(".js-book-reader");booksElement&&__webpack_require__.e(3).then(__webpack_require__.bind(null,296)).then(function(module){return initModule(module,booksElement)});var reviewRequestModalElement=document.querySelector(".js-review-modal");reviewRequestModalElement&&__webpack_require__.e(10).then(__webpack_require__.bind(null,297)).then(function(module){return initModule(module,reviewRequestModalElement)})};document.addEventListener("DOMContentLoaded",function(){return main_initStaticModules()}),pubsub_default.a.subscribe(constants.a,function(){main_initStaticModules(),loadModules()}),loadModules()},28:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PhoneNumber});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var PhoneNumber=function(){function PhoneNumber(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PhoneNumber),this.numberLink=element,this.numberLink.PhoneNumber||(this.numberLink.PhoneNumber=!0,this.numberBlock=this.numberLink.querySelector(".phone-number-n-2__number"),this.onNumberClick=this.onNumberClick.bind(this),this.bindEvents())}return _createClass(PhoneNumber,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=_toConsumableArray(container.querySelectorAll(".phone-number-n-2"));return elements.map(function(el){return new PhoneNumber(el)})}}]),_createClass(PhoneNumber,[{key:"bindEvents",value:function(){this.numberLink.addEventListener("click",this.onNumberClick)}},{key:"onNumberClick",value:function(event){if(this.numberBlock.querySelector("span")){event.preventDefault();var number=this.numberLink.getAttribute("data-tel");this.numberBlock.innerText=number,this.numberLink.href="tel: ".concat(number)}this.numberLink.removeEventListener("click",this.onNumberClick)}}]),PhoneNumber}()},32:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Cookie});__webpack_require__(77),__webpack_require__(2),__webpack_require__(76),__webpack_require__(36);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Cookie=function(){function Cookie(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Cookie)}return _createClass(Cookie,null,[{key:"init",value:function(){return new Cookie}}]),_createClass(Cookie,[{key:"getCookie",value:function(name){var matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([.$?*|{}()[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):null}},{key:"setCookie",value:function(name,value,options){var expires=(options=options||{}).expires;if("number"==typeof expires&&expires){var date=new Date;date.setTime(date.getTime()+1e3*expires),expires=options.expires=date}expires&&expires.toUTCString&&(options.expires=expires.toUTCString());var updatedCookie=name+"="+(value=encodeURIComponent(value));for(var propName in options)if(propName){updatedCookie+="; "+propName;var propValue=options[propName];!0!==propValue&&(updatedCookie+="="+propValue)}document.cookie=updatedCookie}}]),Cookie}()},35:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Modal});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(59),__webpack_require__(9),__webpack_require__(4),__webpack_require__(71),__webpack_require__(91),__webpack_require__(63),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var defaultOptions={container:document,triggers:[],triggersSelector:".modal-n-2",modal:{}},Modal=function(){var Constructor,protoProps,staticProps;function Modal(element,options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Modal),this.element=element}return Constructor=Modal,staticProps=[{key:"init",value:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultOptions,elements=(options=_objectSpread({},defaultOptions,{},options)).triggers.length?options.triggers:_toConsumableArray(options.container.querySelectorAll(options.triggersSelector));return elements.forEach(function(element){element.Modal||new Modal(element,options)})}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Modal}()},45:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Tooltip});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var tooltip_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(202),_helpers_device__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(62);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Tooltip=function(){function Tooltip(container,element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Tooltip),this.container=container,this.elements=element?[element]:_toConsumableArray(this.container.querySelectorAll("[data-tip]:not([data-manual-init])")),this.initedElements=[],this.tooltipsContainer=document.querySelector(".tooltip-wrapper"),this.init()}return _createClass(Tooltip,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return new Tooltip(container)}}]),_createClass(Tooltip,[{key:"init",value:function(){var _this=this;this.tooltipsContainer||(this.tooltipsContainer=document.createElement("div"),this.tooltipsContainer.className="tooltip-wrapper",document.body.appendChild(this.tooltipsContainer)),this.elements.forEach(function(el){var updateOnHover=el.hasAttribute("data-hover-update"),showOnTouchDevice=el.hasAttribute("data-touch-device"),tooltip=new tooltip_js__WEBPACK_IMPORTED_MODULE_10__.a(el,{container:_this.tooltipsContainer,delay:+el.getAttribute("data-hide-delay")||0,html:!0,modifiers:{flip:{behavior:["left","right","bottom"]}},innerSelector:".tooltip-n-2__inner",template:'\n          <div class="tooltip-n-2 '.concat(el.getAttribute("data-classes")||"",'">\n            <div class="tooltip-n-2__container">\n              <div class="tooltip-n-2__arrow"></div>\n              <div class="tooltip-n-2__inner"></div>\n            </div>\n          </div>\n        '),placement:el.getAttribute("data-placement")||"top",title:el.getAttribute("data-tip")||el.querySelector("[data-tip-content]").innerHTML,trigger:showOnTouchDevice?Object(_helpers_device__WEBPACK_IMPORTED_MODULE_11__.a)()?"click":"hover focus":Object(_helpers_device__WEBPACK_IMPORTED_MODULE_11__.a)()?"":"hover focus",popperOptions:{eventsEnabled:!1}});updateOnHover&&el.addEventListener("mouseenter",function(){tooltip.updateTitleContent(el.getAttribute("data-tip")||el.querySelector("[data-tip-content]").innerHTML)}),el.Tooltip=tooltip,_this.initedElements.push(el)})}}]),Tooltip}()},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return lazyloadScript});__webpack_require__(10);var lazyloadScript=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},elements=options.elements,observerMargin=options.observerMargin,_options$onLoad=options.onLoad,onLoad=void 0===_options$onLoad?function(f){return f}:_options$onLoad,scriptSrc=options.scriptSrc,scriptUniqueSelector=options.scriptUniqueSelector,loadScript=function(){if(!scriptUniqueSelector||scriptUniqueSelector&&!document.querySelector('script[src*="'.concat(scriptUniqueSelector,'"]'))){var script=document.createElement("script");script.src=scriptSrc,document.body.appendChild(script)}onLoad()};if(window.IntersectionObserver){var observerConfig={};observerMargin&&(observerConfig.rootMargin=observerMargin+"px");var intersectionObserver=new IntersectionObserver(function(entries,observer){entries.some(function(entry){return entry.isIntersecting})&&(loadScript(),observer.disconnect())},observerConfig);elements.forEach(function(element){return intersectionObserver.observe(element)})}else loadScript()}},51:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Tabs});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(26),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(42),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var _tab_line_tab_line__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(68),gsap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(20);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Tabs=function(){function Tabs(links,_ref){var linkClass=_ref.linkClass,tabsClass=_ref.tabsClass,_ref$callback=_ref.callback,callback=void 0===_ref$callback?function(f){return f}:_ref$callback,line=_ref.line,_ref$beforeChange=_ref.beforeChange,beforeChange=void 0===_ref$beforeChange?function(f){return f}:_ref$beforeChange,_ref$afterChange=_ref.afterChange,afterChange=void 0===_ref$afterChange?function(f){return f}:_ref$afterChange;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Tabs),this.classes={heading:{active:"".concat(linkClass,"_is_active"),item:"".concat(linkClass)},content:{active:"".concat(tabsClass,"_is_active"),show:"".concat(tabsClass,"_is_show"),item:"".concat(tabsClass)}},this.state={activeLink:null,activeTab:null,prevTab:null,prevLink:null},this.links=links,this.line=line?new _tab_line_tab_line__WEBPACK_IMPORTED_MODULE_11__.a({line:line,buttons:this.links,bindClick:!0}):null,this.beforeChange=beforeChange,this.afterChange=afterChange,this.callback=callback}var Constructor,protoProps,staticProps;return Constructor=Tabs,(protoProps=[{key:"init",value:function(){this.handlers()}},{key:"handlers",value:function(){var _this=this;this.tabs=_toConsumableArray(this.links).reduce(function(acc,element){var href=element.getAttribute("href");if(href){var tab=document.querySelector(href);return tab&&acc.push(tab),element.addEventListener("click",function(event){event.preventDefault();var result=_this.beforeChange(element,tab);result?Promise.resolve(result).then(function(){_this.toggleTab(element,tab),_this.callback(element,tab)}):(_this.toggleTab(element,tab),_this.callback(element,tab))}),acc}},[]),this.state.activeLink=this.links.find(function(link){return link.classList.contains(_this.classes.heading.active)}),this.state.activeTab=this.tabs.find(function(tab){return tab.classList.contains(_this.classes.content.active)}),this.state.prevLink=this.state.activeLink,this.state.prevTab=this.state.activeTab}},{key:"toggleTab",value:function(link,target){target&&(this.activeLink=link,this.activeTab=target)}},{key:"setActiveTab",value:function(tab){var _this2=this;this.state.prevTab=this.state.activeTab,this.state.activeTab=tab,this.state.activeTab.classList.add(this.classes.content.active),gsap__WEBPACK_IMPORTED_MODULE_12__.a.fromTo(this.state.activeTab,.25,{opacity:0,y:10},{opacity:1,y:0,onComplete:function(){_this2.state.activeTab.classList.add(_this2.classes.content.show)}})}},{key:"activeLink",set:function(link){this.state.activeLink&&this.state.activeLink.classList.remove(this.classes.heading.active),this.state.prevLink=this.state.activeLink,this.state.activeLink=link,this.state.activeLink.classList.add(this.classes.heading.active)},get:function(){return this.state.activeLink}},{key:"activeTab",set:function(tab){var _this3=this;this.state.activeTab?(this.state.activeTab.classList.remove(this.classes.content.show),gsap__WEBPACK_IMPORTED_MODULE_12__.a.to(this.state.activeTab,.3,{opacity:0,y:10,onComplete:function(){_this3.state.activeTab.classList.remove(_this3.classes.content.active),_this3.setActiveTab(tab),_this3.afterChange(tab)}})):this.setActiveTab(tab)},get:function(){return this.state.activeTab}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Tabs}()},52:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return isLocalhost}),__webpack_require__.d(__webpack_exports__,"e",function(){return isStaticBuild}),__webpack_require__.d(__webpack_exports__,"c",function(){return createDomElement}),__webpack_require__.d(__webpack_exports__,"b",function(){return changeDot}),__webpack_require__.d(__webpack_exports__,"h",function(){return parseUrl}),__webpack_require__.d(__webpack_exports__,"f",function(){return monthes}),__webpack_require__.d(__webpack_exports__,"g",function(){return onDocumentLoad}),__webpack_require__.d(__webpack_exports__,"a",function(){return arraysEqual}),__webpack_require__.d(__webpack_exports__,"i",function(){return reverseNestedArray});__webpack_require__(12),__webpack_require__(36);var isLocalhost=function(){return"localhost"===window.location.hostname},isStaticBuild=function(){return window.location.href.indexOf("/build-redesign/")>-1},createDomElement=function(html){var tempElement=document.createElement("div");return tempElement.innerHTML=html,tempElement.firstChild},changeDot=function(value){return value.replace(".",",")},parseUrl=function(url){var parser=document.createElement("a");return parser.href=url,parser},monthes={1:"Январь",2:"Февраль",3:"Март",4:"Апрель",5:"Май",6:"Июнь",7:"Июль",8:"Август",9:"Сентябрь",10:"Октябрь",11:"Ноябрь",12:"Декабрь"},onDocumentLoad=function(func){"complete"===document.readyState?func():window.addEventListener("load",function(){return func()})},arraysEqual=function(a,b){if(a===b)return!0;if(null==a||null==b)return!1;if(a.length!==b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},reverseNestedArray=function(array){return array.map(function reverse(item){return Array.isArray(item)&&(Array.isArray(item[0])?item.map(reverse):item.reverse())})}},53:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Favorite});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(47),__webpack_require__(4),__webpack_require__(12),__webpack_require__(101),__webpack_require__(1),__webpack_require__(2),__webpack_require__(90),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var _cookie_cookie__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(32);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Favorite=function(){function Favorite(container){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Favorite),this.favoriteButtons=_toConsumableArray(container.querySelectorAll("[data-favorite]:not([data-favorite-inited])")),this.favoriteButtons.forEach(function(element){return element.setAttribute("data-favorite-inited","")}),this.favoriteTexts=this.favoriteButtons.map(function(button){return button.querySelector("[data-favorite-text]")}),this.favoriteLinkHeader=document.querySelector(".main-nav-n-2__add-link-favorites"),this.favoriteIconHeader=this.favoriteLinkHeader?this.favoriteLinkHeader.querySelector("svg"):null,this.favoriteCountHeader=this.favoriteLinkHeader?this.favoriteLinkHeader.querySelector(".main-nav-n-2__count-tag"):null,this.cookie=new _cookie_cookie__WEBPACK_IMPORTED_MODULE_14__.a,this.findFavorites(),this.bindEvents(),this.bootstrapText()}return _createClass(Favorite,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return new Favorite(container)}}]),_createClass(Favorite,[{key:"bindEvents",value:function(){var _this=this;this.favoriteButtons.forEach(function(button,index){return button.addEventListener("click",function(event){event.preventDefault();var currentButton=event.currentTarget;_this.favoriteAction(currentButton,_this.favoriteTexts[index])})})}},{key:"bootstrapText",value:function(){var _this2=this;this.favoriteTexts.forEach(function(element,index){if(element){var state=_this2.favoriteButtons[index].getAttribute("data-favorite");element.innerText="active"===state?"Убрать из избранного":"Добавить в избранное"}})}},{key:"favoritesCount",value:function(){var arrayCookie=this.cookie.getCookie("favorites");return arrayCookie?(this.favoritesArray=JSON.parse(arrayCookie),this.favoritesArray.length):(this.favoritesArray=[],0)}},{key:"favoriteCheck",value:function(element){return!!(this.favoritesArray&&this.favoritesArray.length&&this.favoritesArray.includes(element))}},{key:"findFavorites",value:function(){var _this3=this,favoriteLength=this.favoritesCount();this.favoriteButtons.forEach(function(button){_this3.favoriteCheck(button.getAttribute("data-id"))?button.setAttribute("data-favorite","active"):button.setAttribute("data-favorite","")}),this.favoriteLinkHeader&&(favoriteLength?(this.favoriteLinkHeader.classList.add("is-active"),this.favoriteCountHeader=this.favoriteLinkHeader.querySelector(".main-nav-n-2__count-tag"),this.favoriteCountHeader||(this.favoriteCountHeader=document.createElement("div"),this.favoriteCountHeader.className="main-nav-n-2__count-tag",this.favoriteLinkHeader.appendChild(this.favoriteCountHeader)),this.favoriteCountHeader.innerHTML=favoriteLength):(this.favoriteLinkHeader.classList.remove("is-active"),this.favoriteCountHeader&&this.favoriteCountHeader.remove()))}},{key:"favoriteAction",value:function(buttonFavorite,text){var buttonId=buttonFavorite.getAttribute("data-id");if(!buttonId)return!1;var parsedCookie,cookie=this.cookie.getCookie("favorites");cookie&&(parsedCookie=JSON.parse(cookie));var settings={expires:new Date((new Date).getTime()+31536e6).toUTCString(),path:"/",domain:location.hostname};if("active"===buttonFavorite.getAttribute("data-favorite")){if(buttonFavorite.setAttribute("data-favorite",""),text&&(text.innerText="Добавить в избранное"),parsedCookie&&parsedCookie.length){var cookieIndex=parsedCookie.indexOf(buttonId);-1!==cookieIndex&&(parsedCookie.splice(cookieIndex,1),parsedCookie=JSON.stringify(parsedCookie),this.cookie.setCookie("favorites",parsedCookie,settings))}this.findFavorites()}else buttonFavorite.setAttribute("data-favorite","active"),text&&(text.innerText="Убрать из избранного"),parsedCookie&&parsedCookie.length?-1===parsedCookie.indexOf(buttonId)&&(parsedCookie.push(buttonId.toString()),parsedCookie=JSON.stringify(parsedCookie),this.cookie.setCookie("favorites",parsedCookie,settings)):this.cookie.setCookie("favorites",'["'.concat(buttonId,'"]'),settings),this.findFavorites()}}]),Favorite}()},54:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CompareStorage});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(26),__webpack_require__(9),__webpack_require__(47),__webpack_require__(4),__webpack_require__(12),__webpack_require__(102),__webpack_require__(101),__webpack_require__(1),__webpack_require__(2),__webpack_require__(90),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var _cookie_cookie__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(32);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var CompareStorage=function(){function CompareStorage(container){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CompareStorage),this.compareButtons=_toConsumableArray(container.querySelectorAll("[data-compare-n-2]:not([data-compare-inited])")),this.compareButtons.forEach(function(element){return element.setAttribute("data-compare-inited","")}),this.compareTexts=this.compareButtons.map(function(button){return button.querySelector("[data-compare-n-2]")}),this.compareLinkHeader=document.querySelector(".main-nav-n-2__add-link-compare"),this.compareIconHeader=this.compareLinkHeader?this.compareLinkHeader.querySelector("svg"):null,this.compareCountHeader=this.compareLinkHeader?this.compareLinkHeader.querySelector(".main-nav-n-2__count-tag"):null,this.cookie=new _cookie_cookie__WEBPACK_IMPORTED_MODULE_16__.a,this.count(),this.bindEvents(),this.bootstrapText()}return _createClass(CompareStorage,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return new CompareStorage(container)}}]),_createClass(CompareStorage,[{key:"bindEvents",value:function(){var _this=this;this.compareButtons.forEach(function(button,index){return button.addEventListener("click",function(event){event.preventDefault();var currentButton=event.currentTarget;_this.action(currentButton,_this.compareTexts[index])})}),this.compareLinkHeader&&this.compareLinkHeader.addEventListener("mousedown",function(event){event.preventDefault(),_this.setLink()})}},{key:"bootstrapText",value:function(){var _this2=this;this.compareTexts.forEach(function(element,index){if(element){var state=_this2.compareButtons[index].getAttribute("data-compare-n-2");element.innerText="active"===state?"Убрать из избранного":"Добавить в избранное"}})}},{key:"comparesCount",value:function(){var arrayCookie=this.cookie.getCookie("compare");return arrayCookie?(this.comparesArray=JSON.parse(arrayCookie),this.comparesArray.length):(this.comparesArray=[],0)}},{key:"compareCheck",value:function(element){return!!(this.comparesArray&&this.comparesArray.length&&this.comparesArray.find(function(compare){return compare.includes(element)}))}},{key:"addToCookies",value:function(obj){var cookie=this.cookie.getCookie("compare"),parsedCookie=cookie?JSON.parse(cookie):null,settings={expires:new Date((new Date).getTime()+31536e6).toUTCString(),path:"/",domain:location.hostname};parsedCookie?-1===parsedCookie.indexOf(obj)&&(parsedCookie.push(obj),this.cookie.setCookie("compare",JSON.stringify(parsedCookie),settings)):this.cookie.setCookie("compare",'["'.concat(obj,'"]'),settings)}},{key:"removeFromCookies",value:function(obj){var cookie=this.cookie.getCookie("compare"),parsedCookie=cookie?JSON.parse(cookie):null,settings={expires:new Date((new Date).getTime()+31536e6).toUTCString(),path:"/",domain:location.hostname};parsedCookie&&-1!==parsedCookie.indexOf(obj)&&(parsedCookie.splice(parsedCookie.indexOf(obj),1),this.cookie.setCookie("compare",JSON.stringify(parsedCookie),settings))}},{key:"action",value:function(currentButton,text){var button=currentButton,buttonType=button.getAttribute("data-type"),buttonId=button.getAttribute("data-id"),cookieItem=buttonId+"&"+buttonType;if(!buttonId||!buttonType)throw new ReferenceError("Button data is undefined!","compare.js");"active"===button.getAttribute("data-compare-n-2")?(button.setAttribute("data-compare-n-2",""),text&&(text.innerText="Добавить к сравнению"),this.removeFromCookies(cookieItem),this.count()):(button.setAttribute("data-compare-n-2","active"),text&&(text.innerText="Убрать из сравнения"),this.addToCookies(cookieItem),this.count())}},{key:"count",value:function(){var _this3=this,compareLength=this.comparesCount();this.compareButtons.forEach(function(button){_this3.compareCheck(button.getAttribute("data-id"))?button.setAttribute("data-compare-n-2","active"):button.setAttribute("data-compare-n-2","")}),this.compareLinkHeader&&(compareLength?(this.compareLinkHeader.classList.add("is-active"),this.compareCountHeader=this.compareLinkHeader.querySelector(".main-nav-n-2__count-tag"),this.compareCountHeader||(this.compareCountHeader=document.createElement("div"),this.compareCountHeader.className="main-nav-n-2__count-tag",this.compareLinkHeader.appendChild(this.compareCountHeader)),this.compareCountHeader.innerHTML=compareLength):(this.compareLinkHeader.classList.remove("is-active"),this.compareCountHeader&&this.compareCountHeader.remove()))}},{key:"setLink",value:function(){var button=this.compareLinkHeader?this.compareLinkHeader:null;if(0!==this.checkCookies()&&"/compare/"!==window.location.pathname||!button){if(this.checkCookies()>0){var cookies=JSON.parse(this.cookie.getCookie("compare")),cottages="",buildings="";cookies.forEach(function(el){var item=el,ampersand=item.indexOf("&"),id=item.slice(0,ampersand),type=item.slice(ampersand+1);"cottages"===type&&(cottages=cottages.length?id+","+cottages:id+"&type="+type),"new_buildings"===type&&(buildings=buildings.length?id+","+buildings:id+"&type="+type)}),button&&(cottages.length&&buildings.length?button.setAttribute("href","/compare/"):buildings.length?button.setAttribute("href","/compare/?ids="+buildings):cottages.length&&button.setAttribute("href","/compare/?ids="+cottages))}}else button.setAttribute("href","/compare/")}},{key:"cookies",get:function(){return JSON.parse(this.cookie.getCookie("compare"))}}]),CompareStorage}()},55:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ComplexItemSlider});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(21),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);var swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(16),swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11__);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ComplexItemSlider=function(){function ComplexItemSlider(element){var _this=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lazy:!0,initDelay:0};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComplexItemSlider),this.element=element,this.initDelay=options.initDelay,this.lazy=options.lazy,this.arrows={next:this.element.querySelector(".complex-item-slider__arrow_next"),prev:this.element.querySelector(".complex-item-slider__arrow_prev")},this.lazy?(this.intersectionObserver=new IntersectionObserver(function(entries){return _this.handleIntersection(entries)}),this.intersectionObserver.observe(this.element)):this.init()}return _createClass(ComplexItemSlider,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,options=arguments.length>1?arguments[1]:void 0,sliders=_toConsumableArray(container.querySelectorAll(".complex-item-slider"));return sliders.forEach(function(slider,index){return new ComplexItemSlider(slider,options)})}},{key:"update",value:function(el){var sliders=_toConsumableArray(el.querySelectorAll(".complex-item-slider"));if(sliders.length){var intersectionObserver=new IntersectionObserver(function(entries){return function(entries){entries.forEach(function(entry){entry.isIntersecting&&(entry.target.swiper.update(),intersectionObserver.unobserve(entry.target))})}(entries)});sliders.forEach(function(slider){slider.swiper&&intersectionObserver.observe(slider)})}}}]),_createClass(ComplexItemSlider,[{key:"init",value:function(){var _this2=this,initSwiper=function(){var swiperConfig={slidesPerView:1,loop:!0,nested:!0,navigation:{nextEl:_this2.arrows.next,prevEl:_this2.arrows.prev},lazy:{loadPrevNext:!0}};_this2.element.hasAttribute("data-pagination")&&(swiperConfig.pagination={el:".js-item-slider-pagination",type:"fraction",renderFraction:function(currentClass,totalClass){return'<span class="'.concat(currentClass,' pagination-current"></span> / <span class="').concat(totalClass,' pagination-total"></span>')}}),_this2.swiper=new swiper_dist_js_swiper_min__WEBPACK_IMPORTED_MODULE_11___default.a(_this2.element,swiperConfig),_this2.element.swiper=_this2.swiper};this.initDelay?setTimeout(function(){return initSwiper()},this.initDelay):initSwiper()}},{key:"handleIntersection",value:function(entries){entries[0].isIntersecting&&(this.init(),this.intersectionObserver.disconnect())}}]),ComplexItemSlider}()},56:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getZoomControl});var getZoomControl=function(ymaps,position){var zoomLayout=ymaps.templateLayoutFactory.createClass('<div class="zoom-controls">\n      <button id="zoom-in" class="ymaps-control__button is-squared">\n        <svg width="14" height="14" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg">\n          <path d="M9.72 4.84H6.16V1.3c0-.16-.22-.51-.66-.51-.44 0-.66.35-.66.51v3.54H1.28c-.16 0-.51.22-.51.66 0 .44.35.66.51.66h3.56V9.7c0 .16.22.52.66.52.44 0 .66-.36.66-.52V6.16h3.56c.16 0 .51-.22.51-.66 0-.44-.35-.66-.51-.66z" fill="#071321"/>\n        </svg>\n      </button>\n      <button id="zoom-out" class="ymaps-control__button is-squared">\n        <svg width="14" height="3" viewBox="0 0 14 3" xmlns="http://www.w3.org/2000/svg">\n          <path d="M12.96 2.1H1.37c-.23 0-.7-.3-.7-.9 0-.61.47-.91.7-.91h11.59c.22 0 .7.3.7.9 0 .6-.48.9-.7.9z" fill="#071321"/>\n        </svg>\n      </button>\n    </div>',{build:function(){var _this=this;zoomLayout.superclass.build.call(this);var map=this.getData().control.getMap();map.container.getContainerElement().querySelector("#zoom-in").addEventListener("click",function(){return _this.zoomIn(_this)}),map.container.getContainerElement().querySelector("#zoom-out").addEventListener("click",function(){return _this.zoomOut(_this)})},clear:function(){var _this2=this,map=this.getData().control.getMap();map.container.getContainerElement().querySelector("#zoom-in").addEventListener("click",function(){return _this2.zoomIn(_this2)}),map.container.getContainerElement().querySelector("#zoom-out").addEventListener("click",function(){return _this2.zoomOut(_this2)}),zoomLayout.superclass.clear.call(this)},zoomIn:function(){var map=this.getData().control.getMap();map.setZoom(map.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var map=this.getData().control.getMap();map.setZoom(map.getZoom()-1,{checkZoomRange:!0})}});return new ymaps.control.ZoomControl({options:{layout:zoomLayout,position:position}})}},57:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var moveto__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(34),moveto__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(moveto__WEBPACK_IMPORTED_MODULE_10__),gsap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(20),_helpers_throttle__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(103);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Accordion=function(){function Accordion(element){var _this=this;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Accordion),!element.accordion&&(element.accordion=this,this.element=element,this.id=element.getAttribute("data-accordion"),this.previewMode=element.hasAttribute("data-accordion-preview"),this.body=document.getElementById(this.id),this.body)){if(this.opened=this.body.getAttribute("data-opened-default")||!1,this.responsive=element.getAttribute("data-responsive"),this.onCloseTarget=element.getAttribute("data-on-close-target"),this.parentTarget=element.getAttribute("data-accordion-parent"),this.parentTarget&&(this.parentNode=element.closest(this.parentTarget)),this.body.classList.contains("accordion-n-2")||(this.body.classList.add("accordion-n-2"),this.body.classList.add("accordion-n-2_preview")),this.previewMode&&(this.body.classList.contains("accordion-n-2_preview")||this.body.classList.add("accordion-n-2_preview"),this.element.style.display&&(this.onPreviewModeResize(),window.addEventListener("resize",Object(_helpers_throttle__WEBPACK_IMPORTED_MODULE_12__.a)(function(){_this.onPreviewModeResize()},100)))),this.textElement=element.hasAttribute("data-accordion-text")?element:element.querySelector("[data-accordion-text]"),this.textElement&&(this.text={default:this.element.innerText,alt:"Свернуть"}),this.opened&&!this.previewMode)this.body.style.height="auto",this.textElement&&(this.element.innerText=this.text.alt);else if(this.previewMode){parseFloat(window.getComputedStyle(this.body).maxHeight)>=this.body.scrollHeight&&(this.element.style.display="none")}else this.body.style.height=0;switch(this.responsive){case"desktop-open":this.onDesktopToggle(),window.addEventListener("resize",this.onDesktopToggle.bind(this))}this.element.addEventListener("click",function(event){event.preventDefault(),_this.opened?_this.close():_this.open(),_this.opened=!_this.opened}),this.moveTo=new moveto__WEBPACK_IMPORTED_MODULE_10___default.a}}return _createClass(Accordion,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=_toConsumableArray(container.querySelectorAll("[data-accordion]"));return elements.map(function(element){return new Accordion(element)})}}]),_createClass(Accordion,[{key:"close",value:function(){var _this2=this,_onComplete=function(){_this2.textElement&&(_this2.textElement.innerText=_this2.text.default),_this2.element.removeAttribute("data-accordion-shown"),_this2.body.removeAttribute("data-accordion-shown"),_this2.opened=!1};this.body.classList.remove("accordion-n-2_open"),this.parentNode&&(this.parentNode.classList.remove("is-accordion-open"),this.parentNode.classList.add("is-accordion-collapsed")),this.previewMode?gsap__WEBPACK_IMPORTED_MODULE_11__.a.to(this.body,.5,{maxHeight:this.previewInitialHeight,onComplete:function(){_this2.body.style.maxHeight="",_onComplete()}}):gsap__WEBPACK_IMPORTED_MODULE_11__.a.to(this.body,.5,{height:0,onComplete:_onComplete}),this.onCloseTarget&&this.moveTo.move(this.onCloseTarget,{duration:500})}},{key:"open",value:function(){var _this3=this,onComplete=function(){_this3.textElement&&(_this3.text.default=_this3.textElement.innerText,_this3.textElement.innerText=_this3.text.alt),_this3.element.setAttribute("data-accordion-shown",""),_this3.body.classList.add("accordion-n-2_open"),_this3.opened=!0};this.previewMode?(this.previewInitialHeight=parseFloat(window.getComputedStyle(this.body).maxHeight),gsap__WEBPACK_IMPORTED_MODULE_11__.a.fromTo(this.body,.5,{maxHeight:this.previewInitialHeight},{maxHeight:this.body.scrollHeight,onComplete:onComplete})):(this.body.style.height="auto",this.parentNode&&(this.parentNode.classList.remove("is-accordion-collapsed"),this.parentNode.classList.add("is-accordion-open")),gsap__WEBPACK_IMPORTED_MODULE_11__.a.from(this.body,.5,{height:0,onComplete:onComplete}))}},{key:"onDesktopToggle",value:function(){document.documentElement.clientWidth<768?this.opened&&this.close():this.opened||this.open()}},{key:"onPreviewModeResize",value:function(){var previewHeight=parseFloat(window.getComputedStyle(this.body).maxHeight),height=this.body.scrollHeight;this.setTriggerVisibility(height>previewHeight)}},{key:"setTriggerVisibility",value:function(visible){this.element.style.display=visible?"":"none"}}]),Accordion}();__webpack_exports__.a=Accordion},58:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return formatNumericThousands}),__webpack_require__.d(__webpack_exports__,"a",function(){return formatNumberFractions});__webpack_require__(21),__webpack_require__(1),__webpack_require__(2),__webpack_require__(36);var formatNumericThousands=function(value){return value?value.toString().replace(/\s/g,"").replace(/\B(?=(\d{3})+(?!\d))/g," "):value},formatNumberFractions=function(value){return value?(value<1e6?(outputValue=value/1e3,outputText="тыс. ₽"):(outputValue=value/1e6,outputText="млн. ₽"),"".concat(+(Math.round(outputValue+"e+1")+"e-1")," ").concat(outputText)):value;var outputValue,outputText}},60:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return getParamsFromUrl}),__webpack_require__.d(__webpack_exports__,"b",function(){return getFormDataFromObject}),__webpack_require__.d(__webpack_exports__,"a",function(){return concatArrayParams});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(4),__webpack_require__(43),__webpack_require__(12),__webpack_require__(116),__webpack_require__(1),__webpack_require__(77),__webpack_require__(2),__webpack_require__(5),__webpack_require__(76),__webpack_require__(36),__webpack_require__(10),__webpack_require__(6);function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var getParamsFromUrl=function(url){var vars={};return url.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value}),vars},getFormDataFromObject=function(data){var formData=new FormData;return Object.entries(data).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];formData.append(key,value)}),formData},concatArrayParams=function(param){var separator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return param&&Array.isArray(param)?param.map(function(value){return encodeURIComponent(value)}).join(separator):param}},62:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return isTouchDevice});__webpack_require__(43),__webpack_require__(48);var isTouchDevice=function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||window.matchMedia(["("," -webkit- -moz- -o- -ms- ".split(" ").join("touch-enabled),("),"heartz",")"].join("")).matches}},64:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return formatTextEndingByNumber});var formatTextEndingByNumber=function(number,root,endings){return(number=Math.abs(number)%100)>4&&number<21||(number%=10)>4||0===number?root+endings[0]:number>1?root+endings[1]:root+endings[2]}},66:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LightGallery});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(4),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(94),__webpack_require__(10),__webpack_require__(6);var query_string__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(49),query_string__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_11__);__webpack_require__(257);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var LightGallery=function(){var Constructor,protoProps,staticProps;function LightGallery(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LightGallery);var elementId=element.getAttribute("data-element-opening");if(lightGallery(element,{selector:"this",counter:!1,iframeMaxWidth:"90%",videoMaxWidth:"90%",hash:!1,zoom:!0,scale:1.2,download:!1,height:"100%",fullScreen:!0}),window.location.search){var searchParams=query_string__WEBPACK_IMPORTED_MODULE_11___default.a.parse(window.location.search);searchParams.openPopup&&elementId===searchParams.openPopup&&element.click()}}return Constructor=LightGallery,staticProps=[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=_toConsumableArray(container.querySelectorAll("[data-element-opening]"));elements.forEach(function(element){return new LightGallery(element)})}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),LightGallery}()},67:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getFullscreenControl});var getFullscreenControl=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_options$ymaps=options.ymaps,ymaps=void 0===_options$ymaps?null:_options$ymaps,_options$position=options.position,position=void 0===_options$position?{}:_options$position,_options$disableClick=options.disableClickPropogation,disableClickPropogation=void 0===_options$disableClick||_options$disableClick;if(ymaps){var fullscreenLayout=ymaps.templateLayoutFactory.createClass('\n    <div class="fullscreen-control">\n      <button id="ymaps-fullscreen" class="ymaps-control__button is-squared">\n        [if state.fullscreen] \n          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <polyline points="4 14 10 14 10 20"></polyline>\n            <polyline points="20 10 14 10 14 4"></polyline>\n            <line x1="14" y1="10" x2="21" y2="3"></line>\n            <line x1="3" y1="21" x2="10" y2="14"></line>\n          </svg>\n        [else]\n          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <polyline points="15 3 21 3 21 9"></polyline>\n            <polyline points="9 21 3 21 3 15"></polyline>\n            <line x1="21" y1="3" x2="14" y2="10"></line>\n            <line x1="3" y1="21" x2="10" y2="14"></line>\n          </svg>\n        [endif]\n      </button>\n    </div>'),control=new ymaps.control.FullscreenControl({options:{layout:fullscreenLayout,position:position}});return disableClickPropogation&&control.events.add("click",function(e){e._sourceEvent.originalEvent.domEvent.originalEvent.preventDefault()}),control}}},68:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TabLine});__webpack_require__(12);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var TabLine=function(){function TabLine(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TabLine),options&&options.line&&(this.line=options.line,this.buttons=options.buttons&&options.buttons.length?options.buttons:null,this.state={activeButton:null,lineWidth:0,linePos:0},this.buttons&&options.bindClick&&(this.activeButton=this.buttons[0],this.move(this.state.activeButton),this.bindHandlers()))}var Constructor,protoProps,staticProps;return Constructor=TabLine,(protoProps=[{key:"update",value:function(){this.move(this.state.activeButton)}},{key:"move",value:function(button){var _this=this,oldPos=this.state.linePos,newPos=button.offsetLeft,newWidth=button.clientWidth;newPos>this.state.linePos?(this.state.lineWidth=newPos-oldPos+newWidth,this.updateLineStyle(),this.state.linePos=newPos,this.state.lineWidth=newWidth,setTimeout(function(){return _this.updateLineStyle()},300)):(this.state.lineWidth=newWidth+oldPos-newPos,this.state.linePos=newPos,this.updateLineStyle(),this.state.lineWidth=newWidth,setTimeout(function(){return _this.updateLineStyle()},300))}},{key:"updateLineStyle",value:function(){this.line.style.width="".concat(this.state.lineWidth,"px"),this.line.style.left="".concat(this.state.linePos,"px")}},{key:"bindHandlers",value:function(){var _this2=this;this.buttons.map(function(button){button.addEventListener("click",function(event){event.preventDefault(),_this2.activeButton=button,_this2.move(button)})})}},{key:"activeButton",set:function(button){this.state.activeButton&&this.state.activeButton.removeAttribute("data-active"),this.state.activeButton=button,this.state.activeButton.setAttribute("data-active","")}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),TabLine}()},69:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ReviewVote});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(26),__webpack_require__(9),__webpack_require__(4),__webpack_require__(12),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var axios__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(13),axios__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_11__),_helpers_request__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(60);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ReviewVote=function(){function ReviewVote(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ReviewVote),this.element=element,this.buttons=_toConsumableArray(element.querySelectorAll(".review-vote")),this.count=element.querySelector(".review-vote__count"),this.bindHandlers()}return _createClass(ReviewVote,null,[{key:"init",value:function(){var container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,elements=_toConsumableArray(container.querySelectorAll(".voting"));return elements.map(function(el){return new ReviewVote(el)})}}]),_createClass(ReviewVote,[{key:"bindHandlers",value:function(){var _this=this;this.buttons.map(function(button){button.addEventListener("click",function(event){event.preventDefault();var targetButton=event.currentTarget,secondButton=_this.buttons.find(function(el){return el!==targetButton}),formData=Object(_helpers_request__WEBPACK_IMPORTED_MODULE_12__.b)({comment:targetButton.getAttribute("data-comment"),like:targetButton.getAttribute("data-like")});return axios__WEBPACK_IMPORTED_MODULE_11___default.a.post("/ajax/comments_likes.php",formData).then(function(response){var data=response.data,count=data.count,count2=data.count2;if(count||0===count){var buttonCount=targetButton.querySelector(".review-vote__count");buttonCount&&(buttonCount.innerText=count)}if(count2||0===count2){var _buttonCount=secondButton.querySelector(".review-vote__count");_buttonCount&&(_buttonCount.innerText=count2)}})})})}}]),ReviewVote}()},70:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return setFormState});__webpack_require__(3),__webpack_require__(7),__webpack_require__(8),__webpack_require__(26),__webpack_require__(9),__webpack_require__(4),__webpack_require__(27),__webpack_require__(116),__webpack_require__(1),__webpack_require__(2),__webpack_require__(210),__webpack_require__(5),__webpack_require__(10),__webpack_require__(6);function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var setFormState=function(form,nextState){var formInputs=_toConsumableArray(form.elements);Object.entries(nextState).forEach(function(_ref){var input,_ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];(input=key.endsWith("[]")?formInputs.find(function(formInput){return formInput.value===value}):formInputs.find(function(formInput){return formInput.name===key}))&&("checkbox"===input.type?input.checked=!0:input.value=value)})}}});