(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{226:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return formatTextEndingByNumber});var formatTextEndingByNumber=function(number,root,endings){return(number=Math.abs(number)%100)>4&&number<21||(number%=10)>4||0===number?root+endings[0]:number>1?root+endings[1]:root+endings[2]}},234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Tabs});__webpack_require__(3),__webpack_require__(4),__webpack_require__(7),__webpack_require__(40),__webpack_require__(8),__webpack_require__(0),__webpack_require__(1),__webpack_require__(82),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var _tab_line_tab_line__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(62),gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Tabs=function(){function Tabs(links,_ref){var linkClass=_ref.linkClass,tabsClass=_ref.tabsClass,_ref$callback=_ref.callback,callback=void 0===_ref$callback?function(f){return f}:_ref$callback,line=_ref.line,_ref$beforeChange=_ref.beforeChange,beforeChange=void 0===_ref$beforeChange?function(f){return f}:_ref$beforeChange,_ref$afterChange=_ref.afterChange,afterChange=void 0===_ref$afterChange?function(f){return f}:_ref$afterChange;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Tabs),this.classes={heading:{active:"".concat(linkClass,"_is_active"),item:"".concat(linkClass)},content:{active:"".concat(tabsClass,"_is_active"),show:"".concat(tabsClass,"_is_show"),item:"".concat(tabsClass)}},this.state={activeLink:null,activeTab:null},this.links=links,this.line=line?new _tab_line_tab_line__WEBPACK_IMPORTED_MODULE_11__.a({line:line,buttons:this.links,bindClick:!0}):null,this.beforeChange=beforeChange,this.afterChange=afterChange,this.callback=callback}var Constructor,protoProps,staticProps;return Constructor=Tabs,(protoProps=[{key:"init",value:function(){this.handlers()}},{key:"handlers",value:function(){var _this=this;this.tabs=_toConsumableArray(this.links).reduce(function(acc,element){var tab=document.querySelector(element.getAttribute("href"));return tab&&acc.push(tab),element.addEventListener("click",function(event){event.preventDefault();var result=_this.beforeChange(element,tab);result?Promise.resolve(result).then(function(){_this.toggleTab(element,tab),_this.callback(element,tab)}):(_this.toggleTab(element,tab),_this.callback(element,tab))}),acc},[]),this.state.activeLink=this.links.find(function(link){return link.classList.contains(_this.classes.heading.active)}),this.state.activeTab=this.tabs.find(function(tab){return tab.classList.contains(_this.classes.content.active)})}},{key:"toggleTab",value:function(link,target){target&&(this.activeLink=link,this.activeTab=target)}},{key:"setActiveTab",value:function(tab){var _this2=this;this.state.activeTab=tab,this.state.activeTab.classList.add(this.classes.content.active),gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__.c.fromTo(this.state.activeTab,.25,{opacity:0,y:10},{opacity:1,y:0,onComplete:function(){_this2.state.activeTab.classList.add(_this2.classes.content.show)}})}},{key:"activeLink",set:function(link){this.state.activeLink&&this.state.activeLink.classList.remove(this.classes.heading.active),this.state.activeLink=link,this.state.activeLink.classList.add(this.classes.heading.active)},get:function(){return this.state.activeLink}},{key:"activeTab",set:function(tab){var _this3=this;this.state.activeTab?(this.state.activeTab.classList.remove(this.classes.content.show),gsap_TweenLite__WEBPACK_IMPORTED_MODULE_12__.c.to(this.state.activeTab,.3,{opacity:0,y:10,onComplete:function(){_this3.state.activeTab.classList.remove(_this3.classes.content.active),_this3.setActiveTab(tab),_this3.afterChange(tab)}})):this.setActiveTab(tab)},get:function(){return this.state.activeTab}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Tabs}()},237:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createItem});__webpack_require__(3),__webpack_require__(4),__webpack_require__(24),__webpack_require__(41),__webpack_require__(15),__webpack_require__(54),__webpack_require__(167),__webpack_require__(106),__webpack_require__(11);var _formatTextEndings__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(226),createItem=function(data,wrapper){var imageLink="localhost"===window.location.hostname?"/static/img/content/":"/build-redesign/static/img/content/",icons={arrow:'<svg width="13" height="22" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><path d="M5.9 10.9a.35.35 0 0 0 0-.5L1.47 6 5.9 1.6a.35.35 0 0 0 0-.5.36.36 0 0 0-.5 0L.71 5.75a.34.34 0 0 0-.1.25c0 .08.03.18.1.25l4.67 4.64c.14.15.37.15.5 0z" fill="currentColor" stroke="currentColor"/></svg>',recommended:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="0 0 12 13"><path fill="" d="M.01 3.41c0-.72.26-1.3.78-1.74A3 3 0 0 1 2.82 1c.85 0 1.53.22 2.04.66.52.44.78 1.04.78 1.79v.58c0 .72-.26 1.3-.78 1.73-.51.44-1.19.66-2.02.66-.85 0-1.53-.22-2.05-.66a2.22 2.22 0 0 1-.78-1.78zm1.71.63c0 .32.1.58.3.77.21.2.48.3.82.3.33 0 .6-.1.79-.3.2-.2.3-.47.3-.8v-.6c0-.32-.1-.58-.3-.78-.2-.2-.47-.3-.81-.3-.33 0-.6.1-.8.3-.2.2-.3.47-.3.82zm4.63 6.93c0-.72.26-2.3.79-2.74.52-.44 1.2-.66 2.02-.66.85 0 1.53.21 2.05.65.52.43.78 1.03.78 1.8v.57c0 .72-.26 1.3-.77 1.74a3 3 0 0 1-2.04.66c-.85 0-1.54-.22-2.05-.67-.52-.44-.78-.03-.78-.76zm1.71-.37c0 .3.1.55.32.76.22.21.48.31.8.31.73 0 1.09-.36 1.09-1.08v-.61c0-.33-.1-.59-.3-.78-.2-.2-.47-.3-.8-.3-.34 0-.6.1-.8.3-.2.2-.3.46-.3.8zm2.68-8.76l-1.25-.6-8.33 11.1 1.25.62z"/></svg>',mortgage:'<svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 9.1L8 3.1L2 9.1V15C2 15.6 2.4 16 3 16H8.1C8.5 17.1 10.1 17.9 12 17.9C14.2 17.9 16 16.8 16 15.4C16 15 15.9 14.7 15.7 14.4C15.9 14.1 16 13.8 16 13.4C16 13 15.9 12.7 15.7 12.4C15.9 12.1 16 11.8 16 11.4C16 10.5 15.2 9.7 13.9 9.2V9.1H14ZM12.1 16.9C10.8 16.9 9.8 16.5 9.4 15.9C9.3 15.8 9.2 15.6 9.2 15.4C9.2 15.3 9.2 15.2 9.3 15.1C10 15.6 11.1 15.9 12.2 15.9C12.8 15.9 13.3 15.8 13.8 15.7C14.3 15.6 14.8 15.3 15.1 15.1C15.2 15.2 15.2 15.3 15.2 15.4C15 16.1 13.8 16.9 12.1 16.9ZM15 13.7C14.9 13.9 14.6 14.2 14.2 14.4L14 14.5C13.5 14.7 12.8 14.9 12.1 14.9C11.2 14.9 10.5 14.7 10 14.4C9.6 14.2 9.4 14 9.2 13.7C9.2 13.6 9.1 13.5 9.1 13.4C9.1 13.3 9.1 13.2 9.2 13.1C10.1 13.6 11.1 13.9 12.1 13.9C13.1 13.9 14.1 13.6 15 13.1C15 13.2 15.1 13.3 15.1 13.4C15.1 13.5 15 13.6 15 13.7ZM15 11.8C14.9 12 14.6 12.3 14.2 12.5H14C13.5 12.7 12.8 12.9 12.1 12.9C11.2 12.9 10.5 12.7 10 12.4C9.6 12.2 9.4 12 9.2 11.7C9.2 11.6 9.1 11.5 9.1 11.4C9.1 10.7 10.4 9.9 12.1 9.9C12.8 9.9 13.5 10.1 14 10.3C14.6 10.6 15.1 11 15.1 11.4C15 11.6 15 11.7 15 11.8ZM15.7 7.3L8.7 0.3C8.3 -0.1 7.7 -0.1 7.3 0.3L0.3 7.3C0.1 7.5 0 7.8 0 8L1.1 9L8 2L15 9L16 8C16 7.8 15.9 7.5 15.7 7.3Z" fill="white"></path></svg>',installment:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.99518 1.66672C5.39102 1.66672 1.66602 5.39588 1.66602 10.0001C1.66602 14.6042 5.39102 18.3334 9.99518 18.3334C14.5993 18.3334 18.3327 14.6042 18.3327 10.0001C18.3327 5.39588 14.5993 1.66672 9.99518 1.66672ZM9.99935 16.6667C6.31602 16.6667 3.33268 13.6834 3.33268 10.0001C3.33268 6.31672 6.31602 3.33338 9.99935 3.33338C13.6827 3.33338 16.666 6.31672 16.666 10.0001C16.666 13.6834 13.6827 16.6667 9.99935 16.6667Z" fill="white"></path><path d="M10.416 5.83328H9.16602V10.8333L13.5368 13.4583L14.166 12.4333L10.416 10.2083V5.83328Z" fill="white"></path></svg>',favorite:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 21 19" fill="none"><path d="M9.64174 3.63033C9.8224 3.93176 10.148 4.11624 10.4994 4.11625C10.8509 4.11626 11.1765 3.93181 11.3572 3.63039C12.6037 1.55098 14.2477 0.889229 15.6855 1.01486C17.1737 1.14489 18.6267 2.1317 19.4119 3.71787C20.184 5.27743 20.323 7.46301 19.0482 9.96824C17.8062 12.409 15.2046 15.174 10.4995 17.8537C5.79482 15.1741 3.19353 12.409 1.95168 9.96828C0.67701 7.46304 0.816073 5.27744 1.58806 3.71785C2.37321 2.13166 3.82614 1.14488 5.31414 1.01485C6.7517 0.889237 8.39547 1.55093 9.64174 3.63033Z" stroke="#BFC9D5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',compare:'<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.17358 0C4.06909 0 3.17358 0.895416 3.17358 2V3.78262H2C0.895508 3.78262 0 4.67807 0 5.78262V15C0 16.1046 0.895508 17 2 17H11.2173C12.322 17 13.2173 16.1046 13.2173 15V13.8261H14.9998C16.1042 13.8261 16.9998 12.9307 16.9998 11.8261V2C16.9998 0.895416 16.1042 0 14.9998 0H5.17358ZM13.2173 11.8261H14.9998V2H5.17358V3.78262H11.2173C12.322 3.78262 13.2173 4.67804 13.2173 5.78262V11.8261ZM2 5.78262H11.2173V15H2V5.78262Z" fill="#071321"></path></svg>',phone:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.6413 12.6552L13.1704 10.1784C12.6782 9.6871 11.8632 9.70203 11.3538 10.2127L10.109 11.4601C10.0303 11.4167 9.94891 11.3713 9.86332 11.3231C9.07719 10.8866 8.00124 10.2882 6.86903 9.15259C5.73347 8.01459 5.1359 6.93454 4.69898 6.14613C4.65288 6.0626 4.6087 5.98207 4.56508 5.90559L5.40057 5.06945L5.81134 4.65725C6.32143 4.14586 6.33549 3.32921 5.84448 2.83648L3.37353 0.359373C2.88251 -0.132666 2.0671 -0.117739 1.55701 0.39365L0.860608 1.09563L0.879638 1.11457C0.646127 1.4132 0.450997 1.75763 0.305788 2.12905C0.171932 2.4826 0.0885942 2.81998 0.0504876 3.15805C-0.275785 5.86906 0.960265 8.34671 4.31474 11.7088C8.95165 16.3559 12.6884 16.0049 12.8496 15.9877C13.2007 15.9457 13.5372 15.8616 13.8791 15.7285C14.2465 15.5847 14.5899 15.3894 14.8877 15.1558L14.9029 15.1694L15.6084 14.477C16.1174 13.9657 16.1321 13.1487 15.6413 12.6552Z" fill="#071321"></path></svg>'},itemWrapper=wrapper;wrapper||((itemWrapper=document.createElement("div")).className="col col_xs-4 col_sm-6 col_lg-3");var complex=document.createElement("div");complex.className="complex-item-n-2",complex.setAttribute("data-id",data.id),data.telNumber&&complex.classList.add("complex-item-n-2_with-phone");var preview=document.createElement("div");preview.className="complex-item-n-2__preview";var slider=document.createElement("div");slider.className="complex-item-slider swiper-container";var complexLink=document.createElement("a");if(complexLink.className="complex-item-slider__link",complexLink.href=data.link,slider.appendChild(complexLink),data.unfinished){var complexOverlay=document.createElement("div");complexOverlay.className="complex-item-slider__overlay";var complexOverlayImage=document.createElement("img");complexOverlayImage.src=imageLink+"dolgostroy.png",complexOverlay.appendChild(complexOverlayImage),slider.appendChild(complexOverlay)}if(data.image&&Array.isArray(data.image)){var slidesWrapper=document.createElement("div");slidesWrapper.className="swiper-wrapper",data.image.forEach(function(image){var slide=document.createElement("div");slide.className="complex-item-slider__slide swiper-slide";var slideImage=document.createElement("img");slideImage.src=image,slide.appendChild(slideImage),slidesWrapper.appendChild(slide)}),slider.appendChild(slidesWrapper),slider.innerHTML+='\n      <div class="complex-item-slider__arrow complex-item-slider__arrow_prev">\n          '.concat(icons.arrow,'\n      </div>\n      <div class="complex-item-slider__arrow complex-item-slider__arrow_next">\n          ').concat(icons.arrow,"\n      </div>\n    ")}if(preview.appendChild(slider),data.recommended||data.mortgage||data.installment||data.action){var labelsWrapper=document.createElement("div");labelsWrapper.className="complex-item-n-2__info-labels";var labelNames=[];data.recommended&&labelNames.push("recommended"),data.mortgage&&labelNames.push("mortgage"),data.action&&labelNames.push("action"),data.installment&&labelNames.push("installment"),[].concat(labelNames).forEach(function(label){var labelItem=document.createElement("div");labelItem.className="info-label-n-2 info-label-n-2_".concat(label),labelItem.setAttribute("data-tip",data[label]),labelItem.setAttribute("data-style",label),labelItem.innerHTML=icons[label],labelsWrapper.appendChild(labelItem)}),preview.appendChild(labelsWrapper)}complex.appendChild(preview);var controlsBlock=document.createElement("div");controlsBlock.className="complex-item-n-2__controls",controlsBlock.innerHTML='\n    <div class="complex-item-n-2__control">\n      <div class="manage-complex-btn-n-2"\n        data-tip="Добавить в избранное"\n        data-id="'.concat(data.id,'"\n        data-type="').concat(data.type,'"\n        data-favorite="">\n        ').concat(icons.favorite,'\n      </div>\n    </div>\n    <div class="complex-item-n-2__control">\n      <div class="manage-complex-btn-n-2"\n        data-tip="Добавить в сравнение"\n        data-id="').concat(data.id,'"\n        data-type="').concat(data.type,'"\n        data-compare-n-2="">\n        ').concat(icons.compare,"\n      </div>\n    </div>\n  "),complex.appendChild(controlsBlock);var bodyBlock=document.createElement("div");if(bodyBlock.className="complex-item-n-2__body",bodyBlock.innerHTML='\n    <div class="complex-item-n-2__name">\n      <a class="complex-item-n-2__name-link" href="'.concat(data.link,'" target="_blank">').concat(data.name,'</a>\n    </div>\n    <div class="complex-item-n-2__info">\n      <div class="complex-item-n-2__price-block">\n        <div class="complex-item-n-2__total-price">').concat(data.price?data.price:"",'</div>\n        <div class="complex-item-n-2__price-per-square">').concat(data.priceM?data.priceM:"",'</div>\n      </div>\n      <div class="complex-item-n-2__data">\n        <div class="complex-item-n-2__location">\n          <a href="#" class="location-link">').concat(data.locationCity?data.locationCity:"","</a>\n        </div>\n        ").concat(data.dedline?'<div class="complex-item-n-2__time">Срок ввода:<span>  '.concat(data.dedline,"</span></div>"):"",'\n        <div class="complex-item-n-2__provider">\n           \n          ').concat(data.developers&&data.developers.length?"<span>Застройщик:</span> \n    ".concat(data.developers.map(function(developer){return'<a class="complex-item-n-2__provider-link" href="'.concat(developer.link,'" target="_blank">').concat(developer.name,"</a>")}).join(",&nbsp"),"\n    "):"","\n          \n          ").concat(data.reviewsTotal?'\n      <div class="complex-item-n-2__reviews">\n        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M16.5 3H4.5C3.675 3 3 3.675 3 4.5V18L6 15H16.5C17.325 15 18 14.325 18 13.5V4.5C18 3.675 17.325 3 16.5 3Z" stroke="#071321" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n          <path d="M6 7H15" stroke="#071321" stroke-width="2"></path>\n          <path d="M6 11H15" stroke="#071321" stroke-width="2"></path>\n        </svg>\n        <a class="complex-item-n-2__reviews-link" href="'.concat(data.link?"".concat(data.link,"#object-reviews"):"#",'" target="_blank">').concat(data.reviewsTotal+" ".concat(Object(_formatTextEndings__WEBPACK_IMPORTED_MODULE_9__.a)(data.reviewsTotal,"отзыв",["ов","а",""])),"</a>\n      </div>\n    "):"","\n                  \n        </div>\n        ").concat(data.metroString?data.metroString:"","\n        ").concat(data.description?'<div class="complex-item-n-2__description">'.concat(data.description,'<a class="complex-item-n-2__description-link" href="').concat(data.link,'#object-description" target="_blank">Читать далее</a></div>'):"","\n      </div>\n    </div>\n  "),data.offers){var offersBlock=document.createElement("div");offersBlock.className="complex-item-n-2__offers";var offersList=document.createElement("ul");offersList.className="complex-item-n-2__offers-list",Object.entries(data.offers).forEach(function(entry){var offer=entry[1],offerItem=document.createElement("li");offerItem.className="complex-item-n-2__offers-list-item",offerItem.innerHTML='\n        <span class="complex-item-n-2__offers-list-item-name" href="#">'.concat(offer.name," от ").concat(offer.area," ").concat(offer.unit,'</span>\n              <span class="dots-filler"></span>\n              <span class="complex-item-n-n2__offers-list-item-price">').concat(offer.price,"</span>\n      "),offersList.appendChild(offerItem)}),offersBlock.appendChild(offersList),bodyBlock.appendChild(offersBlock)}if(complex.appendChild(bodyBlock),data.telNumber){var phoneBlock=document.createElement("div");phoneBlock.className="complex-item-n-2__phone",phoneBlock.innerHTML='\n      <a class="phone-number-n-2" data-tel="'.concat(data.telNumber,'"\n        onclick="ym(39897405, \'reachGoal\', Click_phone\');">\n        <div class="phone-number-n-2__icon">\n          ').concat(icons.phone,'\n        </div>\n        <div class="phone-number-n-2__number">\n          +7 <span>Показать телефон</span>\n        </div>\n      </a>\n    '),complex.appendChild(phoneBlock)}return itemWrapper.appendChild(complex),itemWrapper}},256:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return Draggable});var Draggable=function(){function Draggable(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Draggable),this.element=element,element.hasAttribute("data-draggable")||element.setAttribute("data-draggable",""),this.state={clicked:!1,clickX:0,startX:element.scrollLeft},this.bindHandlers()}var Constructor,protoProps,staticProps;return Constructor=Draggable,(protoProps=[{key:"bindHandlers",value:function(){var _this=this;this.element.addEventListener("mousemove",function(event){if(_this.state.clicked){var diff=_this.state.clickX-event.pageX;_this.scroll(diff)}}),this.element.addEventListener("mousedown",function(event){_this.state.clicked=!0,_this.state.clickX=event.pageX,_this.state.startX=_this.element.scrollLeft,_this.element.setAttribute("data-draggable","active")}),document.addEventListener("mouseup",function(){_this.state.clicked=!1,_this.element.setAttribute("data-draggable","")})}},{key:"scroll",value:function(diff){this.element.scrollLeft=this.state.startX+diff}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Draggable}()},257:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DeveloperBadge});var _item_card_common_object_rating_circle_chart__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(110);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DeveloperBadge=function(){function DeveloperBadge(el){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeveloperBadge),this.element=el,this.color=el.getAttribute("data-color"),this.plainValues=el.getAttribute("data-plain-values"),this.rotate=el.getAttribute("data-rotate"),this.circleChart=new _item_card_common_object_rating_circle_chart__WEBPACK_IMPORTED_MODULE_0__.a({container:this.element,colorRange:[this.color],data:"count",duration:.75,plainValues:this.plainValues,rotate:this.rotate,size:60,wrapper:"[data-stats-badge-wrapper]",maxValue:5,circle:{background:"#e8e8e8",thickness:6,backwards:!0,ease:"Power1.easeOut",speed:2}}),this.circleChart.init()}var Constructor,protoProps,staticProps;return Constructor=DeveloperBadge,(protoProps=[{key:"destroy",value:function(){this.circleChart.destroy()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),DeveloperBadge}()},258:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return GalleryListing});__webpack_require__(3),__webpack_require__(4),__webpack_require__(7),__webpack_require__(24),__webpack_require__(8),__webpack_require__(0),__webpack_require__(15),__webpack_require__(1),__webpack_require__(82),__webpack_require__(2),__webpack_require__(5),__webpack_require__(6);var _sliders_thumb_gallery_thumb_gallery__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(111),_light_gallery_light_gallery__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(109),perfect_scrollbar__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(56);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var GalleryListing=function(){function GalleryListing(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GalleryListing),this.element=element,this.radios=_toConsumableArray(element.querySelectorAll('[name="complex-gallery-radio"]')),this.selector=element.querySelector('[name="complex-gallery-select"]'),this.galleryWrapper=element.querySelector(".gallery-wrapper"),this.url=element.getAttribute("data-request-url"),this.radioList=element.querySelector(".selector-list"),this.ps=new perfect_scrollbar__WEBPACK_IMPORTED_MODULE_14__.a(this.radioList),this.bindHandlers()}return _createClass(GalleryListing,null,[{key:"init",value:function(){var el=document.querySelector(".gallery-listing");return el?new GalleryListing(el):null}}]),_createClass(GalleryListing,[{key:"bindHandlers",value:function(){var _this=this;this.radios.map(function(radio){radio.addEventListener("change",function(){radio.checked&&_this.requestGallery(radio.value)})}),this.selector.addEventListener("change",function(){_this.requestGallery(_this.selector.value)})}},{key:"requestGallery",value:function(id){var _this2=this;return this.galleryWrapper.classList.add("gallery-wrapper_loading"),fetch("".concat(this.url,"?id=").concat(id)).then(function(resp){return resp.json()}).then(function(data){_this2.galleryWrapper.querySelector(".thumb-gallery").remove(),_this2.createGallery(data),_this2.galleryWrapper.classList.remove("gallery-wrapper_loading")}).catch(function(){_this2.galleryWrapper.classList.remove("gallery-wrapper_loading")})}},{key:"createGallery",value:function(data){var gallery=document.createElement("div");gallery.classList.add("thumb-gallery","thumb-gallery_reloading");var template="";template+='\n      <div class="thumb-gallery__top">\n        <div class="thumb-gallery__top-slider swiper-container">\n          <div class="swiper-wrapper">',data.images.map(function(src){template+='\n        <a class="swiper-slide" href="'.concat(src,'" data-src="').concat(src,'">\n          <img src="').concat(src,'"/>\n        </a>')}),template+='</div></div>\n        <a class="btn-slider btn-slider_next" href="#">\n          <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"/>\n          </svg>\n        </a>\n        <a class="btn-slider btn-slider_prev" href="#">\n          <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M5.89595 10.8977C6.03468 10.7599 6.03468 10.5359 5.89595 10.3981L1.46513 6.00483L5.89595 1.60299C6.03468 1.46517 6.03468 1.2412 5.89595 1.10337C5.75722 0.965543 5.53177 0.965543 5.39304 1.10337L0.719435 5.74641C0.650068 5.81532 0.615385 5.90146 0.615385 5.99622C0.615385 6.08236 0.650068 6.17712 0.719435 6.24603L5.39304 10.8891C5.53177 11.0355 5.75722 11.0355 5.89595 10.8977Z" fill="#071321" stroke="#071321"/>\n          </svg>\n        </a>\n        <div class="slider-features-buttons">\n          <div class="buttons-group">',data.media&&data.media.review&&(template+='\n        <div class="buttons-group__item">\n          <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" href="'.concat(data.media.review,'" data-element-opening="">\n            <span class="button-n-2__icon">\n              <svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M10.8136 6.17801C11.3876 6.57569 11.3876 7.42431 10.8136 7.82199L2.31949 13.7069C1.65629 14.1663 0.75 13.6917 0.75 12.8849L0.75 1.11514C0.75 0.308322 1.65629 -0.16633 2.3195 0.293149L10.8136 6.17801Z" fill="#FFC700"/>\n              </svg>\n            </span>\n            <span class="button-n-2__text hidden-n-2 hidden-n-2_xs">Видеообзор</span>\n          </a>\n        </div>')),data.media&&data.media.aero&&(template+='\n        <div class="buttons-group__item">\n          <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" href="'.concat(data.media.aero,'" data-element-opening="">\n            <span class="button-n-2__icon">\n              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M30.1211 3.88278H28.1758V2.87891C28.1758 2.39352 27.7822 2 27.2969 2C26.8115 2 26.418 2.39352 26.418 2.87891V3.88278H24.4727C23.9873 3.88278 23.5938 4.27631 23.5938 4.76169C23.5938 5.2471 23.9873 5.64059 24.4727 5.64059H26.418V9.53123H21.6484H10.3516H5.58203V5.64059H7.52734C8.0127 5.64059 8.40625 5.2471 8.40625 4.76169C8.40625 4.27631 8.0127 3.88278 7.52734 3.88278H5.58203V2.87891C5.58203 2.39352 5.18848 2 4.70312 2C4.21777 2 3.82422 2.39352 3.82422 2.87891V3.88278H1.87891C1.39355 3.88278 1 4.27631 1 4.76169C1 5.2471 1.39355 5.64059 1.87891 5.64059H3.82422V10.4101C3.82422 10.8955 4.21777 11.289 4.70312 11.289H9.47266V16.0585C9.47266 16.5439 9.86621 16.9374 10.3516 16.9374H21.6484C22.1338 16.9374 22.5273 16.5439 22.5273 16.0585V11.289H27.2969C27.7822 11.289 28.1758 10.8955 28.1758 10.4101V5.64059H30.1211C30.6064 5.64059 31 5.2471 31 4.76169C31 4.27631 30.6064 3.88278 30.1211 3.88278ZM20.7695 15.1797H11.2305V11.2891H20.7695V15.1797ZM18.8242 19.7695C18.3389 19.7695 17.9453 20.163 17.9453 20.6484C17.9453 21.7211 17.0725 22.5937 16 22.5937C14.9275 22.5937 14.0547 21.721 14.0547 20.6484C14.0547 20.163 13.6611 19.7695 13.1758 19.7695C12.6904 19.7695 12.2969 20.163 12.2969 20.6484C12.2969 22.6903 13.958 24.3515 16 24.3515C18.042 24.3515 19.7031 22.6903 19.7031 20.6484C19.7031 20.163 19.3096 19.7695 18.8242 19.7695ZM23.5938 20.6484C23.5938 20.163 23.9873 19.7695 24.4727 19.7695C24.958 19.7695 25.3516 20.163 25.3516 20.6484C25.3516 25.8049 21.1565 30 16 30C10.8435 30 6.64844 25.8049 6.64844 20.6484C6.64844 20.163 7.04199 19.7695 7.52734 19.7695C8.0127 19.7695 8.40625 20.163 8.40625 20.6484C8.40625 24.8356 11.8127 28.2422 16 28.2422C20.1873 28.2422 23.5938 24.8356 23.5938 20.6484Z" fill="#FFCB00"/>\n              </svg>\n            </span>\n            <span class="button-n-2__text hidden-n-2 hidden-n-2_xs">Аэросъемка</span>\n          </a>\n        </div>')),data.media&&data.media.panorama&&(template+='\n        <div class="buttons-group__item">\n          <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" href="'.concat(data.media.panorama,'" data-element-opening="" data-iframe="true">\n            <span class="button-n-2__icon">\n              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M24.75 7.55556C24.75 8.96696 25.9253 10.1111 27.375 10.1111C28.8247 10.1111 30 8.96696 30 7.55556C30 6.14415 28.8247 5 27.375 5C25.9253 5 24.75 6.14415 24.75 7.55556ZM26.5 7.55556C26.5 7.08507 26.8918 6.7037 27.375 6.7037C27.8582 6.7037 28.25 7.08507 28.25 7.55556C28.25 8.02605 27.8582 8.40741 27.375 8.40741C26.8918 8.40741 26.5 8.02605 26.5 7.55556ZM6.375 18.6296H9.875C10.3582 18.6296 10.75 18.2483 10.75 17.7778V14.3704V10.963C10.75 10.4925 10.3582 10.1111 9.875 10.1111H6.375C5.89185 10.1111 5.5 10.4925 5.5 10.963C5.5 11.4335 5.89185 11.8148 6.375 11.8148H9V13.5185H6.375C5.89185 13.5185 5.5 13.8999 5.5 14.3704C5.5 14.8409 5.89185 15.2222 6.375 15.2222H9V16.9259H6.375C5.89185 16.9259 5.5 17.3073 5.5 17.7778C5.5 18.2483 5.89185 18.6296 6.375 18.6296ZM14.25 18.6296H16C16.9666 18.6296 17.75 17.8669 17.75 16.9259V15.2222C17.75 14.2813 16.9666 13.5185 16 13.5185H14.25V11.8148H16.875C17.3582 11.8148 17.75 11.4335 17.75 10.963C17.75 10.4925 17.3582 10.1111 16.875 10.1111H14.25C13.2834 10.1111 12.5 10.8739 12.5 11.8148V16.9259C12.5 17.8669 13.2834 18.6296 14.25 18.6296ZM14.25 16.9259V15.2222H16V16.9259H14.25ZM23 18.6296H21.25C20.2834 18.6296 19.5 17.8669 19.5 16.9259V11.8148C19.5 10.8739 20.2834 10.1111 21.25 10.1111H23C23.9666 10.1111 24.75 10.8739 24.75 11.8148V16.9259C24.75 17.8669 23.9666 18.6296 23 18.6296ZM21.25 11.8148V16.9259H23V11.8148H21.25ZM12.7556 22.6401L13.7988 23.6549C7.77881 23.1774 3.75 20.793 3.75 18.6296C3.84595 17.7025 4.36523 16.8667 5.16406 16.3535C5.54517 16.0637 5.61304 15.5278 5.31543 15.1566C5.01782 14.7854 4.46729 14.7195 4.08594 15.0093C2.84375 15.8288 2.0708 17.1703 2 18.6296C2 22.1127 7.10889 24.9079 13.958 25.3755L12.7556 26.545C12.5906 26.7052 12.498 26.9229 12.4985 27.1497C12.4995 27.6201 12.8918 28.0008 13.3752 28C13.6074 28.0004 13.8303 27.9109 13.9946 27.7513L16.6196 25.1957L16.6211 25.1942C16.9624 24.8611 16.9617 24.3217 16.6196 23.9895L13.9946 21.4339C13.6526 21.1008 13.0977 21.1008 12.7556 21.4339C12.4136 21.767 12.4136 22.3071 12.7556 22.6401ZM17.708 24.5142C17.7312 24.9847 18.1418 25.3477 18.625 25.3252L18.709 25.3218C25.3574 24.6965 30 21.9433 30 18.6296C29.9299 17.1706 29.1567 15.8294 27.9141 15.011C27.5332 14.7212 26.9832 14.7868 26.6855 15.1575C26.3879 15.5282 26.4553 16.0637 26.8359 16.3535C27.6348 16.8667 28.1543 17.7025 28.25 18.6296C28.25 20.9569 24.0764 23.1053 18.541 23.6215C18.0579 23.6441 17.6848 24.0437 17.708 24.5142Z" fill="#FFCB00"/>\n              </svg>\n            </span>\n            <span class="button-n-2__text hidden-n-2 hidden-n-2_xs">Панорама 360°</span>\n          </a>\n        </div>')),template+='\n        </div>\n        <a class="button-n-2 button-n-2_theme_dark_alpha button-n-2_type_md button-n-2_text_sm button-n-2_slider-media" data-show-gallery="data-show-gallery">\n          <span class="button-n-2__icon">\n            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M7.82168 10.8966L1.81094 16.9082V13.0473C1.81094 12.5472 1.40565 12.1418 0.905469 12.1418C0.405288 12.1418 0 12.5472 0 13.0473V19.0945C0 19.5946 0.405288 20 0.905469 20H6.95207C7.45213 20 7.85754 19.5946 7.85754 19.0945C7.85754 18.5944 7.45225 18.189 6.95207 18.189H3.09139L9.10226 12.1771C9.45587 11.8235 9.45587 11.2501 9.10214 10.8965C8.74876 10.543 8.17542 10.543 7.82168 10.8966Z" fill="white"/>\n              <path d="M19.0928 0H13.0459C12.5457 0 12.1405 0.405431 12.1405 0.90552C12.1405 1.40561 12.5457 1.81104 13.0459 1.81104H16.9067L11.0757 7.64271C10.7221 7.99635 10.7221 8.56972 11.0759 8.92336C11.2526 9.10011 11.4844 9.18849 11.7161 9.18849C11.9478 9.18849 12.1796 9.09999 12.3564 8.92323L18.1874 3.09157V6.9527C18.1874 7.45279 18.5927 7.85822 19.0929 7.85822C19.5931 7.85822 19.9984 7.45279 19.9984 6.9527V0.90552C19.9982 0.405311 19.5928 0 19.0928 0Z" fill="white"/>\n            </svg>\n          </span>\n        </a>\n      </div>\n      <div class="thumb-gallery__count">\n        <div class="slide-count">\n          <span class="slide-count__value slide-count__value_current">1 </span>\n          <span> / </span>\n          <span class="slide-count__value">'.concat(data.images.length,'</span>\n        </div>\n      </div>\n    </div>\n    <div class="thumb-gallery__thumbs swiper-container">\n      <div class="swiper-wrapper">'),data.thumbnails.map(function(src){template+='<div class="swiper-slide">\n        <img src="'.concat(src,'"/>\n      </div>')}),template+="</div></div>",gallery.innerHTML=template,this.galleryWrapper.appendChild(gallery),this.gallery=new _sliders_thumb_gallery_thumb_gallery__WEBPACK_IMPORTED_MODULE_12__.a(gallery),_light_gallery_light_gallery__WEBPACK_IMPORTED_MODULE_13__.a.init()}}]),GalleryListing}()},277:function(module,exports,__webpack_require__){__webpack_require__(12)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},389:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(3),__webpack_require__(4),__webpack_require__(7),__webpack_require__(24),__webpack_require__(8),__webpack_require__(0),__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(11),__webpack_require__(6),__webpack_require__(62);var tabs=__webpack_require__(234),perfect_scrollbar_esm=__webpack_require__(56),draggable=__webpack_require__(256);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var apartment_prices_ApartmentPrices=function(){var Constructor,protoProps,staticProps;function ApartmentPrices(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ApartmentPrices),this.element=element,this.tabsContainer=element.querySelector(".tabs-links"),this.tabsWrapper=element.querySelector(".tabs-links__wrapper"),this.tabs={links:_toConsumableArray(element.querySelectorAll(".tabs-links__link")),line:element.querySelector(".tabs-links__line")},this.tabsController=new tabs.a(this.tabs.links,{line:this.tabs.line,linkClass:"tabs-links__link",tabsClass:"corps-tabs__tab"}),this.tabsController.init(),this.ps=new perfect_scrollbar_esm.a(this.tabsWrapper,{useBothWheelAxes:!0}),this.tabsContainer.classList.add("tabs-links_scrollable"),this.draggable=new draggable.a(this.tabsWrapper)}return Constructor=ApartmentPrices,staticProps=[{key:"init",value:function(){var prices=document.querySelector(".apartment-price");return prices?new ApartmentPrices(prices):null}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ApartmentPrices}(),circle_chart=__webpack_require__(110);function object_rating_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var object_rating_ObjectRating=function(){var Constructor,protoProps,staticProps;function ObjectRating(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectRating),this.element=element,this.ratingAnimation=new circle_chart.a({wrapper:".rating-badge__background",data:"ranking",colorRange:["#d32a01","#ffcb00","#43b05c"],maxValue:5,circle:{background:"#e8e8e8",thickness:6,backwards:!0,ease:"Bounce.easeOut",speed:2}}),this.ratingAnimation.init()}return Constructor=ObjectRating,staticProps=[{key:"init",value:function(){var rating=document.querySelector(".ratings-container");return rating?new ObjectRating(rating):null}}],(protoProps=null)&&object_rating_defineProperties(Constructor.prototype,protoProps),staticProps&&object_rating_defineProperties(Constructor,staticProps),ObjectRating}(),axios=(__webpack_require__(15),__webpack_require__(54),__webpack_require__(82),__webpack_require__(165),__webpack_require__(85),__webpack_require__(102),__webpack_require__(171),__webpack_require__(27)),axios_default=__webpack_require__.n(axios),modal=__webpack_require__(107),light_gallery=__webpack_require__(109),switchableButton=__webpack_require__(156);function flats_prices_list_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function flats_prices_list_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function flats_prices_list_createClass(Constructor,protoProps,staticProps){return protoProps&&flats_prices_list_defineProperties(Constructor.prototype,protoProps),staticProps&&flats_prices_list_defineProperties(Constructor,staticProps),Constructor}var ARTICLE_HEIGHT_TABLET,ARTICLE_HEIGHT_MOBILE,ARTICLE_HEIGHT_DESKTOP,flats_prices_list_FlatsPrices=function(){function FlatsPrices(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FlatsPrices),this.element=element,this.form=element.querySelector(".flats-filter-n-2"),this.listContainer=element.querySelector(".flats-prices__list"),this.selects=flats_prices_list_toConsumableArray(element.querySelectorAll("select")),this.inputs=flats_prices_list_toConsumableArray(element.querySelectorAll('input[type="text"]')),this.links=flats_prices_list_toConsumableArray(document.querySelectorAll(".object-price-n-2 [data-rooms]")),this.roomSelect=element.querySelector('[name="rooms"]'),this.classes={item:"flat-item",itemActive:"flat-item_is_active",content:"flat-item__content",detailed:"flat-item__detailed",listLoading:"flats-prices__list_loading"},this.state={activeItem:null,scrollInited:!1,fixed:!1,boundBottom:!1},this.url=this.form.getAttribute("action"),this.timeout=null,this.items=[],this.getList=this.getList.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onScroll=this.onScroll.bind(this),this.initItems(),this.initButton(),this.bindHandlers(),this.checkHeight()}return flats_prices_list_createClass(FlatsPrices,null,[{key:"init",value:function(){var el=document.querySelector(".flats-prices");return el?new FlatsPrices(el):null}}]),flats_prices_list_createClass(FlatsPrices,[{key:"getList",value:function(){var _this=this,body=this.formData;return this.setMinHeight(this.listContainer.clientHeight),this.listContainer.classList.add(this.classes.listLoading),axios_default.a.post(this.url,body).then(function(response){var data=response.data;if(data){for(;_this.listContainer.firstChild;)_this.listContainer.firstChild.remove();_this.items=[],_this.listContainer.innerHTML=data,_this.setMinHeight(),_this.initInteractives(),_this.initItems(),_this.initButton(),_this.checkHeight()}else _this.showPlaceholder("Нет результатов");modal.a.init({container:_this.listContainer,triggersSelector:'[data-toggle="modal-n-2"]'})}).catch(function(error){_this.showPlaceholder("Произошла ошибка")}).finally(function(){_this.listContainer.classList.remove(_this.classes.listLoading)})}},{key:"getMoreItems",value:function(url){var _this2=this,body=this.formData,listContent=this.element.querySelector(".flats-list__content");return this.listContainer.classList.add(this.classes.listLoading),axios_default.a.post(url,body).then(function(response){var data=response.data;if(data){var list=_this2.compileHTML(data),wrap=_this2.element.querySelector(".flats-list__control");wrap&&wrap.remove(),list.map(function(itemWrapper){var item=itemWrapper.querySelector(".flat-item");listContent.appendChild(itemWrapper),item&&_this2.initItem(item)}),_this2.initInteractives(),_this2.initButton(),_this2.checkHeight()}}).finally(function(){_this2.listContainer.classList.remove(_this2.classes.listLoading),_this2.state.scrollInited&&_this2.onScroll(),modal.a.init({container:listContent,triggersSelector:'[data-toggle="modal-n-2"]'})})}},{key:"initItems",value:function(){var _this3=this;if(this.state.activeItem=document.querySelector(".".concat(this.classes.itemActive)),flats_prices_list_toConsumableArray(this.element.querySelectorAll(".".concat(this.classes.item,":not([data-item-inited])"))).map(function(item){return _this3.initItem(item)}),this.state.activeItem){var detailed=this.state.activeItem.querySelector(".".concat(this.classes.detailed));this.setMinHeight(detailed.clientHeight)}}},{key:"initItem",value:function(item){var _this4=this,content=item.querySelector(".".concat(this.classes.content)),detailed=item.querySelector(".".concat(this.classes.detailed));content&&(content.addEventListener("click",function(){_this4.state.activeItem===item?(_this4.state.activeItem.classList.remove(_this4.classes.itemActive),_this4.setMinHeight(null),_this4.state.activeItem=null):(_this4.state.activeItem&&_this4.state.activeItem.classList.remove(_this4.classes.itemActive),item.classList.add(_this4.classes.itemActive),_this4.state.activeItem=item,_this4.setMinHeight(detailed.clientHeight))}),item.setAttribute("data-item-inited",""),this.items.push(item))}},{key:"setMinHeight",value:function(height){this.listContainer.style.minHeight=height?"".concat(height,"px"):""}},{key:"initInteractives",value:function(){var numbers=flats_prices_list_toConsumableArray(this.listContainer.querySelectorAll(".button-n-2_switchable")),galleryLinks=flats_prices_list_toConsumableArray(this.listContainer.querySelectorAll("[data-element-opening]"));numbers.map(function(number){return new switchableButton.a(number)}),galleryLinks.map(function(link){return new light_gallery.a(link)})}},{key:"onInputChange",value:function(event){var _this5=this;event.key.match(/\d/)&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){_this5.getList()},750))}},{key:"showPlaceholder",value:function(text){for(;this.listContainer.firstChild;)this.listContainer.firstChild.remove();this.listContainer.innerHTML='<div class="flats-prices__placeholder">'.concat(text,"</div >")}},{key:"bindHandlers",value:function(){var _this6=this;this.selects.map(function(select){select.addEventListener("change",_this6.getList)}),this.inputs.map(function(input){input.addEventListener("keydown",_this6.onInputChange)}),this.links.map(function(link){link.addEventListener("click",function(event){event.preventDefault();var rooms=link.getAttribute("data-rooms");if(rooms&&_this6.roomSelect.Select){_this6.roomSelect.Select.setValue(rooms);var changeEvent=new CustomEvent("change");_this6.roomSelect.dispatchEvent(changeEvent)}})})}},{key:"initButton",value:function(){var _this7=this,showMoreButton=this.element.querySelector(".flats-list__control .button-n-2");showMoreButton&&showMoreButton.addEventListener("click",function(e){e.preventDefault();var url=showMoreButton.getAttribute("data-request");_this7.getMoreItems(url)})}},{key:"checkHeight",value:function(){this.listContainer.clientHeight>document.documentElement.clientHeight?this.state.scrollInited||(document.addEventListener("scroll",this.onScroll),this.state.scrollInited=!0):this.state.scrollInited&&(document.removeEventListener("scroll",this.onScroll),this.state.scrollInited=!1)}},{key:"onScroll",value:function(){var activeDetailed=this.element.querySelector(".flat-item_is_active .flat-item-detailed");if(!activeDetailed||document.documentElement.clientWidth<1024)return this.element.classList.remove("flats-prices_bind-bottom"),this.element.classList.remove("flats-prices_fixed"),this.state.fixed=!1,this.state.boundBottom=!1,!1;var detailedHeight=activeDetailed.clientHeight,_this$listContainer$g=this.listContainer.getBoundingClientRect(),top=_this$listContainer$g.top,bottom=_this$listContainer$g.bottom;top<60&&bottom-detailedHeight>0?this.state.fixed||(this.element.classList.add("flats-prices_fixed"),this.element.classList.remove("flats-prices_bind-bottom"),this.state.boundBottom=!1,this.state.fixed=!0):(bottom<detailedHeight&&bottom>0?this.state.boundBottom||(this.element.classList.add("flats-prices_bind-bottom"),this.state.boundBottom=!0):this.state.boundBottom&&(this.element.classList.remove("flats-prices_bind-bottom"),this.state.boundBottom=!1),this.state.fixed&&(this.element.classList.remove("flats-prices_fixed"),this.state.fixed=!1))}},{key:"compileHTML",value:function(template){var div=document.createElement("div");return div.innerHTML=template.trim(),flats_prices_list_toConsumableArray(div.children)}},{key:"formData",get:function(){var data=new FormData,hiddenInputs=flats_prices_list_toConsumableArray(this.form.querySelectorAll('input[type="hidden"]'));return this.selects.map(function(select){return data.append(select.name,select.value)}),this.inputs.map(function(input){var value=input.mask?input.mask.unmaskedValue:input.value;data.append(input.name,value)}),hiddenInputs.map(function(input){return data.append(input.name,input.value)}),data}}]),FlatsPrices}(),moveTo=(__webpack_require__(60),__webpack_require__(277),__webpack_require__(36)),moveTo_default=__webpack_require__.n(moveTo),TweenLite=__webpack_require__(9);function object_description_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function object_description_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function object_description_createClass(Constructor,protoProps,staticProps){return protoProps&&object_description_defineProperties(Constructor.prototype,protoProps),staticProps&&object_description_defineProperties(Constructor,staticProps),Constructor}var object_description_ObjectDescription=function(){function ObjectDescription(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectDescription),this.element=element,this.moveTo=new moveTo_default.a,this.articleAnchors=object_description_toConsumableArray(element.querySelectorAll('a[href*="#"]'));var xs=this.element.getAttribute("data-article-height-xs"),sm=this.element.getAttribute("data-article-height-sm"),md=this.element.getAttribute("data-article-height-md");ARTICLE_HEIGHT_MOBILE=+xs||1500,ARTICLE_HEIGHT_TABLET=+sm||2e3,ARTICLE_HEIGHT_DESKTOP=md&&"none"===md?Number.MAX_SAFE_INTEGER:4e3,this.containers={article:element.querySelector(".js-object-article-content"),author:element.querySelector(".object-article__author")},this.articleButton=element.querySelector("[data-accordion-article]"),this.articleButton&&(this.state={minimized:!1},this.textElement=this.articleButton.querySelector("[data-accordion-text]"),this.textElement&&(this.text={default:this.textElement.innerText,alt:"Свернуть"}),this.init())}return object_description_createClass(ObjectDescription,null,[{key:"init",value:function(){var el=document.querySelector(".js-object-article");return el?new ObjectDescription(el):null}}]),object_description_createClass(ObjectDescription,[{key:"init",value:function(){if(this.containers.article)if(this.articleHeight<=this.heightLimit)this.articleButton&&(this.articleButton.style.display="none");else{if(this.containers.article&&this.articleButton)this.articleButton.style.display="",window.innerWidth<1024||ARTICLE_HEIGHT_DESKTOP<this.authorHeight+this.articleHeight?this.minimize():this.toggleButton(),this.bindHandlers();this.bindAnchorEvents()}}},{key:"bindAnchorEvents",value:function(){var _this=this;this.articleAnchors.forEach(function(anchor){anchor.addEventListener("click",function(){_this.expand(!0),_this.toggleButton()})})}},{key:"expand",value:function(){var instant=arguments.length>0&&void 0!==arguments[0]&&arguments[0],height=this.containers.article.clientHeight;this.containers.article.style.height="auto",TweenLite.c.from(this.containers.article,instant?0:.5,{height:height}),this.state.minimized=!1}},{key:"minimize",value:function(){var isClicked=arguments.length>0&&void 0!==arguments[0]&&arguments[0],height=this.maxHeight;TweenLite.c.to(this.containers.article,.5,{height:height}),this.state.minimized=!0,isClicked&&this.moveTo.move(this.element,{tolerance:62,duration:500})}},{key:"bindHandlers",value:function(){var _this2=this;this.articleButton.addEventListener("click",function(event){event.preventDefault(),_this2.state.minimized?_this2.expand():_this2.minimize(!0),_this2.toggleButton()}),window.addEventListener("resize",function(){_this2.setHeight()})}},{key:"setHeight",value:function(){this.state.minimized&&(this.containers.article.style.height=this.maxHeight+"px")}},{key:"toggleButton",value:function(){this.state.minimized?(this.articleButton.removeAttribute("data-accordion-shown"),this.textElement.innerText=this.text.default):(this.articleButton.setAttribute("data-accordion-shown",""),this.textElement.innerText=this.text.alt)}},{key:"articleHeight",get:function(){return this.containers.article.clientHeight}},{key:"authorHeight",get:function(){return this.containers.author?this.containers.author.clientHeight+40:0}},{key:"heightLimit",get:function(){var windowWidth=window.innerWidth;return windowWidth<1024&&windowWidth>=768?ARTICLE_HEIGHT_TABLET:windowWidth<768?ARTICLE_HEIGHT_MOBILE:ARTICLE_HEIGHT_DESKTOP}},{key:"maxHeight",get:function(){for(var articleItems=object_description_toConsumableArray(this.element.querySelectorAll(".article > *")),maxHeight=this.heightLimit,height=0,i=0,margin=0;height<maxHeight&&i<=articleItems.length-1;){var item=articleItems[i],style=item.currentStyle||window.getComputedStyle(item);margin=item.clientHeight>0?parseInt(style.marginBottom,10):0,height+=item.clientHeight+margin,i++}return height-=margin}}]),ObjectDescription}(),swiper_min=(__webpack_require__(40),__webpack_require__(83),__webpack_require__(103),__webpack_require__(16)),swiper_min_default=__webpack_require__.n(swiper_min),complex_item_slider=__webpack_require__(58);function object_similars_slider_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function object_similars_slider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var object_similars_slider_SimilarSlider=function(){var Constructor,protoProps,staticProps;function SimilarSlider(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SimilarSlider),this.element=element,this.arrows={next:element.parentNode.querySelector(".swiper-button-next"),prev:element.parentNode.querySelector(".swiper-button-prev")},this.swiper=new swiper_min_default.a(this.element,{slidesPerView:4,spaceBetween:16,initialSlide:0,navigation:{nextEl:this.arrows.next,prevEl:this.arrows.prev},breakpoints:{1311:{slidesPerView:4,spaceBetween:16},1200:{slidesPerView:3,spaceBetween:20},767:{slidesPerView:2},575:{slidesPerView:1}}}),complex_item_slider.a.init(this.element)}return Constructor=SimilarSlider,staticProps=[{key:"init",value:function(el){var lazyUpdate=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return object_similars_slider_toConsumableArray((el||document).querySelectorAll(".similars-slider")).map(function(slider){return new SimilarSlider(slider,lazyUpdate)})}}],(protoProps=null)&&object_similars_slider_defineProperties(Constructor.prototype,protoProps),staticProps&&object_similars_slider_defineProperties(Constructor,staticProps),SimilarSlider}(),phone_number=__webpack_require__(57),formatTextEndings=__webpack_require__(226);function object_similar_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function object_similar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function object_similar_createClass(Constructor,protoProps,staticProps){return protoProps&&object_similar_defineProperties(Constructor.prototype,protoProps),staticProps&&object_similar_defineProperties(Constructor,staticProps),Constructor}var OBJECT_TYPES={cottages:{root:"коттедж",endings:["ей","а",""],similarWordEndings:["их","их","ий"],placeholder:"коттеджей"},buildings:{root:"новостро",endings:["ек","йки","йку"],similarWordEndings:["их","иe","ую"],placeholder:"новостроек"},default:{root:"объект",endings:["ов","а",""],similarWordEndings:["их","их","ий"],placeholder:"объектов"}},object_similar_ObjectSimilar=function(){function ObjectSimilar(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectSimilar),this.element=element,this.initedTabs=[],this.initedTabTotals=[],this.header=element.querySelector("[data-similar-header]"),this.headerDefaultText=this.header.innerText,this.headerType=this.header.getAttribute("data-similar-header")||"default",this.objectType=OBJECT_TYPES[this.headerType],this.tabsContainer=element.querySelector(".tabs-links"),this.tabsWrapper=element.querySelector(".tabs-links__wrapper"),this.tabs={links:object_similar_toConsumableArray(element.querySelectorAll(".tabs-links__link")),line:element.querySelector(".tabs-links__line")},this.tabsController=new tabs.a(this.tabs.links,{line:this.tabs.line,linkClass:"tabs-links__link",tabsClass:"object-similar__tab",beforeChange:function(el,tab){return _this.requestTabData(el,tab)},afterChange:function(tab){return _this.initTabContent(tab)}}),this.tabsController.init(),this.requestTabData(this.tabsController.activeLink,this.tabsController.activeTab).then(function(){return _this.initTabContent(_this.tabsController.activeTab)})}return object_similar_createClass(ObjectSimilar,null,[{key:"init",value:function(){var el=document.querySelector(".object-similar");return el?new ObjectSimilar(el):null}}]),object_similar_createClass(ObjectSimilar,[{key:"requestTabData",value:function(el,tab){var _this2=this;if(this.initedTabs.includes(tab)){var initedTabTotal=this.initedTabTotals.find(function(t){return t.key===tab});this.updateHeader(initedTabTotal.total)}else{var dataUrl=el.getAttribute("data-url");if(dataUrl)return axios_default.a.get(dataUrl).then(function(response){var data=response.data;return data&&(data.html?_this2.renderTabContent(tab,data.html):_this2.renderTabContent(tab,'\n                <div class="object-similar__no-similars">К сожалению, нам не удалось найти похожих '.concat(_this2.objectType.placeholder,"</div>\n              ")),data.total&&(_this2.initedTabTotals.push({key:tab,total:data.total}),_this2.updateHeader(data.total))),window.lazyloadInstance&&window.lazyloadInstance.update(),data.total||0})}}},{key:"initTabContent",value:function(tab,total){object_similars_slider_SimilarSlider.init(tab),phone_number.a.init(tab),this.initedTabs.push(tab),this.initedTabTotals.push({key:tab,total:total})}},{key:"updateHeader",value:function(totalItems){this.header.innerText=totalItems>0?'Мы нашли еще "'.concat(totalItems,'" ').concat(Object(formatTextEndings.a)(totalItems,"похож",this.objectType.similarWordEndings))+" ".concat(Object(formatTextEndings.a)(totalItems,this.objectType.root,this.objectType.endings)):this.headerDefaultText}},{key:"renderTabContent",value:function(container,data){container.innerHTML=data}}]),ObjectSimilar}();function object_header_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function object_header_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function object_header_createClass(Constructor,protoProps,staticProps){return protoProps&&object_header_defineProperties(Constructor.prototype,protoProps),staticProps&&object_header_defineProperties(Constructor,staticProps),Constructor}var ObjectHeader=function(){function ObjectHeader(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObjectHeader),this.elements=element,this.highlightItems=object_header_toConsumableArray(element.querySelectorAll("[data-highlight-item]")),this.init()}return object_header_createClass(ObjectHeader,null,[{key:"init",value:function(){var el=document.querySelector("[data-highlight]");return el?new ObjectHeader(el):null}}]),object_header_createClass(ObjectHeader,[{key:"init",value:function(){this.highlightItems.length&&this.bindEvents()}},{key:"bindEvents",value:function(){var _this=this;document.addEventListener("scroll",function(){var elementWithMaxOverlap,clientBottom=document.documentElement.clientHeight,maxOverlap=0;_this.highlightItems.forEach(function(item){var target=document.querySelector(item.getAttribute("href"));if(target){var targetRect=target.getBoundingClientRect();if(targetRect.top>0&&targetRect.top<clientBottom){var overlap=clientBottom-targetRect.top;overlap>maxOverlap&&(elementWithMaxOverlap=item,maxOverlap=overlap)}else if(targetRect.bottom>0&&targetRect.bottom<clientBottom){var _overlap=targetRect.bottom;_overlap>maxOverlap&&(elementWithMaxOverlap=item,maxOverlap=_overlap)}else targetRect.top<=0&&targetRect.bottom>=0&&(elementWithMaxOverlap=item,maxOverlap=clientBottom)}}),elementWithMaxOverlap&&elementWithMaxOverlap!==_this.previousActiveElement?(_this.previousActiveElement&&_this.previousActiveElement.classList.remove("is-active"),_this.previousActiveElement=elementWithMaxOverlap,elementWithMaxOverlap.classList.add("is-active")):!elementWithMaxOverlap&&_this.previousActiveElement&&(_this.previousActiveElement.classList.remove("is-active"),_this.previousActiveElement=null)})}}]),ObjectHeader}();function code_copier_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var CodeCopier=function(){function CodeCopier(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CodeCopier),this.input=document.querySelector(options.input),this.button=document.querySelector(options.button)}var Constructor,protoProps,staticProps;return Constructor=CodeCopier,(protoProps=[{key:"init",value:function(){var _this=this;this.input&&this.button&&this.button.addEventListener("click",function(){return _this.copy()})}},{key:"copy",value:function(){var _this2=this;this.input.disabled=!1,this.input.select(),document.execCommand("copy"),this.input.disabled=!0,window.getSelection().removeAllRanges(),this.button.innerText="Скопировано!",setTimeout(function(){_this2.button.innerText="Скопировать код"},500)}}])&&code_copier_defineProperties(Constructor.prototype,protoProps),staticProps&&code_copier_defineProperties(Constructor,staticProps),CodeCopier}();function developer_description_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var developer_description_DeveloperDescription=function(){var Constructor,protoProps,staticProps;function DeveloperDescription(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeveloperDescription),this.element=element,this.ps=new perfect_scrollbar_esm.a(this.element,{suppressScrollX:!0})}return Constructor=DeveloperDescription,staticProps=[{key:"init",value:function(){var element=document.querySelector("[data-developer-description]");if(element)return new DeveloperDescription(element)}}],(protoProps=null)&&developer_description_defineProperties(Constructor.prototype,protoProps),staticProps&&developer_description_defineProperties(Constructor,staticProps),DeveloperDescription}(),developers_badge=__webpack_require__(257);function developer_info_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function developer_info_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function developer_info_createClass(Constructor,protoProps,staticProps){return protoProps&&developer_info_defineProperties(Constructor.prototype,protoProps),staticProps&&developer_info_defineProperties(Constructor,staticProps),Constructor}var developer_info_DeveloperInfo=function(){function DeveloperInfo(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeveloperInfo),this.element=element,this.init()}return developer_info_createClass(DeveloperInfo,null,[{key:"init",value:function(){var element=document.querySelector(".developer-info-n-2");if(element)return new DeveloperInfo(element)}}]),developer_info_createClass(DeveloperInfo,[{key:"init",value:function(){this.initBadges()}},{key:"initBadges",value:function(){this.developerBadges=developer_info_toConsumableArray(this.element.querySelectorAll("[data-stats-badge]")),this.developerBadges.forEach(function(badge){return new developers_badge.a(badge)})}}]),DeveloperInfo}(),tingle_min=__webpack_require__(112),tingle_min_default=__webpack_require__.n(tingle_min);function developer_managers_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function developer_managers_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function developer_managers_createClass(Constructor,protoProps,staticProps){return protoProps&&developer_managers_defineProperties(Constructor.prototype,protoProps),staticProps&&developer_managers_defineProperties(Constructor,staticProps),Constructor}var STATES_OPEN="open",STATES_CLOSED="closed",developer_managers_DeveloperManagers=function(){function DeveloperManagers(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeveloperManagers),this.element=element,this.managerUrl=this.element.getAttribute("data-developer-url"),this.managersUrl=this.element.getAttribute("data-request-url"),this.managerUrl&&this.managersUrl&&(this.managers=developer_managers_toConsumableArray(this.element.querySelectorAll(".developer-managers__list-item")),this.managersListButton=this.element.querySelector(".developer-managers__controls button"),this.managerAboutButtons=developer_managers_toConsumableArray(this.element.querySelectorAll(".developer-manager__more-button button")),this.visibleList=this.element.querySelector(".developer-managers__list"),this.controlsContainer=this.element.querySelector("[data-developer-managers-more]"),this.init(),this.bindEvents())}return developer_managers_createClass(DeveloperManagers,null,[{key:"init",value:function(){developer_managers_toConsumableArray(document.querySelectorAll("[data-developer-managers]")).forEach(function(element){return new DeveloperManagers(element)})}}]),developer_managers_createClass(DeveloperManagers,[{key:"init",value:function(){var _this=this;this.managersModal=new tingle_min_default.a.modal({footer:!1,stickyFooter:!1,closeMethods:["overlay","escape"],cssClass:["developer-managers__modal"],beforeOpen:function(){_this.handleModalContentChange()},onOpen:function(){_this.modalState=STATES_OPEN},onClose:function(){_this.modalState=STATES_CLOSED}})}},{key:"bindEvents",value:function(){var _this2=this;this.managersListButton&&this.managersListButton.addEventListener("click",function(){_this2.handleManagersListClick()}),this.managerAboutButtons&&this.managerAboutButtons.forEach(function(button){button.addEventListener("click",function(event){_this2.handleManagerAboutClick(event.currentTarget)})})}},{key:"handleModalContentChange",value:function(){var _this3=this,textBlock=this.managersModal.modal.querySelector(".developer-managers__modal .developer-manager__description-container"),managersList=this.managersModal.modal.querySelector(".developer-managers__modal-list-wrapper"),closeButton=this.managersModal.modal.querySelector(".developer-managers__modal .tingle-modal__close"),backButton=this.managersModal.modal.querySelector(".developer-managers__modal-control .button-n-2");textBlock&&new perfect_scrollbar_esm.a(textBlock),managersList&&new perfect_scrollbar_esm.a(managersList),closeButton&&closeButton.addEventListener("click",function(){return _this3.managersModal.close()}),backButton&&backButton.addEventListener("click",function(){_this3.managersListContent?(_this3.managersModal.setContent(_this3.managersListContent),_this3.handleModalContentChange()):_this3.handleManagersListClick()}),developer_managers_toConsumableArray(this.managersModal.modal.querySelectorAll(".developer-manager__more-button button")).forEach(function(button){button.addEventListener("click",function(event){_this3.handleManagerAboutClick(event.currentTarget)})})}},{key:"handleManagersListClick",value:function(){var _this4=this;this.request(this.managersUrl).then(function(result){_this4.managersListContent=result,_this4.managersModal.setContent(result),_this4.handleModalContentChange(),_this4.managersModal.open()})}},{key:"handleManagerAboutClick",value:function(aboutButton){var _this5=this,id=aboutButton.getAttribute("data-manager-id");this.request(this.managerUrl,{id:id}).then(function(result){_this5.managersModal.setContent('\n          <div class="developer-managers__modal-single">\n            <div class="developer-managers__modal-control">\n              <button class="button-n-2 button-n-2_theme_light-grey button-n-2_type_full-width button-n-2_type_md button-n-2_text_sm">\n                <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.44 4.22h.01-6.69l2.1-2.1c.1-.11.16-.25.16-.4a.55.55 0 0 0-.15-.39l-.33-.32a.54.54 0 0 0-.39-.16.54.54 0 0 0-.38.16L.16 4.6c-.1.1-.16.24-.16.39 0 .15.06.28.16.39l3.6 3.6c.1.1.25.16.4.16.14 0 .28-.05.38-.16l.33-.32a.54.54 0 0 0 0-.77L2.74 5.78h6.7c.3 0 .56-.26.56-.56v-.46c0-.3-.26-.54-.56-.54z" fill="#071321"/></svg>\n                Назад ко всем руководителям\n              </button>\n            </div>\n            '.concat(result,'\n            <button class="tingle-modal__close">\n              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3.3a1 1 0 1 1 1.4 1.4L8.42 7l5.3 5.3a1 1 0 0 1-1.42 1.4L7 8.42l-5.3 5.3a1 1 0 0 1-1.4-1.42L5.58 7 .29 1.7A1 1 0 0 1 1.71.3L7 5.58l5.3-5.3z" fill="#071321"/></svg>\n            </button>\n          </div> \n        ')),_this5.handleModalContentChange(),_this5.isModalOpen||_this5.managersModal.open()})}},{key:"request",value:function(url,params){var _this6=this;return this.managersModal.modal.classList.add("is-loading"),axios_default.a.get(url,{params:params}).then(function(_ref){var data=_ref.data;if(data)return data}).finally(function(){_this6.managersModal.modal.classList.remove("is-loading")})}},{key:"isModalOpen",get:function(){return this.modalState===STATES_OPEN}}]),DeveloperManagers}(),zoom=(__webpack_require__(99),__webpack_require__(100),__webpack_require__(101),__webpack_require__(108)),fullscreen=__webpack_require__(115),createItem=__webpack_require__(237),favorite=__webpack_require__(42),compare_storage=__webpack_require__(61),Observer=__webpack_require__(116),content_search_helpers=__webpack_require__(35);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function developer_map_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function developer_map_createClass(Constructor,protoProps,staticProps){return protoProps&&developer_map_defineProperties(Constructor.prototype,protoProps),staticProps&&developer_map_defineProperties(Constructor,staticProps),Constructor}var developer_map_DeveloperMap=function(){function DeveloperMap(element){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeveloperMap),this.observer=new Observer.a,this.element=element,this.url=this.element.getAttribute("data-request-url"),this.map=this.element.querySelector(".developer-map__map-wrapper"),this.mapInnerContent=this.element.querySelector(".developer-map__map-content"),this.infrastructureForm=this.element.querySelector(".infrastructure-n-2-select__form"),this.customIcon={iconLayout:"default#image",iconImageSize:[18,18],iconImageOffset:[-17,-17]},this.imageLink="localhost"===window.location.hostname?"/static/img/minified-svg/":"/build-redesign/static/img/minified-svg/",this.init(),this.bindEvents(),window.ymaps?this.bindMapEvents():window.ymapsObserver.subscribe(function(){_this.bindMapEvents()})}return developer_map_createClass(DeveloperMap,null,[{key:"init",value:function(){var element=document.querySelector(".developer-map");if(element)return new DeveloperMap(element)}}]),developer_map_createClass(DeveloperMap,[{key:"bindEvents",value:function(){var _this2=this;this.infrastructureForm.addEventListener("change",function(){_this2.request()})}},{key:"init",value:function(){this.request()}},{key:"bindMapEvents",value:function(){var _this3=this;this.ymaps=window.ymaps,this.ymaps.ready(function(){_this3.initMap()})}},{key:"initMap",value:function(){var _this4=this,zoomControl=Object(zoom.a)(this.ymaps,{bottom:"30px",left:"30px"}),fullscreenControl=Object(fullscreen.a)(this.ymaps,{bottom:"122px",left:"30px"});fullscreenControl.events.add("fullscreenenter",function(){_this4.mapInnerContent.classList.add("is-fullscreen")}),fullscreenControl.events.add("fullscreenexit",function(){_this4.mapInnerContent.classList.remove("is-fullscreen")}),this.objectsMap=new this.ymaps.Map(this.map,{center:[55.7156053517751,37.4754233558197],zoom:16,controls:[]},{suppressMapOpenBlock:!0}),this.objectsMap.behaviors.disable("scrollZoom"),this.objectsMap.events.add("click",function(){_this4.objectsMap.balloon.close()}),this.objectsMap.events.add("balloonopen",function(){_this4.hideMapContent();var mapRootContainer=_this4.objectsMap.container.getElement();setTimeout(function(){phone_number.a.init(mapRootContainer),complex_item_slider.a.init(mapRootContainer),favorite.a.init(mapRootContainer),compare_storage.a.init(mapRootContainer)},100)}),this.objectsMap.events.add("balloonclose",function(){_this4.showMapContent()}),this.objectsMap.controls.add(zoomControl),this.objectsMap.controls.add(fullscreenControl),this.objectsManager=new this.ymaps.ObjectManager({clusterize:!1}),this.objectsManager.objects.events.add("click",function(e){var currentItemId=e.get("objectId");_this4.selectedPlacemarkId!==currentItemId&&(_this4.selectedPlacemarkId&&_this4.resetPlacemarkIcon(currentItemId),_this4.selectedPlacemarkId=currentItemId)}),this.placemarks?this.renderMapPlacemarks():this.observer.subscribe(function(){return _this4.renderMapPlacemarks()})}},{key:"renderMapPlacemarks",value:function(){this.placemarks.length&&(this.objectsManager.removeAll(),this.objectsManager.add({type:"FeatureCollection",features:this.placemarks}),this.objectsMap.geoObjects.add(this.objectsManager),this.objectsMap.setBounds(this.objectsManager.getBounds(),{checkZoomRange:!0}))}},{key:"request",value:function(){var _this5=this,query=Object(content_search_helpers.c)(this.infrastructureForm);return axios_default.a.get("".concat(this.url,"?").concat(query)).then(function(response){var data=response.data;data&&data.items&&_this5.onRequest(data.items)})}},{key:"onRequest",value:function(items){var _this6=this,placemarksToAppend=[],iconsMap={inprogress:"red",done:"green",project:"yellow"};items.forEach(function(item){var id=item.id,location=item.location,state=item.state,icon=_objectSpread({},_this6.customIcon);location instanceof Array||(location=JSON.parse(location)),id||(id=Math.floor(1e5*Math.random())),icon.iconImageHref="".concat(_this6.imageLink,"maps-baloon-").concat(iconsMap[state],".svg");var balloonContainer=document.createElement("div");balloonContainer.className="search-map__balloon",placemarksToAppend.push({type:"Feature",id:id,options:_objectSpread({},icon,{openEmptyBalloon:!0,balloonOffset:[-10,-10]}),properties:{id:id,originalIcon:icon.iconImageHref,balloonContent:Object(createItem.a)(item,balloonContainer).outerHTML,data:item},geometry:{type:"Point",coordinates:location[0][0]}})}),this.placemarks=placemarksToAppend,this.observer.broadcast("Data fetched")}},{key:"showMapContent",value:function(){this.mapInnerContent&&TweenLite.c.to(this.mapInnerContent,.3,{y:0,opacity:1,display:"block",ease:"Power1.easeOut"})}},{key:"hideMapContent",value:function(){this.mapInnerContent&&TweenLite.c.to(this.mapInnerContent,.3,{y:-30,opacity:0,display:"none",ease:"Power1.easeOut"})}},{key:"resetPlacemarkIcon",value:function(){var itemOriginalIcon=this.objectsManager.objects.getById(this.selectedPlacemarkId).properties.originalIcon;this.objectsManager.objects.setObjectOptions(this.selectedPlacemarkId,{iconImageHref:itemOriginalIcon}),this.selectedPlacemarkId=null}}]),DeveloperMap}();function developer_objects_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function developer_objects_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function developer_objects_createClass(Constructor,protoProps,staticProps){return protoProps&&developer_objects_defineProperties(Constructor.prototype,protoProps),staticProps&&developer_objects_defineProperties(Constructor,staticProps),Constructor}var RANGES=[{minWidth:0,maxWidth:768,count:2},{minWidth:768,maxWidth:1024,count:2},{minWidth:1024,maxWidth:1280,count:3},{minWidth:1024,maxWidth:Number.MAX_SAFE_INTEGER,count:4}],developer_objects_DeveloperObjects=function(){function DeveloperObjects(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeveloperObjects),this.moveTo=new moveTo_default.a,this.element=element,this.url=this.element.getAttribute("data-url")||"developer-object.json",this.visibleList=this.element.querySelector(".developer-objects__list"),this.hiddenList=this.element.querySelector(".developer-objects__list_hidden"),this.controlsContainer=this.element.querySelector(".developer-objects__controls"),this.control=this.controlsContainer.querySelector(".button-n-2"),this.controlText=this.control.querySelector("[data-accordion-text]"),this.init(),this.bindEvents()}return developer_objects_createClass(DeveloperObjects,null,[{key:"init",value:function(){return developer_objects_toConsumableArray(document.querySelectorAll(".developer-objects")).forEach(function(element){return new DeveloperObjects(element)})}}]),developer_objects_createClass(DeveloperObjects,[{key:"init",value:function(){this.handleResize(),this.request()}},{key:"bindEvents",value:function(){var _this=this;window.addEventListener("resize",function(){return _this.handleResize()}),this.control&&this.control.addEventListener("click",function(){"Свернуть"===_this.controlText.innerText&&_this.moveTo.move(_this.element,{tolerance:56})})}},{key:"handleResize",value:function(){var currentWidth=window.innerWidth;if(this.currentRange=RANGES.find(function(range){return range.minWidth<=currentWidth&&range.maxWidth>currentWidth}),this.currentRange&&this.items){var count=this.currentRange.count,visibleItemsCount=this.visibleList.childElementCount;if(visibleItemsCount<count)for(var i=0;i<count&&i<this.items.length;i++){var object=this.items[i];this.visibleList.contains(object)||this.visibleList.appendChild(object),this.hiddenList.contains(object)&&this.hiddenList.removeChild(object)}else if(visibleItemsCount>count)for(var _i=this.items.length-1;_i>=count;_i--){var _object=this.items[_i];this.visibleList.contains(_object)&&this.visibleList.removeChild(_object),this.hiddenList.insertAdjacentElement("afterbegin",_object)}this.handleHiddenListChanges()}}},{key:"handleHiddenListChanges",value:function(){var itemsToShow=this.currentRange.count;if(this.itemsTotal>itemsToShow){var remainingCount=this.itemsTotal-itemsToShow;this.controlText.innerText="Показать еще ".concat(remainingCount," ").concat(Object(formatTextEndings.a)(remainingCount,"объект",["ов","а",""])),this.controlsContainer.classList.remove("developer-objects__controls_hidden")}else this.controlsContainer.classList.add("developer-objects__controls_hidden")}},{key:"request",value:function(){var _this2=this;return axios_default.a.get(this.url).then(function(response){var data=response.data;data&&_this2.onRequest(data)})}},{key:"onRequest",value:function(data){var _this3=this,itemsToShow=this.currentRange.count;this.visibleList.innerHTML="",this.hiddenList.innerHTML="";var items=[];data.items.forEach(function(item,index){var complexWrapper=document.createElement("div");complexWrapper.className="developer-objects__list-item col col col_lg-3 col col_md-4 col col_sm-6 col col_xs-2";var complex=Object(createItem.a)(item,complexWrapper);index<itemsToShow?_this3.visibleList.appendChild(complex):_this3.hiddenList.appendChild(complex),items.push(complex)}),setTimeout(function(){phone_number.a.init(_this3.element),favorite.a.init(_this3.element),compare_storage.a.init(_this3.element),complex_item_slider.a.init(_this3.element)},1),this.items=items,this.itemsTotal=data.items_total,this.handleHiddenListChanges()}}]),DeveloperObjects}(),gallery_listing=__webpack_require__(258),RatingCopier=new CodeCopier({input:".js-rating-code",button:".js-copy-rating"}),developers_card=[developer_description_DeveloperDescription,developer_info_DeveloperInfo,developer_managers_DeveloperManagers,developer_map_DeveloperMap,developer_objects_DeveloperObjects,gallery_listing.a,RatingCopier];function videos_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function videos_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function videos_createClass(Constructor,protoProps,staticProps){return protoProps&&videos_defineProperties(Constructor.prototype,protoProps),staticProps&&videos_defineProperties(Constructor,staticProps),Constructor}var videos_VideoChapters=function(){function VideoChapters(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VideoChapters),this.element=element,this.nextButton=this.element.querySelector(".js-video-chapters-next"),this.prevButton=this.element.querySelector(".js-video-chapters-prev"),this.chapters=videos_toConsumableArray(document.querySelectorAll(".js-video-chapters-item")),this.currentChapterIndex=0,this.currentChapter=this.chapters[this.currentChapterIndex],this.bindEvents()}return videos_createClass(VideoChapters,null,[{key:"init",value:function(){var element=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(".js-video-chapters");if(element)return new VideoChapters(element)}}]),videos_createClass(VideoChapters,[{key:"bindEvents",value:function(){var _this=this;this.nextButton&&this.nextButton.addEventListener("click",function(){_this.handleChange(1)}),this.prevButton&&this.prevButton.addEventListener("click",function(){_this.handleChange(-1)})}},{key:"handleChange",value:function(direction){1===direction&&this.currentChapterIndex<this.chapters.length-1?(this.nextChapter=this.chapters[++this.currentChapterIndex],this.toggleChapters()):-1===direction&&this.currentChapterIndex>0&&(this.nextChapter=this.chapters[--this.currentChapterIndex],this.toggleChapters())}},{key:"toggleChapters",value:function(){var _this2=this;this.onChaptersChange(),TweenLite.c.to(this.currentChapter,.3,{opacity:0,y:5,onComplete:function(){_this2.currentChapter.classList.remove("is-active"),_this2.showNextChapter()}})}},{key:"showNextChapter",value:function(){this.currentChapter=this.nextChapter,this.nextChapter.classList.add("is-active"),TweenLite.c.fromTo(this.nextChapter,.25,{opacity:0,y:5},{opacity:1,y:0,onStart:function(){}})}},{key:"onChaptersChange",value:function(){this.prevButton&&(this.currentChapterIndex>0?this.prevButton.style.display="":this.prevButton.style.display="none"),this.nextButton&&(this.currentChapterIndex<this.chapters.length-1?this.nextButton.style.display="":this.nextButton.style.display="none")}}]),VideoChapters}();function item_card_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function item_card_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"default",function(){return item_card_default});var item_card_default=function(){function _default(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_default),this.element=element,this.init()}var Constructor,protoProps,staticProps;return Constructor=_default,(protoProps=[{key:"init",value:function(){[apartment_prices_ApartmentPrices,object_rating_ObjectRating,flats_prices_list_FlatsPrices,object_description_ObjectDescription,object_similar_ObjectSimilar,ObjectHeader].concat(item_card_toConsumableArray(developers_card),[modal.a,videos_VideoChapters]).forEach(function(Module){return Module.init()})}}])&&item_card_defineProperties(Constructor.prototype,protoProps),staticProps&&item_card_defineProperties(Constructor,staticProps),_default}()}}]);